(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function ev(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Of={exports:{}},kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy;function A1(){if(Sy)return kl;Sy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var y in o)y!=="key"&&(h[y]=o[y])}else h=o;return o=h.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:h}}return kl.Fragment=e,kl.jsx=i,kl.jsxs=i,kl}var by;function S1(){return by||(by=1,Of.exports=A1()),Of.exports}var Z=S1(),xf={exports:{}},_t={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function b1(){if(Ry)return _t;Ry=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.iterator;function G(O){return O===null||typeof O!="object"?null:(O=V&&O[V]||O["@@iterator"],typeof O=="function"?O:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,tt={};function dt(O,Y,et){this.props=O,this.context=Y,this.refs=tt,this.updater=et||$}dt.prototype.isReactComponent={},dt.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},dt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function yt(){}yt.prototype=dt.prototype;function mt(O,Y,et){this.props=O,this.context=Y,this.refs=tt,this.updater=et||$}var Bt=mt.prototype=new yt;Bt.constructor=mt,nt(Bt,dt.prototype),Bt.isPureReactComponent=!0;var jt=Array.isArray;function Nt(){}var D={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(O,Y,et){var rt=et.ref;return{$$typeof:s,type:O,key:Y,ref:rt!==void 0?rt:null,props:et}}function x(O,Y){return C(O.type,Y,O.props)}function I(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function U(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(et){return Y[et]})}var b=/\/+/g;function $t(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):Y.toString(36)}function ue(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Nt,Nt):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function z(O,Y,et,rt,gt){var At=typeof O;(At==="undefined"||At==="boolean")&&(O=null);var Ot=!1;if(O===null)Ot=!0;else switch(At){case"bigint":case"string":case"number":Ot=!0;break;case"object":switch(O.$$typeof){case s:case e:Ot=!0;break;case A:return Ot=O._init,z(Ot(O._payload),Y,et,rt,gt)}}if(Ot)return gt=gt(O),Ot=rt===""?"."+$t(O,0):rt,jt(gt)?(et="",Ot!=null&&(et=Ot.replace(b,"$&/")+"/"),z(gt,Y,et,"",function(ja){return ja})):gt!=null&&(I(gt)&&(gt=x(gt,et+(gt.key==null||O&&O.key===gt.key?"":(""+gt.key).replace(b,"$&/")+"/")+Ot)),Y.push(gt)),1;Ot=0;var Ve=rt===""?".":rt+":";if(jt(O))for(var ie=0;ie<O.length;ie++)rt=O[ie],At=Ve+$t(rt,ie),Ot+=z(rt,Y,et,At,gt);else if(ie=G(O),typeof ie=="function")for(O=ie.call(O),ie=0;!(rt=O.next()).done;)rt=rt.value,At=Ve+$t(rt,ie++),Ot+=z(rt,Y,et,At,gt);else if(At==="object"){if(typeof O.then=="function")return z(ue(O),Y,et,rt,gt);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ot}function J(O,Y,et){if(O==null)return O;var rt=[],gt=0;return z(O,rt,"","",function(At){return Y.call(et,At,gt++)}),rt}function lt(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(et){(O._status===0||O._status===-1)&&(O._status=1,O._result=et)},function(et){(O._status===0||O._status===-1)&&(O._status=2,O._result=et)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var zt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ht={map:J,forEach:function(O,Y,et){J(O,function(){Y.apply(this,arguments)},et)},count:function(O){var Y=0;return J(O,function(){Y++}),Y},toArray:function(O){return J(O,function(Y){return Y})||[]},only:function(O){if(!I(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return _t.Activity=R,_t.Children=Ht,_t.Component=dt,_t.Fragment=i,_t.Profiler=o,_t.PureComponent=mt,_t.StrictMode=r,_t.Suspense=v,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,_t.__COMPILER_RUNTIME={__proto__:null,c:function(O){return D.H.useMemoCache(O)}},_t.cache=function(O){return function(){return O.apply(null,arguments)}},_t.cacheSignal=function(){return null},_t.cloneElement=function(O,Y,et){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var rt=nt({},O.props),gt=O.key;if(Y!=null)for(At in Y.key!==void 0&&(gt=""+Y.key),Y)!S.call(Y,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&Y.ref===void 0||(rt[At]=Y[At]);var At=arguments.length-2;if(At===1)rt.children=et;else if(1<At){for(var Ot=Array(At),Ve=0;Ve<At;Ve++)Ot[Ve]=arguments[Ve+2];rt.children=Ot}return C(O.type,gt,rt)},_t.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:h,_context:O},O},_t.createElement=function(O,Y,et){var rt,gt={},At=null;if(Y!=null)for(rt in Y.key!==void 0&&(At=""+Y.key),Y)S.call(Y,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(gt[rt]=Y[rt]);var Ot=arguments.length-2;if(Ot===1)gt.children=et;else if(1<Ot){for(var Ve=Array(Ot),ie=0;ie<Ot;ie++)Ve[ie]=arguments[ie+2];gt.children=Ve}if(O&&O.defaultProps)for(rt in Ot=O.defaultProps,Ot)gt[rt]===void 0&&(gt[rt]=Ot[rt]);return C(O,At,gt)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(O){return{$$typeof:y,render:O}},_t.isValidElement=I,_t.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:lt}},_t.memo=function(O,Y){return{$$typeof:_,type:O,compare:Y===void 0?null:Y}},_t.startTransition=function(O){var Y=D.T,et={};D.T=et;try{var rt=O(),gt=D.S;gt!==null&&gt(et,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Nt,zt)}catch(At){zt(At)}finally{Y!==null&&et.types!==null&&(Y.types=et.types),D.T=Y}},_t.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},_t.use=function(O){return D.H.use(O)},_t.useActionState=function(O,Y,et){return D.H.useActionState(O,Y,et)},_t.useCallback=function(O,Y){return D.H.useCallback(O,Y)},_t.useContext=function(O){return D.H.useContext(O)},_t.useDebugValue=function(){},_t.useDeferredValue=function(O,Y){return D.H.useDeferredValue(O,Y)},_t.useEffect=function(O,Y){return D.H.useEffect(O,Y)},_t.useEffectEvent=function(O){return D.H.useEffectEvent(O)},_t.useId=function(){return D.H.useId()},_t.useImperativeHandle=function(O,Y,et){return D.H.useImperativeHandle(O,Y,et)},_t.useInsertionEffect=function(O,Y){return D.H.useInsertionEffect(O,Y)},_t.useLayoutEffect=function(O,Y){return D.H.useLayoutEffect(O,Y)},_t.useMemo=function(O,Y){return D.H.useMemo(O,Y)},_t.useOptimistic=function(O,Y){return D.H.useOptimistic(O,Y)},_t.useReducer=function(O,Y,et){return D.H.useReducer(O,Y,et)},_t.useRef=function(O){return D.H.useRef(O)},_t.useState=function(O){return D.H.useState(O)},_t.useSyncExternalStore=function(O,Y,et){return D.H.useSyncExternalStore(O,Y,et)},_t.useTransition=function(){return D.H.useTransition()},_t.version="19.2.4",_t}var wy;function pd(){return wy||(wy=1,xf.exports=b1()),xf.exports}var Re=pd();const R1=ev(Re);var Mf={exports:{}},Hl={},zf={exports:{}},Uf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function w1(){return Cy||(Cy=1,(function(s){function e(z,J){var lt=z.length;z.push(J);t:for(;0<lt;){var zt=lt-1>>>1,Ht=z[zt];if(0<o(Ht,J))z[zt]=J,z[lt]=Ht,lt=zt;else break t}}function i(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var J=z[0],lt=z.pop();if(lt!==J){z[0]=lt;t:for(var zt=0,Ht=z.length,O=Ht>>>1;zt<O;){var Y=2*(zt+1)-1,et=z[Y],rt=Y+1,gt=z[rt];if(0>o(et,lt))rt<Ht&&0>o(gt,et)?(z[zt]=gt,z[rt]=lt,zt=rt):(z[zt]=et,z[Y]=lt,zt=Y);else if(rt<Ht&&0>o(gt,lt))z[zt]=gt,z[rt]=lt,zt=rt;else break t}}return J}function o(z,J){var lt=z.sortIndex-J.sortIndex;return lt!==0?lt:z.id-J.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();s.unstable_now=function(){return d.now()-y}}var v=[],_=[],A=1,R=null,V=3,G=!1,$=!1,nt=!1,tt=!1,dt=typeof setTimeout=="function"?setTimeout:null,yt=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function Bt(z){for(var J=i(_);J!==null;){if(J.callback===null)r(_);else if(J.startTime<=z)r(_),J.sortIndex=J.expirationTime,e(v,J);else break;J=i(_)}}function jt(z){if(nt=!1,Bt(z),!$)if(i(v)!==null)$=!0,Nt||(Nt=!0,U());else{var J=i(_);J!==null&&ue(jt,J.startTime-z)}}var Nt=!1,D=-1,S=5,C=-1;function x(){return tt?!0:!(s.unstable_now()-C<S)}function I(){if(tt=!1,Nt){var z=s.unstable_now();C=z;var J=!0;try{t:{$=!1,nt&&(nt=!1,yt(D),D=-1),G=!0;var lt=V;try{e:{for(Bt(z),R=i(v);R!==null&&!(R.expirationTime>z&&x());){var zt=R.callback;if(typeof zt=="function"){R.callback=null,V=R.priorityLevel;var Ht=zt(R.expirationTime<=z);if(z=s.unstable_now(),typeof Ht=="function"){R.callback=Ht,Bt(z),J=!0;break e}R===i(v)&&r(v),Bt(z)}else r(v);R=i(v)}if(R!==null)J=!0;else{var O=i(_);O!==null&&ue(jt,O.startTime-z),J=!1}}break t}finally{R=null,V=lt,G=!1}J=void 0}}finally{J?U():Nt=!1}}}var U;if(typeof mt=="function")U=function(){mt(I)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,$t=b.port2;b.port1.onmessage=I,U=function(){$t.postMessage(null)}}else U=function(){dt(I,0)};function ue(z,J){D=dt(function(){z(s.unstable_now())},J)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(z){z.callback=null},s.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<z?Math.floor(1e3/z):5},s.unstable_getCurrentPriorityLevel=function(){return V},s.unstable_next=function(z){switch(V){case 1:case 2:case 3:var J=3;break;default:J=V}var lt=V;V=J;try{return z()}finally{V=lt}},s.unstable_requestPaint=function(){tt=!0},s.unstable_runWithPriority=function(z,J){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var lt=V;V=z;try{return J()}finally{V=lt}},s.unstable_scheduleCallback=function(z,J,lt){var zt=s.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?zt+lt:zt):lt=zt,z){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=lt+Ht,z={id:A++,callback:J,priorityLevel:z,startTime:lt,expirationTime:Ht,sortIndex:-1},lt>zt?(z.sortIndex=lt,e(_,z),i(v)===null&&z===i(_)&&(nt?(yt(D),D=-1):nt=!0,ue(jt,lt-zt))):(z.sortIndex=Ht,e(v,z),$||G||($=!0,Nt||(Nt=!0,U()))),z},s.unstable_shouldYield=x,s.unstable_wrapCallback=function(z){var J=V;return function(){var lt=V;V=J;try{return z.apply(this,arguments)}finally{V=lt}}}})(Uf)),Uf}var Dy;function C1(){return Dy||(Dy=1,zf.exports=w1()),zf.exports}var Lf={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy;function D1(){if(Vy)return Qe;Vy=1;var s=pd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,A){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:R==null?null:""+R,children:v,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Qe.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},Qe.flushSync=function(v){var _=d.T,A=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=_,r.p=A,r.d.f()}},Qe.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(v,_))},Qe.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},Qe.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,R=y(A,_.crossOrigin),V=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?r.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:R,integrity:V,fetchPriority:G}):A==="script"&&r.d.X(v,{crossOrigin:R,integrity:V,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Qe.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=y(_.as,_.crossOrigin);r.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(v)},Qe.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,R=y(A,_.crossOrigin);r.d.L(v,A,{crossOrigin:R,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Qe.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=y(_.as,_.crossOrigin);r.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(v)},Qe.requestFormReset=function(v){r.d.r(v)},Qe.unstable_batchedUpdates=function(v,_){return v(_)},Qe.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.2.4",Qe}var Ny;function V1(){if(Ny)return Lf.exports;Ny=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Lf.exports=D1(),Lf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy;function N1(){if(Iy)return Hl;Iy=1;var s=C1(),e=pd(),i=V1();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(h(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return v(c),t;if(f===l)return v(c),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=c,l=f;else{for(var g=!1,E=c.child;E;){if(E===a){g=!0,a=c,l=f;break}if(E===l){g=!0,l=c,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,l=c;break}if(E===l){g=!0,l=f,a=c;break}E=E.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var R=Object.assign,V=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),dt=Symbol.for("react.profiler"),yt=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),Bt=Symbol.for("react.forward_ref"),jt=Symbol.for("react.suspense"),Nt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var b=Symbol.for("react.client.reference");function $t(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===b?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case nt:return"Fragment";case dt:return"Profiler";case tt:return"StrictMode";case jt:return"Suspense";case Nt:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case $:return"Portal";case mt:return t.displayName||"Context";case yt:return(t._context.displayName||"Context")+".Consumer";case Bt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return n=t.displayName||null,n!==null?n:$t(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return $t(t(n))}catch{}}return null}var ue=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},zt=[],Ht=-1;function O(t){return{current:t}}function Y(t){0>Ht||(t.current=zt[Ht],zt[Ht]=null,Ht--)}function et(t,n){Ht++,zt[Ht]=t.current,t.current=n}var rt=O(null),gt=O(null),At=O(null),Ot=O(null);function Ve(t,n){switch(et(At,n),et(gt,t),et(rt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Qp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Qp(n),t=Yp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(rt),et(rt,t)}function ie(){Y(rt),Y(gt),Y(At)}function ja(t){t.memoizedState!==null&&et(Ot,t);var n=rt.current,a=Yp(n,t.type);n!==a&&(et(gt,t),et(rt,a))}function wr(t){gt.current===t&&(Y(rt),Y(gt)),Ot.current===t&&(Y(Ot),Bl._currentValue=lt)}var Cr,Dr;function Kn(t){if(Cr===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Cr=n&&n[1]||"",Dr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Cr+t+Dr}var Bs=!1;function Pa(t,n){if(!t||Bs)return"";Bs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(k){var P=k}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(k){P=k}t.call(Q.prototype)}}else{try{throw Error()}catch(k){P=k}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(k){if(k&&P&&typeof k.stack=="string")return[k.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var w=g.split(`
`),j=E.split(`
`);for(c=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;c<j.length&&!j[c].includes("DetermineComponentFrameRoot");)c++;if(l===w.length||c===j.length)for(l=w.length-1,c=j.length-1;1<=l&&0<=c&&w[l]!==j[c];)c--;for(;1<=l&&0<=c;l--,c--)if(w[l]!==j[c]){if(l!==1||c!==1)do if(l--,c--,0>c||w[l]!==j[c]){var H=`
`+w[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=c);break}}}finally{Bs=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Kn(a):""}function js(t,n){switch(t.tag){case 26:case 27:case 5:return Kn(t.type);case 16:return Kn("Lazy");case 13:return t.child!==n&&n!==null?Kn("Suspense Fallback"):Kn("Suspense");case 19:return Kn("SuspenseList");case 0:case 15:return Pa(t.type,!1);case 11:return Pa(t.type.render,!1);case 1:return Pa(t.type,!0);case 31:return Kn("Activity");default:return""}}function Ps(t){try{var n="",a=null;do n+=js(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ge=Object.prototype.hasOwnProperty,Ne=s.unstable_scheduleCallback,Qi=s.unstable_cancelCallback,xc=s.unstable_shouldYield,yo=s.unstable_requestPaint,Ze=s.unstable_now,qa=s.unstable_getCurrentPriorityLevel,qs=s.unstable_ImmediatePriority,ks=s.unstable_UserBlockingPriority,Yi=s.unstable_NormalPriority,Mc=s.unstable_LowPriority,_o=s.unstable_IdlePriority,vo=s.log,Eo=s.unstable_setDisableYieldValue,xn=null,Le=null;function vn(t){if(typeof vo=="function"&&Eo(t),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(xn,t)}catch{}}var ce=Math.clz32?Math.clz32:Ao,To=Math.log,Vr=Math.LN2;function Ao(t){return t>>>=0,t===0?32:31-(To(t)/Vr|0)|0}var Xn=256,ka=262144,pe=4194304;function Zn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Jn(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Zn(l):(g&=E,g!==0?c=Zn(g):a||(a=E&~t,a!==0&&(c=Zn(a))))):(E=l&~f,E!==0?c=Zn(E):g!==0?c=Zn(g):a||(a=l&~t,a!==0&&(c=Zn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function Mn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function zc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function So(){var t=pe;return pe<<=1,(pe&62914560)===0&&(pe=4194304),t}function $n(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Ha(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Uc(t,n,a,l,c,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,w=t.expirationTimes,j=t.hiddenUpdates;for(a=g&~a;0<a;){var H=31-ce(a),Q=1<<H;E[H]=0,w[H]=-1;var P=j[H];if(P!==null)for(j[H]=null,H=0;H<P.length;H++){var k=P[H];k!==null&&(k.lane&=-536870913)}a&=~Q}l!==0&&Ga(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Ga(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ce(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Hs(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-ce(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Gs(t,n){var a=n&-n;return a=(a&42)!==0?1:Fa(a),(a&(t.suspendedLanes|n))!==0?0:a}function Fa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function bi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function bo(){var t=J.p;return t!==0?t:(t=window.event,t===void 0?32:py(t.type))}function zn(t,n){var a=J.p;try{return J.p=t,n()}finally{J.p=a}}var Un=Math.random().toString(36).slice(2),ye="__reactFiber$"+Un,xe="__reactProps$"+Un,Wn="__reactContainer$"+Un,Nr="__reactEvents$"+Un,Lc="__reactListeners$"+Un,Ro="__reactHandles$"+Un,wo="__reactResources$"+Un,ti="__reactMarker$"+Un;function Ir(t){delete t[ye],delete t[xe],delete t[Nr],delete t[Lc],delete t[Ro]}function ei(t){var n=t[ye];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Wn]||a[ye]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=ty(t);t!==null;){if(a=t[ye])return a;t=ty(t)}return n}t=a,a=t.parentNode}return null}function En(t){if(t=t[ye]||t[Wn]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function un(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function ni(t){var n=t[wo];return n||(n=t[wo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _e(t){t[ti]=!0}var Fs=new Set,Qs={};function ii(t,n){ai(t,n),ai(t+"Capture",n)}function ai(t,n){for(Qs[t]=n,t=0;t<n.length;t++)Fs.add(n[t])}var Ys=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ks={},Xs={};function Co(t){return ge.call(Xs,t)?!0:ge.call(Ks,t)?!1:Ys.test(t)?Xs[t]=!0:(Ks[t]=!0,!1)}function Or(t,n,a){if(Co(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function cn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function ve(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Me(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ki(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Zs(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Gt(t){if(!t._valueTracker){var n=Ki(t)?"checked":"value";t._valueTracker=Zs(t,n,""+t[n])}}function Qa(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Ki(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ri(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ya=/[\n"\\]/g;function We(t){return t.replace(Ya,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function xr(t,n,a,l,c,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Me(n)):t.value!==""+Me(n)&&(t.value=""+Me(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Js(t,g,Me(n)):a!=null?Js(t,g,Me(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Me(E):t.removeAttribute("name")}function Do(t,n,a,l,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(t);return}a=a!=null?""+Me(a):"",n=n!=null?""+Me(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Gt(t)}function Js(t,n,a){n==="number"&&ri(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Xi(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Me(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Vo(t,n,a){if(n!=null&&(n=""+Me(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Me(a):""}function Zi(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(ue(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Me(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Gt(t)}function tn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var No=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $s(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||No.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Ws(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&$s(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&$s(t,f,n[f])}function Mr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Io=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ji=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zr(t){return Ji.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ln(){}var tl=null;function Tn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $i=null,si=null;function Ka(t){var n=En(t);if(n&&(t=n.stateNode)){var a=t[xe]||null;t:switch(t=n.stateNode,n.type){case"input":if(xr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+We(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[xe]||null;if(!c)throw Error(r(90));xr(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Qa(l)}break t;case"textarea":Vo(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Xi(t,!!a.multiple,n,!1)}}}var Ur=!1;function Wi(t,n,a){if(Ur)return t(n,a);Ur=!0;try{var l=t(n);return l}finally{if(Ur=!1,($i!==null||si!==null)&&(bu(),$i&&(n=$i,t=si,si=$i=null,Ka(n),t)))for(n=0;n<t.length;n++)Ka(t[n])}}function Bn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[xe]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xa=!1;if(An)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){Xa=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{Xa=!1}var li=null,el=null,Za=null;function nl(){if(Za)return Za;var t,n=el,a=n.length,l,c="value"in li?li.value:li.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===c[f-l];l++);return Za=c.slice(t,1<l?1-l:void 0)}function Ja(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ri(){return!0}function jn(){return!1}function Be(t){function n(a,l,c,f,g){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ri:jn,this.isPropagationStopped=jn,this}return R(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ri)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ri)},persist:function(){},isPersistent:Ri}),n}var wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oi=Be(wi),ta=R({},wi,{view:0,detail:0}),il=Be(ta),ea,Lr,ui,Br=R({},ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:na,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ui&&(ui&&t.type==="mousemove"?(ea=t.screenX-ui.screenX,Lr=t.screenY-ui.screenY):Lr=ea=0,ui=t),ea)},movementY:function(t){return"movementY"in t?t.movementY:Lr}}),al=Be(Br),$a=R({},Br,{dataTransfer:0}),Oo=Be($a),xo=R({},ta,{relatedTarget:0}),Wa=Be(xo),rl=R({},wi,{animationName:0,elapsedTime:0,pseudoElement:0}),Mo=Be(rl),jr=R({},wi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zo=Be(jr),Uo=R({},wi,{data:0}),ci=Be(Uo),Lo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Po(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=jo[t])?!!n[t]:!1}function na(){return Po}var Je=R({},ta,{key:function(t){if(t.key){var n=Lo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ja(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:na,charCode:function(t){return t.type==="keypress"?Ja(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ja(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qo=Be(Je),ko=R({},Br,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ci=Be(ko),u=R({},ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:na}),m=Be(u),p=R({},wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Be(p),L=R({},Br,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Be(L),W=R({},wi,{newState:0,oldState:0}),Et=Be(W),he=[9,13,27,32],Pt=An&&"CompositionEvent"in window,ae=null;An&&"documentMode"in document&&(ae=document.documentMode);var Sn=An&&"TextEvent"in window&&!ae,hi=An&&(!Pt||ae&&8<ae&&11>=ae),Pn=" ",qn=!1;function tr(t,n){switch(t){case"keyup":return he.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qr=!1;function Q0(t,n){switch(t){case"compositionend":return Pr(n);case"keypress":return n.which!==32?null:(qn=!0,Pn);case"textInput":return t=n.data,t===Pn&&qn?null:t;default:return null}}function Y0(t,n){if(qr)return t==="compositionend"||!Pt&&tr(t,n)?(t=nl(),Za=el=li=null,qr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return hi&&n.locale!=="ko"?null:n.data;default:return null}}var K0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function im(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!K0[t.type]:n==="textarea"}function am(t,n,a,l){$i?si?si.push(l):si=[l]:$i=l,n=Iu(n,"onChange"),0<n.length&&(a=new oi("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var sl=null,ll=null;function X0(t){Pp(t,0)}function Ho(t){var n=un(t);if(Qa(n))return t}function rm(t,n){if(t==="change")return n}var sm=!1;if(An){var Bc;if(An){var jc="oninput"in document;if(!jc){var lm=document.createElement("div");lm.setAttribute("oninput","return;"),jc=typeof lm.oninput=="function"}Bc=jc}else Bc=!1;sm=Bc&&(!document.documentMode||9<document.documentMode)}function om(){sl&&(sl.detachEvent("onpropertychange",um),ll=sl=null)}function um(t){if(t.propertyName==="value"&&Ho(ll)){var n=[];am(n,ll,t,Tn(t)),Wi(X0,n)}}function Z0(t,n,a){t==="focusin"?(om(),sl=n,ll=a,sl.attachEvent("onpropertychange",um)):t==="focusout"&&om()}function J0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ho(ll)}function $0(t,n){if(t==="click")return Ho(n)}function W0(t,n){if(t==="input"||t==="change")return Ho(n)}function tE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var hn=typeof Object.is=="function"?Object.is:tE;function ol(t,n){if(hn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!ge.call(n,c)||!hn(t[c],n[c]))return!1}return!0}function cm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hm(t,n){var a=cm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=cm(a)}}function fm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?fm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function dm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ri(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ri(t.document)}return n}function Pc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var eE=An&&"documentMode"in document&&11>=document.documentMode,kr=null,qc=null,ul=null,kc=!1;function mm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kc||kr==null||kr!==ri(l)||(l=kr,"selectionStart"in l&&Pc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ul&&ol(ul,l)||(ul=l,l=Iu(qc,"onSelect"),0<l.length&&(n=new oi("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=kr)))}function er(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Hr={animationend:er("Animation","AnimationEnd"),animationiteration:er("Animation","AnimationIteration"),animationstart:er("Animation","AnimationStart"),transitionrun:er("Transition","TransitionRun"),transitionstart:er("Transition","TransitionStart"),transitioncancel:er("Transition","TransitionCancel"),transitionend:er("Transition","TransitionEnd")},Hc={},gm={};An&&(gm=document.createElement("div").style,"AnimationEvent"in window||(delete Hr.animationend.animation,delete Hr.animationiteration.animation,delete Hr.animationstart.animation),"TransitionEvent"in window||delete Hr.transitionend.transition);function nr(t){if(Hc[t])return Hc[t];if(!Hr[t])return t;var n=Hr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in gm)return Hc[t]=n[a];return t}var pm=nr("animationend"),ym=nr("animationiteration"),_m=nr("animationstart"),nE=nr("transitionrun"),iE=nr("transitionstart"),aE=nr("transitioncancel"),vm=nr("transitionend"),Em=new Map,Gc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gc.push("scrollEnd");function kn(t,n){Em.set(t,n),ii(n,[t])}var Go=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},bn=[],Gr=0,Fc=0;function Fo(){for(var t=Gr,n=Fc=Gr=0;n<t;){var a=bn[n];bn[n++]=null;var l=bn[n];bn[n++]=null;var c=bn[n];bn[n++]=null;var f=bn[n];if(bn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&Tm(a,c,f)}}function Qo(t,n,a,l){bn[Gr++]=t,bn[Gr++]=n,bn[Gr++]=a,bn[Gr++]=l,Fc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Qc(t,n,a,l){return Qo(t,n,a,l),Yo(t)}function ir(t,n){return Qo(t,null,null,n),Yo(t)}function Tm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-ce(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function Yo(t){if(50<Il)throw Il=0,ef=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Fr={};function rE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,n,a,l){return new rE(t,n,a,l)}function Yc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Di(t,n){var a=t.alternate;return a===null?(a=fn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Am(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ko(t,n,a,l,c,f){var g=0;if(l=t,typeof t=="function")Yc(t)&&(g=1);else if(typeof t=="string")g=c1(t,a,rt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case C:return t=fn(31,a,n,c),t.elementType=C,t.lanes=f,t;case nt:return ar(a.children,c,f,n);case tt:g=8,c|=24;break;case dt:return t=fn(12,a,n,c|2),t.elementType=dt,t.lanes=f,t;case jt:return t=fn(13,a,n,c),t.elementType=jt,t.lanes=f,t;case Nt:return t=fn(19,a,n,c),t.elementType=Nt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case mt:g=10;break t;case yt:g=9;break t;case Bt:g=11;break t;case D:g=14;break t;case S:g=16,l=null;break t}g=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=fn(g,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function ar(t,n,a,l){return t=fn(7,t,l,n),t.lanes=a,t}function Kc(t,n,a){return t=fn(6,t,null,n),t.lanes=a,t}function Sm(t){var n=fn(18,null,null,0);return n.stateNode=t,n}function Xc(t,n,a){return n=fn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var bm=new WeakMap;function Rn(t,n){if(typeof t=="object"&&t!==null){var a=bm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Ps(n)},bm.set(t,n),n)}return{value:t,source:n,stack:Ps(n)}}var Qr=[],Yr=0,Xo=null,cl=0,wn=[],Cn=0,ia=null,fi=1,di="";function Vi(t,n){Qr[Yr++]=cl,Qr[Yr++]=Xo,Xo=t,cl=n}function Rm(t,n,a){wn[Cn++]=fi,wn[Cn++]=di,wn[Cn++]=ia,ia=t;var l=fi;t=di;var c=32-ce(l)-1;l&=~(1<<c),a+=1;var f=32-ce(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,fi=1<<32-ce(n)+c|a<<c|l,di=f+t}else fi=1<<f|a<<c|l,di=t}function Zc(t){t.return!==null&&(Vi(t,1),Rm(t,1,0))}function Jc(t){for(;t===Xo;)Xo=Qr[--Yr],Qr[Yr]=null,cl=Qr[--Yr],Qr[Yr]=null;for(;t===ia;)ia=wn[--Cn],wn[Cn]=null,di=wn[--Cn],wn[Cn]=null,fi=wn[--Cn],wn[Cn]=null}function wm(t,n){wn[Cn++]=fi,wn[Cn++]=di,wn[Cn++]=ia,fi=n.id,di=n.overflow,ia=t}var je=null,te=null,It=!1,aa=null,Dn=!1,$c=Error(r(519));function ra(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hl(Rn(n,t)),$c}function Cm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[ye]=t,n[xe]=l,a){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(a=0;a<xl.length;a++)Rt(xl[a],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":Rt("invalid",n),Do(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Rt("invalid",n);break;case"textarea":Rt("invalid",n),Zi(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Gp(n.textContent,a)?(l.popover!=null&&(Rt("beforetoggle",n),Rt("toggle",n)),l.onScroll!=null&&Rt("scroll",n),l.onScrollEnd!=null&&Rt("scrollend",n),l.onClick!=null&&(n.onclick=Ln),n=!0):n=!1,n||ra(t,!0)}function Dm(t){for(je=t.return;je;)switch(je.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:je=je.return}}function Kr(t){if(t!==je)return!1;if(!It)return Dm(t),It=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||yf(t.type,t.memoizedProps)),a=!a),a&&te&&ra(t),Dm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));te=Wp(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));te=Wp(t)}else n===27?(n=te,va(t.type)?(t=Af,Af=null,te=t):te=n):te=je?Nn(t.stateNode.nextSibling):null;return!0}function rr(){te=je=null,It=!1}function Wc(){var t=aa;return t!==null&&(rn===null?rn=t:rn.push.apply(rn,t),aa=null),t}function hl(t){aa===null?aa=[t]:aa.push(t)}var th=O(null),sr=null,Ni=null;function sa(t,n,a){et(th,n._currentValue),n._currentValue=a}function Ii(t){t._currentValue=th.current,Y(th)}function eh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function nh(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var w=0;w<n.length;w++)if(E.context===n[w]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),eh(f.return,a,t),l||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),eh(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Xr(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=c.type;hn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===Ot.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Bl):t=[Bl])}c=c.return}t!==null&&nh(n,t,a,l),n.flags|=262144}function Zo(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function lr(t){sr=t,Ni=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Pe(t){return Vm(sr,t)}function Jo(t,n){return sr===null&&lr(t),Vm(t,n)}function Vm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ni===null){if(t===null)throw Error(r(308));Ni=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ni=Ni.next=n;return a}var sE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},lE=s.unstable_scheduleCallback,oE=s.unstable_NormalPriority,Ee={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ih(){return{controller:new sE,data:new Map,refCount:0}}function fl(t){t.refCount--,t.refCount===0&&lE(oE,function(){t.controller.abort()})}var dl=null,ah=0,Zr=0,Jr=null;function uE(t,n){if(dl===null){var a=dl=[];ah=0,Zr=of(),Jr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ah++,n.then(Nm,Nm),n}function Nm(){if(--ah===0&&dl!==null){Jr!==null&&(Jr.status="fulfilled");var t=dl;dl=null,Zr=0,Jr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function cE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Im=z.S;z.S=function(t,n){mp=Ze(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&uE(t,n),Im!==null&&Im(t,n)};var or=O(null);function rh(){var t=or.current;return t!==null?t:Jt.pooledCache}function $o(t,n){n===null?et(or,or.current):et(or,n.pool)}function Om(){var t=rh();return t===null?null:{parent:Ee._currentValue,pool:t}}var $r=Error(r(460)),sh=Error(r(474)),Wo=Error(r(542)),tu={then:function(){}};function xm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Mm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Ln,Ln),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Um(t),t;default:if(typeof n.status=="string")n.then(Ln,Ln);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Um(t),t}throw cr=n,$r}}function ur(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(cr=a,$r):a}}var cr=null;function zm(){if(cr===null)throw Error(r(459));var t=cr;return cr=null,t}function Um(t){if(t===$r||t===Wo)throw Error(r(483))}var Wr=null,ml=0;function eu(t){var n=ml;return ml+=1,Wr===null&&(Wr=[]),Mm(Wr,t,n)}function gl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function nu(t,n){throw n.$$typeof===V?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Lm(t){function n(M,N){if(t){var B=M.deletions;B===null?(M.deletions=[N],M.flags|=16):B.push(N)}}function a(M,N){if(!t)return null;for(;N!==null;)n(M,N),N=N.sibling;return null}function l(M){for(var N=new Map;M!==null;)M.key!==null?N.set(M.key,M):N.set(M.index,M),M=M.sibling;return N}function c(M,N){return M=Di(M,N),M.index=0,M.sibling=null,M}function f(M,N,B){return M.index=B,t?(B=M.alternate,B!==null?(B=B.index,B<N?(M.flags|=67108866,N):B):(M.flags|=67108866,N)):(M.flags|=1048576,N)}function g(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function E(M,N,B,F){return N===null||N.tag!==6?(N=Kc(B,M.mode,F),N.return=M,N):(N=c(N,B),N.return=M,N)}function w(M,N,B,F){var ut=B.type;return ut===nt?H(M,N,B.props.children,F,B.key):N!==null&&(N.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===S&&ur(ut)===N.type)?(N=c(N,B.props),gl(N,B),N.return=M,N):(N=Ko(B.type,B.key,B.props,null,M.mode,F),gl(N,B),N.return=M,N)}function j(M,N,B,F){return N===null||N.tag!==4||N.stateNode.containerInfo!==B.containerInfo||N.stateNode.implementation!==B.implementation?(N=Xc(B,M.mode,F),N.return=M,N):(N=c(N,B.children||[]),N.return=M,N)}function H(M,N,B,F,ut){return N===null||N.tag!==7?(N=ar(B,M.mode,F,ut),N.return=M,N):(N=c(N,B),N.return=M,N)}function Q(M,N,B){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Kc(""+N,M.mode,B),N.return=M,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case G:return B=Ko(N.type,N.key,N.props,null,M.mode,B),gl(B,N),B.return=M,B;case $:return N=Xc(N,M.mode,B),N.return=M,N;case S:return N=ur(N),Q(M,N,B)}if(ue(N)||U(N))return N=ar(N,M.mode,B,null),N.return=M,N;if(typeof N.then=="function")return Q(M,eu(N),B);if(N.$$typeof===mt)return Q(M,Jo(M,N),B);nu(M,N)}return null}function P(M,N,B,F){var ut=N!==null?N.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ut!==null?null:E(M,N,""+B,F);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case G:return B.key===ut?w(M,N,B,F):null;case $:return B.key===ut?j(M,N,B,F):null;case S:return B=ur(B),P(M,N,B,F)}if(ue(B)||U(B))return ut!==null?null:H(M,N,B,F,null);if(typeof B.then=="function")return P(M,N,eu(B),F);if(B.$$typeof===mt)return P(M,N,Jo(M,B),F);nu(M,B)}return null}function k(M,N,B,F,ut){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return M=M.get(B)||null,E(N,M,""+F,ut);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case G:return M=M.get(F.key===null?B:F.key)||null,w(N,M,F,ut);case $:return M=M.get(F.key===null?B:F.key)||null,j(N,M,F,ut);case S:return F=ur(F),k(M,N,B,F,ut)}if(ue(F)||U(F))return M=M.get(B)||null,H(N,M,F,ut,null);if(typeof F.then=="function")return k(M,N,B,eu(F),ut);if(F.$$typeof===mt)return k(M,N,B,Jo(N,F),ut);nu(N,F)}return null}function st(M,N,B,F){for(var ut=null,Ut=null,ot=N,St=N=0,Ct=null;ot!==null&&St<B.length;St++){ot.index>St?(Ct=ot,ot=null):Ct=ot.sibling;var Lt=P(M,ot,B[St],F);if(Lt===null){ot===null&&(ot=Ct);break}t&&ot&&Lt.alternate===null&&n(M,ot),N=f(Lt,N,St),Ut===null?ut=Lt:Ut.sibling=Lt,Ut=Lt,ot=Ct}if(St===B.length)return a(M,ot),It&&Vi(M,St),ut;if(ot===null){for(;St<B.length;St++)ot=Q(M,B[St],F),ot!==null&&(N=f(ot,N,St),Ut===null?ut=ot:Ut.sibling=ot,Ut=ot);return It&&Vi(M,St),ut}for(ot=l(ot);St<B.length;St++)Ct=k(ot,M,St,B[St],F),Ct!==null&&(t&&Ct.alternate!==null&&ot.delete(Ct.key===null?St:Ct.key),N=f(Ct,N,St),Ut===null?ut=Ct:Ut.sibling=Ct,Ut=Ct);return t&&ot.forEach(function(ba){return n(M,ba)}),It&&Vi(M,St),ut}function ht(M,N,B,F){if(B==null)throw Error(r(151));for(var ut=null,Ut=null,ot=N,St=N=0,Ct=null,Lt=B.next();ot!==null&&!Lt.done;St++,Lt=B.next()){ot.index>St?(Ct=ot,ot=null):Ct=ot.sibling;var ba=P(M,ot,Lt.value,F);if(ba===null){ot===null&&(ot=Ct);break}t&&ot&&ba.alternate===null&&n(M,ot),N=f(ba,N,St),Ut===null?ut=ba:Ut.sibling=ba,Ut=ba,ot=Ct}if(Lt.done)return a(M,ot),It&&Vi(M,St),ut;if(ot===null){for(;!Lt.done;St++,Lt=B.next())Lt=Q(M,Lt.value,F),Lt!==null&&(N=f(Lt,N,St),Ut===null?ut=Lt:Ut.sibling=Lt,Ut=Lt);return It&&Vi(M,St),ut}for(ot=l(ot);!Lt.done;St++,Lt=B.next())Lt=k(ot,M,St,Lt.value,F),Lt!==null&&(t&&Lt.alternate!==null&&ot.delete(Lt.key===null?St:Lt.key),N=f(Lt,N,St),Ut===null?ut=Lt:Ut.sibling=Lt,Ut=Lt);return t&&ot.forEach(function(T1){return n(M,T1)}),It&&Vi(M,St),ut}function Zt(M,N,B,F){if(typeof B=="object"&&B!==null&&B.type===nt&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case G:t:{for(var ut=B.key;N!==null;){if(N.key===ut){if(ut=B.type,ut===nt){if(N.tag===7){a(M,N.sibling),F=c(N,B.props.children),F.return=M,M=F;break t}}else if(N.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===S&&ur(ut)===N.type){a(M,N.sibling),F=c(N,B.props),gl(F,B),F.return=M,M=F;break t}a(M,N);break}else n(M,N);N=N.sibling}B.type===nt?(F=ar(B.props.children,M.mode,F,B.key),F.return=M,M=F):(F=Ko(B.type,B.key,B.props,null,M.mode,F),gl(F,B),F.return=M,M=F)}return g(M);case $:t:{for(ut=B.key;N!==null;){if(N.key===ut)if(N.tag===4&&N.stateNode.containerInfo===B.containerInfo&&N.stateNode.implementation===B.implementation){a(M,N.sibling),F=c(N,B.children||[]),F.return=M,M=F;break t}else{a(M,N);break}else n(M,N);N=N.sibling}F=Xc(B,M.mode,F),F.return=M,M=F}return g(M);case S:return B=ur(B),Zt(M,N,B,F)}if(ue(B))return st(M,N,B,F);if(U(B)){if(ut=U(B),typeof ut!="function")throw Error(r(150));return B=ut.call(B),ht(M,N,B,F)}if(typeof B.then=="function")return Zt(M,N,eu(B),F);if(B.$$typeof===mt)return Zt(M,N,Jo(M,B),F);nu(M,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,N!==null&&N.tag===6?(a(M,N.sibling),F=c(N,B),F.return=M,M=F):(a(M,N),F=Kc(B,M.mode,F),F.return=M,M=F),g(M)):a(M,N)}return function(M,N,B,F){try{ml=0;var ut=Zt(M,N,B,F);return Wr=null,ut}catch(ot){if(ot===$r||ot===Wo)throw ot;var Ut=fn(29,ot,null,M.mode);return Ut.lanes=F,Ut.return=M,Ut}finally{}}}var hr=Lm(!0),Bm=Lm(!1),la=!1;function lh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function oh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function oa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ua(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(qt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Yo(t),Tm(t,null,a),n}return Qo(t,l,n,a),Yo(t)}function pl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Hs(t,a)}}function uh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var ch=!1;function yl(){if(ch){var t=Jr;if(t!==null)throw t}}function _l(t,n,a,l){ch=!1;var c=t.updateQueue;la=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var w=E,j=w.next;w.next=null,g===null?f=j:g.next=j,g=w;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==g&&(E===null?H.firstBaseUpdate=j:E.next=j,H.lastBaseUpdate=w))}if(f!==null){var Q=c.baseState;g=0,H=j=w=null,E=f;do{var P=E.lane&-536870913,k=P!==E.lane;if(k?(wt&P)===P:(l&P)===P){P!==0&&P===Zr&&(ch=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var st=t,ht=E;P=n;var Zt=a;switch(ht.tag){case 1:if(st=ht.payload,typeof st=="function"){Q=st.call(Zt,Q,P);break t}Q=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=ht.payload,P=typeof st=="function"?st.call(Zt,Q,P):st,P==null)break t;Q=R({},Q,P);break t;case 2:la=!0}}P=E.callback,P!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[P]:k.push(P))}else k={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(j=H=k,w=Q):H=H.next=k,g|=P;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);H===null&&(w=Q),c.baseState=w,c.firstBaseUpdate=j,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),ma|=g,t.lanes=g,t.memoizedState=Q}}function jm(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Pm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)jm(a[t],n)}var ts=O(null),iu=O(0);function qm(t,n){t=Pi,et(iu,t),et(ts,n),Pi=t|n.baseLanes}function hh(){et(iu,Pi),et(ts,ts.current)}function fh(){Pi=iu.current,Y(ts),Y(iu)}var dn=O(null),Vn=null;function ca(t){var n=t.alternate;et(fe,fe.current&1),et(dn,t),Vn===null&&(n===null||ts.current!==null||n.memoizedState!==null)&&(Vn=t)}function dh(t){et(fe,fe.current),et(dn,t),Vn===null&&(Vn=t)}function km(t){t.tag===22?(et(fe,fe.current),et(dn,t),Vn===null&&(Vn=t)):ha()}function ha(){et(fe,fe.current),et(dn,dn.current)}function mn(t){Y(dn),Vn===t&&(Vn=null),Y(fe)}var fe=O(0);function au(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ef(a)||Tf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Oi=0,Tt=null,Kt=null,Te=null,ru=!1,es=!1,fr=!1,su=0,vl=0,ns=null,hE=0;function le(){throw Error(r(321))}function mh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!hn(t[a],n[a]))return!1;return!0}function gh(t,n,a,l,c,f){return Oi=f,Tt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,z.H=t===null||t.memoizedState===null?Rg:Nh,fr=!1,f=a(l,c),fr=!1,es&&(f=Gm(n,a,l,c)),Hm(t),f}function Hm(t){z.H=Al;var n=Kt!==null&&Kt.next!==null;if(Oi=0,Te=Kt=Tt=null,ru=!1,vl=0,ns=null,n)throw Error(r(300));t===null||Ae||(t=t.dependencies,t!==null&&Zo(t)&&(Ae=!0))}function Gm(t,n,a,l){Tt=t;var c=0;do{if(es&&(ns=null),vl=0,es=!1,25<=c)throw Error(r(301));if(c+=1,Te=Kt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}z.H=wg,f=n(a,l)}while(es);return f}function fE(){var t=z.H,n=t.useState()[0];return n=typeof n.then=="function"?El(n):n,t=t.useState()[0],(Kt!==null?Kt.memoizedState:null)!==t&&(Tt.flags|=1024),n}function ph(){var t=su!==0;return su=0,t}function yh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function _h(t){if(ru){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}ru=!1}Oi=0,Te=Kt=Tt=null,es=!1,vl=su=0,ns=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?Tt.memoizedState=Te=t:Te=Te.next=t,Te}function de(){if(Kt===null){var t=Tt.alternate;t=t!==null?t.memoizedState:null}else t=Kt.next;var n=Te===null?Tt.memoizedState:Te.next;if(n!==null)Te=n,Kt=t;else{if(t===null)throw Tt.alternate===null?Error(r(467)):Error(r(310));Kt=t,t={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},Te===null?Tt.memoizedState=Te=t:Te=Te.next=t}return Te}function lu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function El(t){var n=vl;return vl+=1,ns===null&&(ns=[]),t=Mm(ns,t,n),n=Tt,(Te===null?n.memoizedState:Te.next)===null&&(n=n.alternate,z.H=n===null||n.memoizedState===null?Rg:Nh),t}function ou(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return El(t);if(t.$$typeof===mt)return Pe(t)}throw Error(r(438,String(t)))}function vh(t){var n=null,a=Tt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Tt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=lu(),Tt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=x;return n.index++,a}function xi(t,n){return typeof n=="function"?n(t):n}function uu(t){var n=de();return Eh(n,Kt,t)}function Eh(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=g=null,w=null,j=n,H=!1;do{var Q=j.lane&-536870913;if(Q!==j.lane?(wt&Q)===Q:(Oi&Q)===Q){var P=j.revertLane;if(P===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Q===Zr&&(H=!0);else if((Oi&P)===P){j=j.next,P===Zr&&(H=!0);continue}else Q={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},w===null?(E=w=Q,g=f):w=w.next=Q,Tt.lanes|=P,ma|=P;Q=j.action,fr&&a(f,Q),f=j.hasEagerState?j.eagerState:a(f,Q)}else P={lane:Q,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},w===null?(E=w=P,g=f):w=w.next=P,Tt.lanes|=Q,ma|=Q;j=j.next}while(j!==null&&j!==n);if(w===null?g=f:w.next=E,!hn(f,t.memoizedState)&&(Ae=!0,H&&(a=Jr,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=w,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Th(t){var n=de(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);hn(f,n.memoizedState)||(Ae=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Fm(t,n,a){var l=Tt,c=de(),f=It;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!hn((Kt||c).memoizedState,a);if(g&&(c.memoizedState=a,Ae=!0),c=c.queue,bh(Km.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Te!==null&&Te.memoizedState.tag&1){if(l.flags|=2048,is(9,{destroy:void 0},Ym.bind(null,l,c,a,n),null),Jt===null)throw Error(r(349));f||(Oi&127)!==0||Qm(l,n,a)}return a}function Qm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Tt.updateQueue,n===null?(n=lu(),Tt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Ym(t,n,a,l){n.value=a,n.getSnapshot=l,Xm(n)&&Zm(t)}function Km(t,n,a){return a(function(){Xm(n)&&Zm(t)})}function Xm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!hn(t,a)}catch{return!0}}function Zm(t){var n=ir(t,2);n!==null&&sn(n,t,2)}function Ah(t){var n=$e();if(typeof t=="function"){var a=t;if(t=a(),fr){vn(!0);try{a()}finally{vn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:t},n}function Jm(t,n,a,l){return t.baseState=a,Eh(t,Kt,typeof l=="function"?l:xi)}function dE(t,n,a,l,c){if(fu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};z.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,$m(n,f)):(f.next=a.next,n.pending=a.next=f)}}function $m(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=z.T,g={};z.T=g;try{var E=a(c,l),w=z.S;w!==null&&w(g,E),Wm(t,n,E)}catch(j){Sh(t,n,j)}finally{f!==null&&g.types!==null&&(f.types=g.types),z.T=f}}else try{f=a(c,l),Wm(t,n,f)}catch(j){Sh(t,n,j)}}function Wm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){tg(t,n,l)},function(l){return Sh(t,n,l)}):tg(t,n,a)}function tg(t,n,a){n.status="fulfilled",n.value=a,eg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,$m(t,a)))}function Sh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,eg(n),n=n.next;while(n!==l)}t.action=null}function eg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function ng(t,n){return n}function ig(t,n){if(It){var a=Jt.formState;if(a!==null){t:{var l=Tt;if(It){if(te){e:{for(var c=te,f=Dn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Nn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){te=Nn(c.nextSibling),l=c.data==="F!";break t}}ra(l)}l=!1}l&&(n=a[0])}}return a=$e(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ng,lastRenderedState:n},a.queue=l,a=Ag.bind(null,Tt,l),l.dispatch=a,l=Ah(!1),f=Vh.bind(null,Tt,!1,l.queue),l=$e(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=dE.bind(null,Tt,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function ag(t){var n=de();return rg(n,Kt,t)}function rg(t,n,a){if(n=Eh(t,n,ng)[0],t=uu(xi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=El(n)}catch(g){throw g===$r?Wo:g}else l=n;n=de();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(Tt.flags|=2048,is(9,{destroy:void 0},mE.bind(null,c,a),null)),[l,f,t]}function mE(t,n){t.action=n}function sg(t){var n=de(),a=Kt;if(a!==null)return rg(n,a,t);de(),n=n.memoizedState,a=de();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function is(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Tt.updateQueue,n===null&&(n=lu(),Tt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function lg(){return de().memoizedState}function cu(t,n,a,l){var c=$e();Tt.flags|=t,c.memoizedState=is(1|n,{destroy:void 0},a,l===void 0?null:l)}function hu(t,n,a,l){var c=de();l=l===void 0?null:l;var f=c.memoizedState.inst;Kt!==null&&l!==null&&mh(l,Kt.memoizedState.deps)?c.memoizedState=is(n,f,a,l):(Tt.flags|=t,c.memoizedState=is(1|n,f,a,l))}function og(t,n){cu(8390656,8,t,n)}function bh(t,n){hu(2048,8,t,n)}function gE(t){Tt.flags|=4;var n=Tt.updateQueue;if(n===null)n=lu(),Tt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function ug(t){var n=de().memoizedState;return gE({ref:n,nextImpl:t}),function(){if((qt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function cg(t,n){return hu(4,2,t,n)}function hg(t,n){return hu(4,4,t,n)}function fg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function dg(t,n,a){a=a!=null?a.concat([t]):null,hu(4,4,fg.bind(null,n,t),a)}function Rh(){}function mg(t,n){var a=de();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&mh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function gg(t,n){var a=de();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&mh(n,l[1]))return l[0];if(l=t(),fr){vn(!0);try{t()}finally{vn(!1)}}return a.memoizedState=[l,n],l}function wh(t,n,a){return a===void 0||(Oi&1073741824)!==0&&(wt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=pp(),Tt.lanes|=t,ma|=t,a)}function pg(t,n,a,l){return hn(a,n)?a:ts.current!==null?(t=wh(t,a,l),hn(t,n)||(Ae=!0),t):(Oi&42)===0||(Oi&1073741824)!==0&&(wt&261930)===0?(Ae=!0,t.memoizedState=a):(t=pp(),Tt.lanes|=t,ma|=t,n)}function yg(t,n,a,l,c){var f=J.p;J.p=f!==0&&8>f?f:8;var g=z.T,E={};z.T=E,Vh(t,!1,n,a);try{var w=c(),j=z.S;if(j!==null&&j(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var H=cE(w,l);Tl(t,n,H,yn(t))}else Tl(t,n,l,yn(t))}catch(Q){Tl(t,n,{then:function(){},status:"rejected",reason:Q},yn())}finally{J.p=f,g!==null&&E.types!==null&&(g.types=E.types),z.T=g}}function pE(){}function Ch(t,n,a,l){if(t.tag!==5)throw Error(r(476));var c=_g(t).queue;yg(t,c,n,lt,a===null?pE:function(){return vg(t),a(l)})}function _g(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:lt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function vg(t){var n=_g(t);n.next===null&&(n=t.alternate.memoizedState),Tl(t,n.next.queue,{},yn())}function Dh(){return Pe(Bl)}function Eg(){return de().memoizedState}function Tg(){return de().memoizedState}function yE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=yn();t=oa(a);var l=ua(n,t,a);l!==null&&(sn(l,n,a),pl(l,n,a)),n={cache:ih()},t.payload=n;return}n=n.return}}function _E(t,n,a){var l=yn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},fu(t)?Sg(n,a):(a=Qc(t,n,a,l),a!==null&&(sn(a,t,l),bg(a,n,l)))}function Ag(t,n,a){var l=yn();Tl(t,n,a,l)}function Tl(t,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(fu(t))Sg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(c.hasEagerState=!0,c.eagerState=E,hn(E,g))return Qo(t,n,c,0),Jt===null&&Fo(),!1}catch{}finally{}if(a=Qc(t,n,c,l),a!==null)return sn(a,t,l),bg(a,n,l),!0}return!1}function Vh(t,n,a,l){if(l={lane:2,revertLane:of(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},fu(t)){if(n)throw Error(r(479))}else n=Qc(t,a,l,2),n!==null&&sn(n,t,2)}function fu(t){var n=t.alternate;return t===Tt||n!==null&&n===Tt}function Sg(t,n){es=ru=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function bg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Hs(t,a)}}var Al={readContext:Pe,use:ou,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};Al.useEffectEvent=le;var Rg={readContext:Pe,use:ou,useCallback:function(t,n){return $e().memoizedState=[t,n===void 0?null:n],t},useContext:Pe,useEffect:og,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,cu(4194308,4,fg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return cu(4194308,4,t,n)},useInsertionEffect:function(t,n){cu(4,2,t,n)},useMemo:function(t,n){var a=$e();n=n===void 0?null:n;var l=t();if(fr){vn(!0);try{t()}finally{vn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=$e();if(a!==void 0){var c=a(n);if(fr){vn(!0);try{a(n)}finally{vn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=_E.bind(null,Tt,t),[l.memoizedState,t]},useRef:function(t){var n=$e();return t={current:t},n.memoizedState=t},useState:function(t){t=Ah(t);var n=t.queue,a=Ag.bind(null,Tt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Rh,useDeferredValue:function(t,n){var a=$e();return wh(a,t,n)},useTransition:function(){var t=Ah(!1);return t=yg.bind(null,Tt,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Tt,c=$e();if(It){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Jt===null)throw Error(r(349));(wt&127)!==0||Qm(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,og(Km.bind(null,l,f,t),[t]),l.flags|=2048,is(9,{destroy:void 0},Ym.bind(null,l,f,a,n),null),a},useId:function(){var t=$e(),n=Jt.identifierPrefix;if(It){var a=di,l=fi;a=(l&~(1<<32-ce(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=su++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=hE++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Dh,useFormState:ig,useActionState:ig,useOptimistic:function(t){var n=$e();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Vh.bind(null,Tt,!0,a),a.dispatch=n,[t,n]},useMemoCache:vh,useCacheRefresh:function(){return $e().memoizedState=yE.bind(null,Tt)},useEffectEvent:function(t){var n=$e(),a={impl:t};return n.memoizedState=a,function(){if((qt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Nh={readContext:Pe,use:ou,useCallback:mg,useContext:Pe,useEffect:bh,useImperativeHandle:dg,useInsertionEffect:cg,useLayoutEffect:hg,useMemo:gg,useReducer:uu,useRef:lg,useState:function(){return uu(xi)},useDebugValue:Rh,useDeferredValue:function(t,n){var a=de();return pg(a,Kt.memoizedState,t,n)},useTransition:function(){var t=uu(xi)[0],n=de().memoizedState;return[typeof t=="boolean"?t:El(t),n]},useSyncExternalStore:Fm,useId:Eg,useHostTransitionStatus:Dh,useFormState:ag,useActionState:ag,useOptimistic:function(t,n){var a=de();return Jm(a,Kt,t,n)},useMemoCache:vh,useCacheRefresh:Tg};Nh.useEffectEvent=ug;var wg={readContext:Pe,use:ou,useCallback:mg,useContext:Pe,useEffect:bh,useImperativeHandle:dg,useInsertionEffect:cg,useLayoutEffect:hg,useMemo:gg,useReducer:Th,useRef:lg,useState:function(){return Th(xi)},useDebugValue:Rh,useDeferredValue:function(t,n){var a=de();return Kt===null?wh(a,t,n):pg(a,Kt.memoizedState,t,n)},useTransition:function(){var t=Th(xi)[0],n=de().memoizedState;return[typeof t=="boolean"?t:El(t),n]},useSyncExternalStore:Fm,useId:Eg,useHostTransitionStatus:Dh,useFormState:sg,useActionState:sg,useOptimistic:function(t,n){var a=de();return Kt!==null?Jm(a,Kt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:vh,useCacheRefresh:Tg};wg.useEffectEvent=ug;function Ih(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:R({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Oh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=yn(),c=oa(l);c.payload=n,a!=null&&(c.callback=a),n=ua(t,c,l),n!==null&&(sn(n,t,l),pl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=yn(),c=oa(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=ua(t,c,l),n!==null&&(sn(n,t,l),pl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=yn(),l=oa(a);l.tag=2,n!=null&&(l.callback=n),n=ua(t,l,a),n!==null&&(sn(n,t,a),pl(n,t,a))}};function Cg(t,n,a,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!ol(a,l)||!ol(c,f):!0}function Dg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Oh.enqueueReplaceState(n,n.state,null)}function dr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=R({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function Vg(t){Go(t)}function Ng(t){console.error(t)}function Ig(t){Go(t)}function du(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Og(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function xh(t,n,a){return a=oa(a),a.tag=3,a.payload={element:null},a.callback=function(){du(t,n)},a}function xg(t){return t=oa(t),t.tag=3,t}function Mg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Og(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Og(n,a,l),typeof c!="function"&&(ga===null?ga=new Set([this]):ga.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function vE(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Xr(n,a,c,!0),a=dn.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?Ru():a.alternate===null&&oe===0&&(oe=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===tu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),rf(t,l,c)),!1;case 22:return a.flags|=65536,l===tu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),rf(t,l,c)),!1}throw Error(r(435,a.tag))}return rf(t,l,c),Ru(),!1}if(It)return n=dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==$c&&(t=Error(r(422),{cause:l}),hl(Rn(t,a)))):(l!==$c&&(n=Error(r(423),{cause:l}),hl(Rn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Rn(l,a),c=xh(t.stateNode,l,c),uh(t,c),oe!==4&&(oe=2)),!1;var f=Error(r(520),{cause:l});if(f=Rn(f,a),Nl===null?Nl=[f]:Nl.push(f),oe!==4&&(oe=2),n===null)return!0;l=Rn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=xh(a.stateNode,l,t),uh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ga===null||!ga.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=xg(c),Mg(c,t,a,l),uh(a,c),!1}a=a.return}while(a!==null);return!1}var Mh=Error(r(461)),Ae=!1;function qe(t,n,a,l){n.child=t===null?Bm(n,null,a,l):hr(n,t.child,a,l)}function zg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return lr(n),l=gh(t,n,a,g,f,c),E=ph(),t!==null&&!Ae?(yh(t,n,c),Mi(t,n,c)):(It&&E&&Zc(n),n.flags|=1,qe(t,n,l,c),n.child)}function Ug(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!Yc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Lg(t,n,f,l,c)):(t=Ko(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!kh(t,c)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:ol,a(g,l)&&t.ref===n.ref)return Mi(t,n,c)}return n.flags|=1,t=Di(f,l),t.ref=n.ref,t.return=n,n.child=t}function Lg(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(ol(f,l)&&t.ref===n.ref)if(Ae=!1,n.pendingProps=l=f,kh(t,c))(t.flags&131072)!==0&&(Ae=!0);else return n.lanes=t.lanes,Mi(t,n,c)}return zh(t,n,a,l,c)}function Bg(t,n,a,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return jg(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&$o(n,f!==null?f.cachePool:null),f!==null?qm(n,f):hh(),km(n);else return l=n.lanes=536870912,jg(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?($o(n,f.cachePool),qm(n,f),ha(),n.memoizedState=null):(t!==null&&$o(n,null),hh(),ha());return qe(t,n,c,a),n.child}function Sl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function jg(t,n,a,l,c){var f=rh();return f=f===null?null:{parent:Ee._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&$o(n,null),hh(),km(n),t!==null&&Xr(t,n,l,!0),n.childLanes=c,null}function mu(t,n){return n=pu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Pg(t,n,a){return hr(n,t.child,null,a),t=mu(n,n.pendingProps),t.flags|=2,mn(n),n.memoizedState=null,t}function EE(t,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(It){if(l.mode==="hidden")return t=mu(n,l),n.lanes=536870912,Sl(null,t);if(dh(n),(t=te)?(t=$p(t,Dn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ia!==null?{id:fi,overflow:di}:null,retryLane:536870912,hydrationErrors:null},a=Sm(t),a.return=n,n.child=a,je=n,te=null)):t=null,t===null)throw ra(n);return n.lanes=536870912,null}return mu(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(dh(n),c)if(n.flags&256)n.flags&=-257,n=Pg(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Ae||Xr(t,n,a,!1),c=(a&t.childLanes)!==0,Ae||c){if(l=Jt,l!==null&&(g=Gs(l,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,ir(t,g),sn(l,t,g),Mh;Ru(),n=Pg(t,n,a)}else t=f.treeContext,te=Nn(g.nextSibling),je=n,It=!0,aa=null,Dn=!1,t!==null&&wm(n,t),n=mu(n,l),n.flags|=4096;return n}return t=Di(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function gu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function zh(t,n,a,l,c){return lr(n),a=gh(t,n,a,l,void 0,c),l=ph(),t!==null&&!Ae?(yh(t,n,c),Mi(t,n,c)):(It&&l&&Zc(n),n.flags|=1,qe(t,n,a,c),n.child)}function qg(t,n,a,l,c,f){return lr(n),n.updateQueue=null,a=Gm(n,l,a,c),Hm(t),l=ph(),t!==null&&!Ae?(yh(t,n,f),Mi(t,n,f)):(It&&l&&Zc(n),n.flags|=1,qe(t,n,a,f),n.child)}function kg(t,n,a,l,c){if(lr(n),n.stateNode===null){var f=Fr,g=a.contextType;typeof g=="object"&&g!==null&&(f=Pe(g)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Oh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},lh(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?Pe(g):Fr,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Ih(n,a,g,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Oh.enqueueReplaceState(f,f.state,null),_l(n,l,f,c),yl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,w=dr(a,E);f.props=w;var j=f.context,H=a.contextType;g=Fr,typeof H=="object"&&H!==null&&(g=Pe(H));var Q=a.getDerivedStateFromProps;H=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==g)&&Dg(n,f,l,g),la=!1;var P=n.memoizedState;f.state=P,_l(n,l,f,c),yl(),j=n.memoizedState,E||P!==j||la?(typeof Q=="function"&&(Ih(n,a,Q,l),j=n.memoizedState),(w=la||Cg(n,a,w,l,P,j,g))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=j),f.props=l,f.state=j,f.context=g,l=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,oh(t,n),g=n.memoizedProps,H=dr(a,g),f.props=H,Q=n.pendingProps,P=f.context,j=a.contextType,w=Fr,typeof j=="object"&&j!==null&&(w=Pe(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Q||P!==w)&&Dg(n,f,l,w),la=!1,P=n.memoizedState,f.state=P,_l(n,l,f,c),yl();var k=n.memoizedState;g!==Q||P!==k||la||t!==null&&t.dependencies!==null&&Zo(t.dependencies)?(typeof E=="function"&&(Ih(n,a,E,l),k=n.memoizedState),(H=la||Cg(n,a,H,l,P,k,w)||t!==null&&t.dependencies!==null&&Zo(t.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,k,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,k,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=w,l=H):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,gu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=hr(n,t.child,null,c),n.child=hr(n,null,a,c)):qe(t,n,a,c),n.memoizedState=f.state,t=n.child):t=Mi(t,n,c),t}function Hg(t,n,a,l){return rr(),n.flags|=256,qe(t,n,a,l),n.child}var Uh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lh(t){return{baseLanes:t,cachePool:Om()}}function Bh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=pn),t}function Gg(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(fe.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(It){if(c?ca(n):ha(),(t=te)?(t=$p(t,Dn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ia!==null?{id:fi,overflow:di}:null,retryLane:536870912,hydrationErrors:null},a=Sm(t),a.return=n,n.child=a,je=n,te=null)):t=null,t===null)throw ra(n);return Tf(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(ha(),c=n.mode,E=pu({mode:"hidden",children:E},c),l=ar(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Lh(a),l.childLanes=Bh(t,g,a),n.memoizedState=Uh,Sl(null,l)):(ca(n),jh(n,E))}var w=t.memoizedState;if(w!==null&&(E=w.dehydrated,E!==null)){if(f)n.flags&256?(ca(n),n.flags&=-257,n=Ph(t,n,a)):n.memoizedState!==null?(ha(),n.child=t.child,n.flags|=128,n=null):(ha(),E=l.fallback,c=n.mode,l=pu({mode:"visible",children:l.children},c),E=ar(E,c,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,hr(n,t.child,null,a),l=n.child,l.memoizedState=Lh(a),l.childLanes=Bh(t,g,a),n.memoizedState=Uh,n=Sl(null,l));else if(ca(n),Tf(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var j=g.dgst;g=j,l=Error(r(419)),l.stack="",l.digest=g,hl({value:l,source:null,stack:null}),n=Ph(t,n,a)}else if(Ae||Xr(t,n,a,!1),g=(a&t.childLanes)!==0,Ae||g){if(g=Jt,g!==null&&(l=Gs(g,a),l!==0&&l!==w.retryLane))throw w.retryLane=l,ir(t,l),sn(g,t,l),Mh;Ef(E)||Ru(),n=Ph(t,n,a)}else Ef(E)?(n.flags|=192,n.child=t.child,n=null):(t=w.treeContext,te=Nn(E.nextSibling),je=n,It=!0,aa=null,Dn=!1,t!==null&&wm(n,t),n=jh(n,l.children),n.flags|=4096);return n}return c?(ha(),E=l.fallback,c=n.mode,w=t.child,j=w.sibling,l=Di(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,j!==null?E=Di(j,E):(E=ar(E,c,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Sl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Lh(a):(c=E.cachePool,c!==null?(w=Ee._currentValue,c=c.parent!==w?{parent:w,pool:w}:c):c=Om(),E={baseLanes:E.baseLanes|a,cachePool:c}),l.memoizedState=E,l.childLanes=Bh(t,g,a),n.memoizedState=Uh,Sl(t.child,l)):(ca(n),a=t.child,t=a.sibling,a=Di(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function jh(t,n){return n=pu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function pu(t,n){return t=fn(22,t,null,n),t.lanes=0,t}function Ph(t,n,a){return hr(n,t.child,null,a),t=jh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Fg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),eh(t.return,n,a)}function qh(t,n,a,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=c,g.treeForkCount=f)}function Qg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=fe.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,et(fe,g),qe(t,n,l,a),l=It?cl:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Fg(t,a,n);else if(t.tag===19)Fg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&au(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),qh(n,!1,c,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&au(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}qh(n,!0,a,null,f,l);break;case"together":qh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Mi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ma|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Xr(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Di(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Di(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function kh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Zo(t)))}function TE(t,n,a){switch(n.tag){case 3:Ve(n,n.stateNode.containerInfo),sa(n,Ee,t.memoizedState.cache),rr();break;case 27:case 5:ja(n);break;case 4:Ve(n,n.stateNode.containerInfo);break;case 10:sa(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,dh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ca(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Gg(t,n,a):(ca(n),t=Mi(t,n,a),t!==null?t.sibling:null);ca(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Xr(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Qg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),et(fe,fe.current),l)break;return null;case 22:return n.lanes=0,Bg(t,n,a,n.pendingProps);case 24:sa(n,Ee,t.memoizedState.cache)}return Mi(t,n,a)}function Yg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ae=!0;else{if(!kh(t,a)&&(n.flags&128)===0)return Ae=!1,TE(t,n,a);Ae=(t.flags&131072)!==0}else Ae=!1,It&&(n.flags&1048576)!==0&&Rm(n,cl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=ur(n.elementType),n.type=t,typeof t=="function")Yc(t)?(l=dr(t,l),n.tag=1,n=kg(null,n,t,l,a)):(n.tag=0,n=zh(null,n,t,l,a));else{if(t!=null){var c=t.$$typeof;if(c===Bt){n.tag=11,n=zg(null,n,t,l,a);break t}else if(c===D){n.tag=14,n=Ug(null,n,t,l,a);break t}}throw n=$t(t)||t,Error(r(306,n,""))}}return n;case 0:return zh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=dr(l,n.pendingProps),kg(t,n,l,c,a);case 3:t:{if(Ve(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,oh(t,n),_l(n,l,null,a);var g=n.memoizedState;if(l=g.cache,sa(n,Ee,l),l!==f.cache&&nh(n,[Ee],a,!0),yl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Hg(t,n,l,a);break t}else if(l!==c){c=Rn(Error(r(424)),n),hl(c),n=Hg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(te=Nn(t.firstChild),je=n,It=!0,aa=null,Dn=!0,a=Bm(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(rr(),l===c){n=Mi(t,n,a);break t}qe(t,n,l,a)}n=n.child}return n;case 26:return gu(t,n),t===null?(a=ay(n.type,null,n.pendingProps,null))?n.memoizedState=a:It||(a=n.type,t=n.pendingProps,l=Ou(At.current).createElement(a),l[ye]=n,l[xe]=t,ke(l,a,t),_e(l),n.stateNode=l):n.memoizedState=ay(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ja(n),t===null&&It&&(l=n.stateNode=ey(n.type,n.pendingProps,At.current),je=n,Dn=!0,c=te,va(n.type)?(Af=c,te=Nn(l.firstChild)):te=c),qe(t,n,n.pendingProps.children,a),gu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&It&&((c=l=te)&&(l=JE(l,n.type,n.pendingProps,Dn),l!==null?(n.stateNode=l,je=n,te=Nn(l.firstChild),Dn=!1,c=!0):c=!1),c||ra(n)),ja(n),c=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,yf(c,f)?l=null:g!==null&&yf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=gh(t,n,fE,null,null,a),Bl._currentValue=c),gu(t,n),qe(t,n,l,a),n.child;case 6:return t===null&&It&&((t=a=te)&&(a=$E(a,n.pendingProps,Dn),a!==null?(n.stateNode=a,je=n,te=null,t=!0):t=!1),t||ra(n)),null;case 13:return Gg(t,n,a);case 4:return Ve(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=hr(n,null,l,a):qe(t,n,l,a),n.child;case 11:return zg(t,n,n.type,n.pendingProps,a);case 7:return qe(t,n,n.pendingProps,a),n.child;case 8:return qe(t,n,n.pendingProps.children,a),n.child;case 12:return qe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,sa(n,n.type,l.value),qe(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,lr(n),c=Pe(c),l=l(c),n.flags|=1,qe(t,n,l,a),n.child;case 14:return Ug(t,n,n.type,n.pendingProps,a);case 15:return Lg(t,n,n.type,n.pendingProps,a);case 19:return Qg(t,n,a);case 31:return EE(t,n,a);case 22:return Bg(t,n,a,n.pendingProps);case 24:return lr(n),l=Pe(Ee),t===null?(c=rh(),c===null&&(c=Jt,f=ih(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},lh(n),sa(n,Ee,c)):((t.lanes&a)!==0&&(oh(t,n),_l(n,null,null,a),yl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),sa(n,Ee,l)):(l=f.cache,sa(n,Ee,l),l!==c.cache&&nh(n,[Ee],a,!0))),qe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function zi(t){t.flags|=4}function Hh(t,n,a,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(Ep())t.flags|=8192;else throw cr=tu,sh}else t.flags&=-16777217}function Kg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!uy(n))if(Ep())t.flags|=8192;else throw cr=tu,sh}function yu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?So():536870912,t.lanes|=n,ls|=n)}function bl(t,n){if(!It)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ee(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function AE(t,n,a){var l=n.pendingProps;switch(Jc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ii(Ee),ie(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Kr(n)?zi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Wc())),ee(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(zi(n),f!==null?(ee(n),Kg(n,f)):(ee(n),Hh(n,c,null,l,a))):f?f!==t.memoizedState?(zi(n),ee(n),Kg(n,f)):(ee(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&zi(n),ee(n),Hh(n,c,t,l,a)),null;case 27:if(wr(n),a=At.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&zi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ee(n),null}t=rt.current,Kr(n)?Cm(n):(t=ey(c,l,a),n.stateNode=t,zi(n))}return ee(n),null;case 5:if(wr(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&zi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ee(n),null}if(f=rt.current,Kr(n))Cm(n);else{var g=Ou(At.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[ye]=n,f[xe]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(ke(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&zi(n)}}return ee(n),Hh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&zi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=At.current,Kr(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=je,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ye]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Gp(t.nodeValue,a)),t||ra(n,!0)}else t=Ou(t).createTextNode(l),t[ye]=n,n.stateNode=t}return ee(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Kr(n),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[ye]=n}else rr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),t=!1}else a=Wc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(mn(n),n):(mn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ee(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Kr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[ye]=n}else rr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),c=!1}else c=Wc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(mn(n),n):(mn(n),null)}return mn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),yu(n,n.updateQueue),ee(n),null);case 4:return ie(),t===null&&ff(n.stateNode.containerInfo),ee(n),null;case 10:return Ii(n.type),ee(n),null;case 19:if(Y(fe),l=n.memoizedState,l===null)return ee(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)bl(l,!1);else{if(oe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=au(t),f!==null){for(n.flags|=128,bl(l,!1),t=f.updateQueue,n.updateQueue=t,yu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Am(a,t),a=a.sibling;return et(fe,fe.current&1|2),It&&Vi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Ze()>Au&&(n.flags|=128,c=!0,bl(l,!1),n.lanes=4194304)}else{if(!c)if(t=au(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,yu(n,t),bl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!It)return ee(n),null}else 2*Ze()-l.renderingStartTime>Au&&a!==536870912&&(n.flags|=128,c=!0,bl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ze(),t.sibling=null,a=fe.current,et(fe,c?a&1|2:a&1),It&&Vi(n,l.treeForkCount),t):(ee(n),null);case 22:case 23:return mn(n),fh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),a=n.updateQueue,a!==null&&yu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&Y(or),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ii(Ee),ee(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function SE(t,n){switch(Jc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ii(Ee),ie(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return wr(n),null;case 31:if(n.memoizedState!==null){if(mn(n),n.alternate===null)throw Error(r(340));rr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(mn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));rr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(fe),null;case 4:return ie(),null;case 10:return Ii(n.type),null;case 22:case 23:return mn(n),fh(),t!==null&&Y(or),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ii(Ee),null;case 25:return null;default:return null}}function Xg(t,n){switch(Jc(n),n.tag){case 3:Ii(Ee),ie();break;case 26:case 27:case 5:wr(n);break;case 4:ie();break;case 31:n.memoizedState!==null&&mn(n);break;case 13:mn(n);break;case 19:Y(fe);break;case 10:Ii(n.type);break;case 22:case 23:mn(n),fh(),t!==null&&Y(or);break;case 24:Ii(Ee)}}function Rl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,g=a.inst;l=f(),g.destroy=l}a=a.next}while(a!==c)}}catch(E){Qt(n,n.return,E)}}function fa(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var w=a,j=E;try{j()}catch(H){Qt(c,w,H)}}}l=l.next}while(l!==f)}}catch(H){Qt(n,n.return,H)}}function Zg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Pm(n,a)}catch(l){Qt(t,t.return,l)}}}function Jg(t,n,a){a.props=dr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Qt(t,n,l)}}function wl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Qt(t,n,c)}}function mi(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Qt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Qt(t,n,c)}else a.current=null}function $g(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Qt(t,t.return,c)}}function Gh(t,n,a){try{var l=t.stateNode;FE(l,t.type,a,n),l[xe]=n}catch(c){Qt(t,t.return,c)}}function Wg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&va(t.type)||t.tag===4}function Fh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Wg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&va(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Ln));else if(l!==4&&(l===27&&va(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Qh(t,n,a),t=t.sibling;t!==null;)Qh(t,n,a),t=t.sibling}function _u(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&va(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(_u(t,n,a),t=t.sibling;t!==null;)_u(t,n,a),t=t.sibling}function tp(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ke(n,l,a),n[ye]=t,n[xe]=a}catch(f){Qt(t,t.return,f)}}var Ui=!1,Se=!1,Yh=!1,ep=typeof WeakSet=="function"?WeakSet:Set,ze=null;function bE(t,n){if(t=t.containerInfo,gf=ju,t=dm(t),Pc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,w=-1,j=0,H=0,Q=t,P=null;e:for(;;){for(var k;Q!==a||c!==0&&Q.nodeType!==3||(E=g+c),Q!==f||l!==0&&Q.nodeType!==3||(w=g+l),Q.nodeType===3&&(g+=Q.nodeValue.length),(k=Q.firstChild)!==null;)P=Q,Q=k;for(;;){if(Q===t)break e;if(P===a&&++j===c&&(E=g),P===f&&++H===l&&(w=g),(k=Q.nextSibling)!==null)break;Q=P,P=Q.parentNode}Q=k}a=E===-1||w===-1?null:{start:E,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(pf={focusedElem:t,selectionRange:a},ju=!1,ze=n;ze!==null;)if(n=ze,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ze=t;else for(;ze!==null;){switch(n=ze,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var st=dr(a.type,c);t=l.getSnapshotBeforeUpdate(st,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ht){Qt(a,a.return,ht)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)vf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":vf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,ze=t;break}ze=n.return}}function np(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Bi(t,a),l&4&&Rl(5,a);break;case 1:if(Bi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){Qt(a,a.return,g)}else{var c=dr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Qt(a,a.return,g)}}l&64&&Zg(a),l&512&&wl(a,a.return);break;case 3:if(Bi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Pm(t,n)}catch(g){Qt(a,a.return,g)}}break;case 27:n===null&&l&4&&tp(a);case 26:case 5:Bi(t,a),n===null&&l&4&&$g(a),l&512&&wl(a,a.return);break;case 12:Bi(t,a);break;case 31:Bi(t,a),l&4&&rp(t,a);break;case 13:Bi(t,a),l&4&&sp(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=xE.bind(null,a),WE(t,a))));break;case 22:if(l=a.memoizedState!==null||Ui,!l){n=n!==null&&n.memoizedState!==null||Se,c=Ui;var f=Se;Ui=l,(Se=n)&&!f?ji(t,a,(a.subtreeFlags&8772)!==0):Bi(t,a),Ui=c,Se=f}break;case 30:break;default:Bi(t,a)}}function ip(t){var n=t.alternate;n!==null&&(t.alternate=null,ip(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ir(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var re=null,en=!1;function Li(t,n,a){for(a=a.child;a!==null;)ap(t,n,a),a=a.sibling}function ap(t,n,a){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(xn,a)}catch{}switch(a.tag){case 26:Se||mi(a,n),Li(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Se||mi(a,n);var l=re,c=en;va(a.type)&&(re=a.stateNode,en=!1),Li(t,n,a),zl(a.stateNode),re=l,en=c;break;case 5:Se||mi(a,n);case 6:if(l=re,c=en,re=null,Li(t,n,a),re=l,en=c,re!==null)if(en)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(a.stateNode)}catch(f){Qt(a,n,f)}else try{re.removeChild(a.stateNode)}catch(f){Qt(a,n,f)}break;case 18:re!==null&&(en?(t=re,Zp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),gs(t)):Zp(re,a.stateNode));break;case 4:l=re,c=en,re=a.stateNode.containerInfo,en=!0,Li(t,n,a),re=l,en=c;break;case 0:case 11:case 14:case 15:fa(2,a,n),Se||fa(4,a,n),Li(t,n,a);break;case 1:Se||(mi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Jg(a,n,l)),Li(t,n,a);break;case 21:Li(t,n,a);break;case 22:Se=(l=Se)||a.memoizedState!==null,Li(t,n,a),Se=l;break;default:Li(t,n,a)}}function rp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{gs(t)}catch(a){Qt(n,n.return,a)}}}function sp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{gs(t)}catch(a){Qt(n,n.return,a)}}function RE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new ep),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new ep),n;default:throw Error(r(435,t.tag))}}function vu(t,n){var a=RE(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=ME.bind(null,t,l);l.then(c,c)}})}function nn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(va(E.type)){re=E.stateNode,en=!1;break t}break;case 5:re=E.stateNode,en=!1;break t;case 3:case 4:re=E.stateNode.containerInfo,en=!0;break t}E=E.return}if(re===null)throw Error(r(160));ap(f,g,c),re=null,en=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)lp(n,t),n=n.sibling}var Hn=null;function lp(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:nn(n,t),an(t),l&4&&(fa(3,t,t.return),Rl(3,t),fa(5,t,t.return));break;case 1:nn(n,t),an(t),l&512&&(Se||a===null||mi(a,a.return)),l&64&&Ui&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Hn;if(nn(n,t),an(t),l&512&&(Se||a===null||mi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ti]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ke(f,l,a),f[ye]=t,_e(f),l=f;break t;case"link":var g=ly("link","href",c).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(l),ke(f,l,a),c.head.appendChild(f);break;case"meta":if(g=ly("meta","content",c).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=c.createElement(l),ke(f,l,a),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[ye]=t,_e(f),l=f}t.stateNode=l}else oy(c,t.type,t.stateNode);else t.stateNode=sy(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?oy(c,t.type,t.stateNode):sy(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Gh(t,t.memoizedProps,a.memoizedProps)}break;case 27:nn(n,t),an(t),l&512&&(Se||a===null||mi(a,a.return)),a!==null&&l&4&&Gh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(nn(n,t),an(t),l&512&&(Se||a===null||mi(a,a.return)),t.flags&32){c=t.stateNode;try{tn(c,"")}catch(st){Qt(t,t.return,st)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Gh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Yh=!0);break;case 6:if(nn(n,t),an(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(st){Qt(t,t.return,st)}}break;case 3:if(zu=null,c=Hn,Hn=xu(n.containerInfo),nn(n,t),Hn=c,an(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{gs(n.containerInfo)}catch(st){Qt(t,t.return,st)}Yh&&(Yh=!1,op(t));break;case 4:l=Hn,Hn=xu(t.stateNode.containerInfo),nn(n,t),an(t),Hn=l;break;case 12:nn(n,t),an(t);break;case 31:nn(n,t),an(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vu(t,l)));break;case 13:nn(n,t),an(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Tu=Ze()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vu(t,l)));break;case 22:c=t.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,j=Ui,H=Se;if(Ui=j||c,Se=H||w,nn(n,t),Se=H,Ui=j,an(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||w||Ui||Se||mr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){w=a=n;try{if(f=w.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=w.stateNode;var Q=w.memoizedProps.style,P=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(st){Qt(w,w.return,st)}}}else if(n.tag===6){if(a===null){w=n;try{w.stateNode.nodeValue=c?"":w.memoizedProps}catch(st){Qt(w,w.return,st)}}}else if(n.tag===18){if(a===null){w=n;try{var k=w.stateNode;c?Jp(k,!0):Jp(w.stateNode,!1)}catch(st){Qt(w,w.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,vu(t,a))));break;case 19:nn(n,t),an(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vu(t,l)));break;case 30:break;case 21:break;default:nn(n,t),an(t)}}function an(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Wg(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,f=Fh(t);_u(t,f,c);break;case 5:var g=a.stateNode;a.flags&32&&(tn(g,""),a.flags&=-33);var E=Fh(t);_u(t,E,g);break;case 3:case 4:var w=a.stateNode.containerInfo,j=Fh(t);Qh(t,j,w);break;default:throw Error(r(161))}}catch(H){Qt(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function op(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;op(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Bi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)np(t,n.alternate,n),n=n.sibling}function mr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:fa(4,n,n.return),mr(n);break;case 1:mi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Jg(n,n.return,a),mr(n);break;case 27:zl(n.stateNode);case 26:case 5:mi(n,n.return),mr(n);break;case 22:n.memoizedState===null&&mr(n);break;case 30:mr(n);break;default:mr(n)}t=t.sibling}}function ji(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ji(c,f,a),Rl(4,f);break;case 1:if(ji(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(j){Qt(l,l.return,j)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var w=c.shared.hiddenCallbacks;if(w!==null)for(c.shared.hiddenCallbacks=null,c=0;c<w.length;c++)jm(w[c],E)}catch(j){Qt(l,l.return,j)}}a&&g&64&&Zg(f),wl(f,f.return);break;case 27:tp(f);case 26:case 5:ji(c,f,a),a&&l===null&&g&4&&$g(f),wl(f,f.return);break;case 12:ji(c,f,a);break;case 31:ji(c,f,a),a&&g&4&&rp(c,f);break;case 13:ji(c,f,a),a&&g&4&&sp(c,f);break;case 22:f.memoizedState===null&&ji(c,f,a),wl(f,f.return);break;case 30:break;default:ji(c,f,a)}n=n.sibling}}function Kh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&fl(a))}function Xh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&fl(t))}function Gn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)up(t,n,a,l),n=n.sibling}function up(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Gn(t,n,a,l),c&2048&&Rl(9,n);break;case 1:Gn(t,n,a,l);break;case 3:Gn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&fl(t)));break;case 12:if(c&2048){Gn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){Qt(n,n.return,w)}}else Gn(t,n,a,l);break;case 31:Gn(t,n,a,l);break;case 13:Gn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Gn(t,n,a,l):Cl(t,n):f._visibility&2?Gn(t,n,a,l):(f._visibility|=2,as(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Kh(g,n);break;case 24:Gn(t,n,a,l),c&2048&&Xh(n.alternate,n);break;default:Gn(t,n,a,l)}}function as(t,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=a,w=l,j=g.flags;switch(g.tag){case 0:case 11:case 15:as(f,g,E,w,c),Rl(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?as(f,g,E,w,c):Cl(f,g):(H._visibility|=2,as(f,g,E,w,c)),c&&j&2048&&Kh(g.alternate,g);break;case 24:as(f,g,E,w,c),c&&j&2048&&Xh(g.alternate,g);break;default:as(f,g,E,w,c)}n=n.sibling}}function Cl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:Cl(a,l),c&2048&&Kh(l.alternate,l);break;case 24:Cl(a,l),c&2048&&Xh(l.alternate,l);break;default:Cl(a,l)}n=n.sibling}}var Dl=8192;function rs(t,n,a){if(t.subtreeFlags&Dl)for(t=t.child;t!==null;)cp(t,n,a),t=t.sibling}function cp(t,n,a){switch(t.tag){case 26:rs(t,n,a),t.flags&Dl&&t.memoizedState!==null&&h1(a,Hn,t.memoizedState,t.memoizedProps);break;case 5:rs(t,n,a);break;case 3:case 4:var l=Hn;Hn=xu(t.stateNode.containerInfo),rs(t,n,a),Hn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Dl,Dl=16777216,rs(t,n,a),Dl=l):rs(t,n,a));break;default:rs(t,n,a)}}function hp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Vl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];ze=l,dp(l,t)}hp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)fp(t),t=t.sibling}function fp(t){switch(t.tag){case 0:case 11:case 15:Vl(t),t.flags&2048&&fa(9,t,t.return);break;case 3:Vl(t);break;case 12:Vl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Eu(t)):Vl(t);break;default:Vl(t)}}function Eu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];ze=l,dp(l,t)}hp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:fa(8,n,n.return),Eu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Eu(n));break;default:Eu(n)}t=t.sibling}}function dp(t,n){for(;ze!==null;){var a=ze;switch(a.tag){case 0:case 11:case 15:fa(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:fl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ze=l;else t:for(a=t;ze!==null;){l=ze;var c=l.sibling,f=l.return;if(ip(l),l===a){ze=null;break t}if(c!==null){c.return=f,ze=c;break t}ze=f}}}var wE={getCacheForType:function(t){var n=Pe(Ee),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Pe(Ee).controller.signal}},CE=typeof WeakMap=="function"?WeakMap:Map,qt=0,Jt=null,bt=null,wt=0,Ft=0,gn=null,da=!1,ss=!1,Zh=!1,Pi=0,oe=0,ma=0,gr=0,Jh=0,pn=0,ls=0,Nl=null,rn=null,$h=!1,Tu=0,mp=0,Au=1/0,Su=null,ga=null,Ie=0,pa=null,os=null,qi=0,Wh=0,tf=null,gp=null,Il=0,ef=null;function yn(){return(qt&2)!==0&&wt!==0?wt&-wt:z.T!==null?of():bo()}function pp(){if(pn===0)if((wt&536870912)===0||It){var t=ka;ka<<=1,(ka&3932160)===0&&(ka=262144),pn=t}else pn=536870912;return t=dn.current,t!==null&&(t.flags|=32),pn}function sn(t,n,a){(t===Jt&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)&&(us(t,0),ya(t,wt,pn,!1)),Ha(t,a),((qt&2)===0||t!==Jt)&&(t===Jt&&((qt&2)===0&&(gr|=a),oe===4&&ya(t,wt,pn,!1)),gi(t))}function yp(t,n,a){if((qt&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Mn(t,n),c=l?NE(t,n):af(t,n,!0),f=l;do{if(c===0){ss&&!l&&ya(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!DE(a)){c=af(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=Nl;var w=E.current.memoizedState.isDehydrated;if(w&&(us(E,g).flags|=256),g=af(E,g,!1),g!==2){if(Zh&&!w){E.errorRecoveryDisabledLanes|=f,gr|=f,c=4;break t}f=rn,rn=c,f!==null&&(rn===null?rn=f:rn.push.apply(rn,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){us(t,0),ya(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:ya(l,n,pn,!da);break t;case 2:rn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=Tu+300-Ze(),10<c)){if(ya(l,n,pn,!da),Jn(l,0,!0)!==0)break t;qi=n,l.timeoutHandle=Kp(_p.bind(null,l,a,rn,Su,$h,n,pn,gr,ls,da,f,"Throttled",-0,0),c);break t}_p(l,a,rn,Su,$h,n,pn,gr,ls,da,f,null,-0,0)}}break}while(!0);gi(t)}function _p(t,n,a,l,c,f,g,E,w,j,H,Q,P,k){if(t.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ln},cp(n,f,Q);var st=(f&62914560)===f?Tu-Ze():(f&4194048)===f?mp-Ze():0;if(st=f1(Q,st),st!==null){qi=f,t.cancelPendingCommit=st(wp.bind(null,t,n,f,a,l,c,g,E,w,H,Q,null,P,k)),ya(t,f,g,!j);return}}wp(t,n,f,a,l,c,g,E,w)}function DE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!hn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ya(t,n,a,l){n&=~Jh,n&=~gr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-ce(c),g=1<<f;l[f]=-1,c&=~g}a!==0&&Ga(t,a,n)}function bu(){return(qt&6)===0?(Ol(0),!1):!0}function nf(){if(bt!==null){if(Ft===0)var t=bt.return;else t=bt,Ni=sr=null,_h(t),Wr=null,ml=0,t=bt;for(;t!==null;)Xg(t.alternate,t),t=t.return;bt=null}}function us(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,KE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),qi=0,nf(),Jt=t,bt=a=Di(t.current,null),wt=n,Ft=0,gn=null,da=!1,ss=Mn(t,n),Zh=!1,ls=pn=Jh=gr=ma=oe=0,rn=Nl=null,$h=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-ce(l),f=1<<c;n|=t[c],l&=~f}return Pi=n,Fo(),a}function vp(t,n){Tt=null,z.H=Al,n===$r||n===Wo?(n=zm(),Ft=3):n===sh?(n=zm(),Ft=4):Ft=n===Mh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,gn=n,bt===null&&(oe=1,du(t,Rn(n,t.current)))}function Ep(){var t=dn.current;return t===null?!0:(wt&4194048)===wt?Vn===null:(wt&62914560)===wt||(wt&536870912)!==0?t===Vn:!1}function Tp(){var t=z.H;return z.H=Al,t===null?Al:t}function Ap(){var t=z.A;return z.A=wE,t}function Ru(){oe=4,da||(wt&4194048)!==wt&&dn.current!==null||(ss=!0),(ma&134217727)===0&&(gr&134217727)===0||Jt===null||ya(Jt,wt,pn,!1)}function af(t,n,a){var l=qt;qt|=2;var c=Tp(),f=Ap();(Jt!==t||wt!==n)&&(Su=null,us(t,n)),n=!1;var g=oe;t:do try{if(Ft!==0&&bt!==null){var E=bt,w=gn;switch(Ft){case 8:nf(),g=6;break t;case 3:case 2:case 9:case 6:dn.current===null&&(n=!0);var j=Ft;if(Ft=0,gn=null,cs(t,E,w,j),a&&ss){g=0;break t}break;default:j=Ft,Ft=0,gn=null,cs(t,E,w,j)}}VE(),g=oe;break}catch(H){vp(t,H)}while(!0);return n&&t.shellSuspendCounter++,Ni=sr=null,qt=l,z.H=c,z.A=f,bt===null&&(Jt=null,wt=0,Fo()),g}function VE(){for(;bt!==null;)Sp(bt)}function NE(t,n){var a=qt;qt|=2;var l=Tp(),c=Ap();Jt!==t||wt!==n?(Su=null,Au=Ze()+500,us(t,n)):ss=Mn(t,n);t:do try{if(Ft!==0&&bt!==null){n=bt;var f=gn;e:switch(Ft){case 1:Ft=0,gn=null,cs(t,n,f,1);break;case 2:case 9:if(xm(f)){Ft=0,gn=null,bp(n);break}n=function(){Ft!==2&&Ft!==9||Jt!==t||(Ft=7),gi(t)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:xm(f)?(Ft=0,gn=null,bp(n)):(Ft=0,gn=null,cs(t,n,f,7));break;case 5:var g=null;switch(bt.tag){case 26:g=bt.memoizedState;case 5:case 27:var E=bt;if(g?uy(g):E.stateNode.complete){Ft=0,gn=null;var w=E.sibling;if(w!==null)bt=w;else{var j=E.return;j!==null?(bt=j,wu(j)):bt=null}break e}}Ft=0,gn=null,cs(t,n,f,5);break;case 6:Ft=0,gn=null,cs(t,n,f,6);break;case 8:nf(),oe=6;break t;default:throw Error(r(462))}}IE();break}catch(H){vp(t,H)}while(!0);return Ni=sr=null,z.H=l,z.A=c,qt=a,bt!==null?0:(Jt=null,wt=0,Fo(),oe)}function IE(){for(;bt!==null&&!xc();)Sp(bt)}function Sp(t){var n=Yg(t.alternate,t,Pi);t.memoizedProps=t.pendingProps,n===null?wu(t):bt=n}function bp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=qg(a,n,n.pendingProps,n.type,void 0,wt);break;case 11:n=qg(a,n,n.pendingProps,n.type.render,n.ref,wt);break;case 5:_h(n);default:Xg(a,n),n=bt=Am(n,Pi),n=Yg(a,n,Pi)}t.memoizedProps=t.pendingProps,n===null?wu(t):bt=n}function cs(t,n,a,l){Ni=sr=null,_h(n),Wr=null,ml=0;var c=n.return;try{if(vE(t,c,n,a,wt)){oe=1,du(t,Rn(a,t.current)),bt=null;return}}catch(f){if(c!==null)throw bt=c,f;oe=1,du(t,Rn(a,t.current)),bt=null;return}n.flags&32768?(It||l===1?t=!0:ss||(wt&536870912)!==0?t=!1:(da=t=!0,(l===2||l===9||l===3||l===6)&&(l=dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Rp(n,t)):wu(n)}function wu(t){var n=t;do{if((n.flags&32768)!==0){Rp(n,da);return}t=n.return;var a=AE(n.alternate,n,Pi);if(a!==null){bt=a;return}if(n=n.sibling,n!==null){bt=n;return}bt=n=t}while(n!==null);oe===0&&(oe=5)}function Rp(t,n){do{var a=SE(t.alternate,t);if(a!==null){a.flags&=32767,bt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){bt=t;return}bt=t=a}while(t!==null);oe=6,bt=null}function wp(t,n,a,l,c,f,g,E,w){t.cancelPendingCommit=null;do Cu();while(Ie!==0);if((qt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Fc,Uc(t,a,f,g,E,w),t===Jt&&(bt=Jt=null,wt=0),os=n,pa=t,qi=a,Wh=f,tf=c,gp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,zE(Yi,function(){return Ip(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=z.T,z.T=null,c=J.p,J.p=2,g=qt,qt|=4;try{bE(t,n,a)}finally{qt=g,J.p=c,z.T=l}}Ie=1,Cp(),Dp(),Vp()}}function Cp(){if(Ie===1){Ie=0;var t=pa,n=os,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=z.T,z.T=null;var l=J.p;J.p=2;var c=qt;qt|=4;try{lp(n,t);var f=pf,g=dm(t.containerInfo),E=f.focusedElem,w=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&fm(E.ownerDocument.documentElement,E)){if(w!==null&&Pc(E)){var j=w.start,H=w.end;if(H===void 0&&(H=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(H,E.value.length);else{var Q=E.ownerDocument||document,P=Q&&Q.defaultView||window;if(P.getSelection){var k=P.getSelection(),st=E.textContent.length,ht=Math.min(w.start,st),Zt=w.end===void 0?ht:Math.min(w.end,st);!k.extend&&ht>Zt&&(g=Zt,Zt=ht,ht=g);var M=hm(E,ht),N=hm(E,Zt);if(M&&N&&(k.rangeCount!==1||k.anchorNode!==M.node||k.anchorOffset!==M.offset||k.focusNode!==N.node||k.focusOffset!==N.offset)){var B=Q.createRange();B.setStart(M.node,M.offset),k.removeAllRanges(),ht>Zt?(k.addRange(B),k.extend(N.node,N.offset)):(B.setEnd(N.node,N.offset),k.addRange(B))}}}}for(Q=[],k=E;k=k.parentNode;)k.nodeType===1&&Q.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var F=Q[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}ju=!!gf,pf=gf=null}finally{qt=c,J.p=l,z.T=a}}t.current=n,Ie=2}}function Dp(){if(Ie===2){Ie=0;var t=pa,n=os,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=z.T,z.T=null;var l=J.p;J.p=2;var c=qt;qt|=4;try{np(t,n.alternate,n)}finally{qt=c,J.p=l,z.T=a}}Ie=3}}function Vp(){if(Ie===4||Ie===3){Ie=0,yo();var t=pa,n=os,a=qi,l=gp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ie=5:(Ie=0,os=pa=null,Np(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ga=null),bi(a),n=n.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(xn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=z.T,c=J.p,J.p=2,z.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{z.T=n,J.p=c}}(qi&3)!==0&&Cu(),gi(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===ef?Il++:(Il=0,ef=t):Il=0,Ol(0)}}function Np(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,fl(n)))}function Cu(){return Cp(),Dp(),Vp(),Ip()}function Ip(){if(Ie!==5)return!1;var t=pa,n=Wh;Wh=0;var a=bi(qi),l=z.T,c=J.p;try{J.p=32>a?32:a,z.T=null,a=tf,tf=null;var f=pa,g=qi;if(Ie=0,os=pa=null,qi=0,(qt&6)!==0)throw Error(r(331));var E=qt;if(qt|=4,fp(f.current),up(f,f.current,g,a),qt=E,Ol(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(xn,f)}catch{}return!0}finally{J.p=c,z.T=l,Np(t,n)}}function Op(t,n,a){n=Rn(a,n),n=xh(t.stateNode,n,2),t=ua(t,n,2),t!==null&&(Ha(t,2),gi(t))}function Qt(t,n,a){if(t.tag===3)Op(t,t,a);else for(;n!==null;){if(n.tag===3){Op(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ga===null||!ga.has(l))){t=Rn(a,t),a=xg(2),l=ua(n,a,2),l!==null&&(Mg(a,l,n,t),Ha(l,2),gi(l));break}}n=n.return}}function rf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new CE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Zh=!0,c.add(a),t=OE.bind(null,t,n,a),n.then(t,t))}function OE(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Jt===t&&(wt&a)===a&&(oe===4||oe===3&&(wt&62914560)===wt&&300>Ze()-Tu?(qt&2)===0&&us(t,0):Jh|=a,ls===wt&&(ls=0)),gi(t)}function xp(t,n){n===0&&(n=So()),t=ir(t,n),t!==null&&(Ha(t,n),gi(t))}function xE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),xp(t,a)}function ME(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),xp(t,a)}function zE(t,n){return Ne(t,n)}var Du=null,hs=null,sf=!1,Vu=!1,lf=!1,_a=0;function gi(t){t!==hs&&t.next===null&&(hs===null?Du=hs=t:hs=hs.next=t),Vu=!0,sf||(sf=!0,LE())}function Ol(t,n){if(!lf&&Vu){lf=!0;do for(var a=!1,l=Du;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-ce(42|t)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Lp(l,f))}else f=wt,f=Jn(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Mn(l,f)||(a=!0,Lp(l,f));l=l.next}while(a);lf=!1}}function UE(){Mp()}function Mp(){Vu=sf=!1;var t=0;_a!==0&&YE()&&(t=_a);for(var n=Ze(),a=null,l=Du;l!==null;){var c=l.next,f=zp(l,n);f===0?(l.next=null,a===null?Du=c:a.next=c,c===null&&(hs=a)):(a=l,(t!==0||(f&3)!==0)&&(Vu=!0)),l=c}Ie!==0&&Ie!==5||Ol(t),_a!==0&&(_a=0)}function zp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-ce(f),E=1<<g,w=c[g];w===-1?((E&a)===0||(E&l)!==0)&&(c[g]=zc(E,n)):w<=n&&(t.expiredLanes|=E),f&=~E}if(n=Jt,a=wt,a=Jn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Qi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Mn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Qi(l),bi(a)){case 2:case 8:a=ks;break;case 32:a=Yi;break;case 268435456:a=_o;break;default:a=Yi}return l=Up.bind(null,t),a=Ne(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Qi(l),t.callbackPriority=2,t.callbackNode=null,2}function Up(t,n){if(Ie!==0&&Ie!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Cu()&&t.callbackNode!==a)return null;var l=wt;return l=Jn(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(yp(t,l,n),zp(t,Ze()),t.callbackNode!=null&&t.callbackNode===a?Up.bind(null,t):null)}function Lp(t,n){if(Cu())return null;yp(t,n,!0)}function LE(){XE(function(){(qt&6)!==0?Ne(qs,UE):Mp()})}function of(){if(_a===0){var t=Zr;t===0&&(t=Xn,Xn<<=1,(Xn&261888)===0&&(Xn=256)),_a=t}return _a}function Bp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:zr(""+t)}function jp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function BE(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=Bp((c[xe]||null).action),g=l.submitter;g&&(n=(n=g[xe]||null)?Bp(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new oi("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(_a!==0){var w=g?jp(c,g):new FormData(c);Ch(a,{pending:!0,data:w,method:c.method,action:f},null,w)}}else typeof f=="function"&&(E.preventDefault(),w=g?jp(c,g):new FormData(c),Ch(a,{pending:!0,data:w,method:c.method,action:f},f,w))},currentTarget:c}]})}}for(var uf=0;uf<Gc.length;uf++){var cf=Gc[uf],jE=cf.toLowerCase(),PE=cf[0].toUpperCase()+cf.slice(1);kn(jE,"on"+PE)}kn(pm,"onAnimationEnd"),kn(ym,"onAnimationIteration"),kn(_m,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(nE,"onTransitionRun"),kn(iE,"onTransitionStart"),kn(aE,"onTransitionCancel"),kn(vm,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xl));function Pp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],w=E.instance,j=E.currentTarget;if(E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=j;try{f(c)}catch(H){Go(H)}c.currentTarget=null,f=w}else for(g=0;g<l.length;g++){if(E=l[g],w=E.instance,j=E.currentTarget,E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=j;try{f(c)}catch(H){Go(H)}c.currentTarget=null,f=w}}}}function Rt(t,n){var a=n[Nr];a===void 0&&(a=n[Nr]=new Set);var l=t+"__bubble";a.has(l)||(qp(n,t,2,!1),a.add(l))}function hf(t,n,a){var l=0;n&&(l|=4),qp(a,t,l,n)}var Nu="_reactListening"+Math.random().toString(36).slice(2);function ff(t){if(!t[Nu]){t[Nu]=!0,Fs.forEach(function(a){a!=="selectionchange"&&(qE.has(a)||hf(a,!1,t),hf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Nu]||(n[Nu]=!0,hf("selectionchange",!1,n))}}function qp(t,n,a,l){switch(py(n)){case 2:var c=g1;break;case 8:c=p1;break;default:c=Cf}a=c.bind(null,n,a,t),c=void 0,!Xa||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function df(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var w=g.tag;if((w===3||w===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=ei(E),g===null)return;if(w=g.tag,w===5||w===6||w===26||w===27){l=f=g;continue t}E=E.parentNode}}l=l.return}Wi(function(){var j=f,H=Tn(a),Q=[];t:{var P=Em.get(t);if(P!==void 0){var k=oi,st=t;switch(t){case"keypress":if(Ja(a)===0)break t;case"keydown":case"keyup":k=qo;break;case"focusin":st="focus",k=Wa;break;case"focusout":st="blur",k=Wa;break;case"beforeblur":case"afterblur":k=Wa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=al;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Oo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=m;break;case pm:case ym:case _m:k=Mo;break;case vm:k=T;break;case"scroll":case"scrollend":k=il;break;case"wheel":k=q;break;case"copy":case"cut":case"paste":k=zo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Ci;break;case"toggle":case"beforetoggle":k=Et}var ht=(n&4)!==0,Zt=!ht&&(t==="scroll"||t==="scrollend"),M=ht?P!==null?P+"Capture":null:P;ht=[];for(var N=j,B;N!==null;){var F=N;if(B=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||B===null||M===null||(F=Bn(N,M),F!=null&&ht.push(Ml(N,F,B))),Zt)break;N=N.return}0<ht.length&&(P=new k(P,st,null,a,H),Q.push({event:P,listeners:ht}))}}if((n&7)===0){t:{if(P=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",P&&a!==tl&&(st=a.relatedTarget||a.fromElement)&&(ei(st)||st[Wn]))break t;if((k||P)&&(P=H.window===H?H:(P=H.ownerDocument)?P.defaultView||P.parentWindow:window,k?(st=a.relatedTarget||a.toElement,k=j,st=st?ei(st):null,st!==null&&(Zt=h(st),ht=st.tag,st!==Zt||ht!==5&&ht!==27&&ht!==6)&&(st=null)):(k=null,st=j),k!==st)){if(ht=al,F="onMouseLeave",M="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(ht=Ci,F="onPointerLeave",M="onPointerEnter",N="pointer"),Zt=k==null?P:un(k),B=st==null?P:un(st),P=new ht(F,N+"leave",k,a,H),P.target=Zt,P.relatedTarget=B,F=null,ei(H)===j&&(ht=new ht(M,N+"enter",st,a,H),ht.target=B,ht.relatedTarget=Zt,F=ht),Zt=F,k&&st)e:{for(ht=kE,M=k,N=st,B=0,F=M;F;F=ht(F))B++;F=0;for(var ut=N;ut;ut=ht(ut))F++;for(;0<B-F;)M=ht(M),B--;for(;0<F-B;)N=ht(N),F--;for(;B--;){if(M===N||N!==null&&M===N.alternate){ht=M;break e}M=ht(M),N=ht(N)}ht=null}else ht=null;k!==null&&kp(Q,P,k,ht,!1),st!==null&&Zt!==null&&kp(Q,Zt,st,ht,!0)}}t:{if(P=j?un(j):window,k=P.nodeName&&P.nodeName.toLowerCase(),k==="select"||k==="input"&&P.type==="file")var Ut=rm;else if(im(P))if(sm)Ut=W0;else{Ut=J0;var ot=Z0}else k=P.nodeName,!k||k.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?j&&Mr(j.elementType)&&(Ut=rm):Ut=$0;if(Ut&&(Ut=Ut(t,j))){am(Q,Ut,a,H);break t}ot&&ot(t,P,j),t==="focusout"&&j&&P.type==="number"&&j.memoizedProps.value!=null&&Js(P,"number",P.value)}switch(ot=j?un(j):window,t){case"focusin":(im(ot)||ot.contentEditable==="true")&&(kr=ot,qc=j,ul=null);break;case"focusout":ul=qc=kr=null;break;case"mousedown":kc=!0;break;case"contextmenu":case"mouseup":case"dragend":kc=!1,mm(Q,a,H);break;case"selectionchange":if(eE)break;case"keydown":case"keyup":mm(Q,a,H)}var St;if(Pt)t:{switch(t){case"compositionstart":var Ct="onCompositionStart";break t;case"compositionend":Ct="onCompositionEnd";break t;case"compositionupdate":Ct="onCompositionUpdate";break t}Ct=void 0}else qr?tr(t,a)&&(Ct="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ct="onCompositionStart");Ct&&(hi&&a.locale!=="ko"&&(qr||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&qr&&(St=nl()):(li=H,el="value"in li?li.value:li.textContent,qr=!0)),ot=Iu(j,Ct),0<ot.length&&(Ct=new ci(Ct,t,null,a,H),Q.push({event:Ct,listeners:ot}),St?Ct.data=St:(St=Pr(a),St!==null&&(Ct.data=St)))),(St=Sn?Q0(t,a):Y0(t,a))&&(Ct=Iu(j,"onBeforeInput"),0<Ct.length&&(ot=new ci("onBeforeInput","beforeinput",null,a,H),Q.push({event:ot,listeners:Ct}),ot.data=St)),BE(Q,t,j,a,H)}Pp(Q,n)})}function Ml(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Iu(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Bn(t,a),c!=null&&l.unshift(Ml(t,c,f)),c=Bn(t,n),c!=null&&l.push(Ml(t,c,f))),t.tag===3)return l;t=t.return}return[]}function kE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function kp(t,n,a,l,c){for(var f=n._reactName,g=[];a!==null&&a!==l;){var E=a,w=E.alternate,j=E.stateNode;if(E=E.tag,w!==null&&w===l)break;E!==5&&E!==26&&E!==27||j===null||(w=j,c?(j=Bn(a,f),j!=null&&g.unshift(Ml(a,j,w))):c||(j=Bn(a,f),j!=null&&g.push(Ml(a,j,w)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var HE=/\r\n?/g,GE=/\u0000|\uFFFD/g;function Hp(t){return(typeof t=="string"?t:""+t).replace(HE,`
`).replace(GE,"")}function Gp(t,n){return n=Hp(n),Hp(t)===n}function Xt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||tn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&tn(t,""+l);break;case"className":cn(t,"class",l);break;case"tabIndex":cn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":cn(t,a,l);break;case"style":Ws(t,l,f);break;case"data":if(n!=="object"){cn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=zr(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Xt(t,n,"name",c.name,c,null),Xt(t,n,"formEncType",c.formEncType,c,null),Xt(t,n,"formMethod",c.formMethod,c,null),Xt(t,n,"formTarget",c.formTarget,c,null)):(Xt(t,n,"encType",c.encType,c,null),Xt(t,n,"method",c.method,c,null),Xt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=zr(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Ln);break;case"onScroll":l!=null&&Rt("scroll",t);break;case"onScrollEnd":l!=null&&Rt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=zr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Rt("beforetoggle",t),Rt("toggle",t),Or(t,"popover",l);break;case"xlinkActuate":ve(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ve(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ve(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ve(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ve(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ve(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ve(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ve(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ve(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Or(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Io.get(a)||a,Or(t,a,l))}}function mf(t,n,a,l,c,f){switch(a){case"style":Ws(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?tn(t,l):(typeof l=="number"||typeof l=="bigint")&&tn(t,""+l);break;case"onScroll":l!=null&&Rt("scroll",t);break;case"onScrollEnd":l!=null&&Rt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ln);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qs.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[xe]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Or(t,a,l)}}}function ke(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",t),Rt("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Xt(t,n,f,g,a,null)}}c&&Xt(t,n,"srcSet",a.srcSet,a,null),l&&Xt(t,n,"src",a.src,a,null);return;case"input":Rt("invalid",t);var E=f=g=c=null,w=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var H=a[l];if(H!=null)switch(l){case"name":c=H;break;case"type":g=H;break;case"checked":w=H;break;case"defaultChecked":j=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:Xt(t,n,l,H,a,null)}}Do(t,f,E,w,j,g,c,!1);return;case"select":Rt("invalid",t),l=g=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Xt(t,n,c,E,a,null)}n=f,a=g,t.multiple=!!l,n!=null?Xi(t,!!l,n,!1):a!=null&&Xi(t,!!l,a,!0);return;case"textarea":Rt("invalid",t),f=c=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Xt(t,n,g,E,a,null)}Zi(t,l,c,f);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(l=a[w],l!=null))switch(w){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(t,n,w,l,a,null)}return;case"dialog":Rt("beforetoggle",t),Rt("toggle",t),Rt("cancel",t),Rt("close",t);break;case"iframe":case"object":Rt("load",t);break;case"video":case"audio":for(l=0;l<xl.length;l++)Rt(xl[l],t);break;case"image":Rt("error",t),Rt("load",t);break;case"details":Rt("toggle",t);break;case"embed":case"source":case"link":Rt("error",t),Rt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Xt(t,n,j,l,a,null)}return;default:if(Mr(n)){for(H in a)a.hasOwnProperty(H)&&(l=a[H],l!==void 0&&mf(t,n,H,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Xt(t,n,E,l,a,null))}function FE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,w=null,j=null,H=null;for(k in a){var Q=a[k];if(a.hasOwnProperty(k)&&Q!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":w=Q;default:l.hasOwnProperty(k)||Xt(t,n,k,null,l,Q)}}for(var P in l){var k=l[P];if(Q=a[P],l.hasOwnProperty(P)&&(k!=null||Q!=null))switch(P){case"type":f=k;break;case"name":c=k;break;case"checked":j=k;break;case"defaultChecked":H=k;break;case"value":g=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,n));break;default:k!==Q&&Xt(t,n,P,k,l,Q)}}xr(t,g,E,w,j,H,f,c);return;case"select":k=g=E=P=null;for(f in a)if(w=a[f],a.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":k=w;default:l.hasOwnProperty(f)||Xt(t,n,f,null,l,w)}for(c in l)if(f=l[c],w=a[c],l.hasOwnProperty(c)&&(f!=null||w!=null))switch(c){case"value":P=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==w&&Xt(t,n,c,f,l,w)}n=E,a=g,l=k,P!=null?Xi(t,!!a,P,!1):!!l!=!!a&&(n!=null?Xi(t,!!a,n,!0):Xi(t,!!a,a?[]:"",!1));return;case"textarea":k=P=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(t,n,E,null,l,c)}for(g in l)if(c=l[g],f=a[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":P=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Xt(t,n,g,c,l,f)}Vo(t,P,k);return;case"option":for(var st in a)if(P=a[st],a.hasOwnProperty(st)&&P!=null&&!l.hasOwnProperty(st))switch(st){case"selected":t.selected=!1;break;default:Xt(t,n,st,null,l,P)}for(w in l)if(P=l[w],k=a[w],l.hasOwnProperty(w)&&P!==k&&(P!=null||k!=null))switch(w){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Xt(t,n,w,P,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in a)P=a[ht],a.hasOwnProperty(ht)&&P!=null&&!l.hasOwnProperty(ht)&&Xt(t,n,ht,null,l,P);for(j in l)if(P=l[j],k=a[j],l.hasOwnProperty(j)&&P!==k&&(P!=null||k!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,n));break;default:Xt(t,n,j,P,l,k)}return;default:if(Mr(n)){for(var Zt in a)P=a[Zt],a.hasOwnProperty(Zt)&&P!==void 0&&!l.hasOwnProperty(Zt)&&mf(t,n,Zt,void 0,l,P);for(H in l)P=l[H],k=a[H],!l.hasOwnProperty(H)||P===k||P===void 0&&k===void 0||mf(t,n,H,P,l,k);return}}for(var M in a)P=a[M],a.hasOwnProperty(M)&&P!=null&&!l.hasOwnProperty(M)&&Xt(t,n,M,null,l,P);for(Q in l)P=l[Q],k=a[Q],!l.hasOwnProperty(Q)||P===k||P==null&&k==null||Xt(t,n,Q,P,l,k)}function Fp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function QE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&Fp(g)){for(g=0,E=c.responseEnd,l+=1;l<a.length;l++){var w=a[l],j=w.startTime;if(j>E)break;var H=w.transferSize,Q=w.initiatorType;H&&Fp(Q)&&(w=w.responseEnd,g+=H*(w<E?1:(E-j)/(w-j)))}if(--l,n+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var gf=null,pf=null;function Ou(t){return t.nodeType===9?t:t.ownerDocument}function Qp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function yf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var _f=null;function YE(){var t=window.event;return t&&t.type==="popstate"?t===_f?!1:(_f=t,!0):(_f=null,!1)}var Kp=typeof setTimeout=="function"?setTimeout:void 0,KE=typeof clearTimeout=="function"?clearTimeout:void 0,Xp=typeof Promise=="function"?Promise:void 0,XE=typeof queueMicrotask=="function"?queueMicrotask:typeof Xp<"u"?function(t){return Xp.resolve(null).then(t).catch(ZE)}:Kp;function ZE(t){setTimeout(function(){throw t})}function va(t){return t==="head"}function Zp(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(c),gs(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")zl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,zl(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ti]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&zl(t.ownerDocument.body);a=c}while(a);gs(n)}function Jp(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function vf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":vf(a),Ir(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function JE(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ti])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Nn(t.nextSibling),t===null)break}return null}function $E(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Nn(t.nextSibling),t===null))return null;return t}function $p(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Nn(t.nextSibling),t===null))return null;return t}function Ef(t){return t.data==="$?"||t.data==="$~"}function Tf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function WE(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Nn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Af=null;function Wp(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Nn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function ty(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function ey(t,n,a){switch(n=Ou(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function zl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ir(t)}var In=new Map,ny=new Set;function xu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ki=J.d;J.d={f:t1,r:e1,D:n1,C:i1,L:a1,m:r1,X:l1,S:s1,M:o1};function t1(){var t=ki.f(),n=bu();return t||n}function e1(t){var n=En(t);n!==null&&n.tag===5&&n.type==="form"?vg(n):ki.r(t)}var fs=typeof document>"u"?null:document;function iy(t,n,a){var l=fs;if(l&&typeof n=="string"&&n){var c=We(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),ny.has(c)||(ny.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ke(n,"link",t),_e(n),l.head.appendChild(n)))}}function n1(t){ki.D(t),iy("dns-prefetch",t,null)}function i1(t,n){ki.C(t,n),iy("preconnect",t,n)}function a1(t,n,a){ki.L(t,n,a);var l=fs;if(l&&t&&n){var c='link[rel="preload"][as="'+We(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+We(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+We(a.imageSizes)+'"]')):c+='[href="'+We(t)+'"]';var f=c;switch(n){case"style":f=ds(t);break;case"script":f=ms(t)}In.has(f)||(t=R({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),In.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Ul(f))||n==="script"&&l.querySelector(Ll(f))||(n=l.createElement("link"),ke(n,"link",t),_e(n),l.head.appendChild(n)))}}function r1(t,n){ki.m(t,n);var a=fs;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+We(l)+'"][href="'+We(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ms(t)}if(!In.has(f)&&(t=R({rel:"modulepreload",href:t},n),In.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ll(f)))return}l=a.createElement("link"),ke(l,"link",t),_e(l),a.head.appendChild(l)}}}function s1(t,n,a){ki.S(t,n,a);var l=fs;if(l&&t){var c=ni(l).hoistableStyles,f=ds(t);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Ul(f)))E.loading=5;else{t=R({rel:"stylesheet",href:t,"data-precedence":n},a),(a=In.get(f))&&Sf(t,a);var w=g=l.createElement("link");_e(w),ke(w,"link",t),w._p=new Promise(function(j,H){w.onload=j,w.onerror=H}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Mu(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function l1(t,n){ki.X(t,n);var a=fs;if(a&&t){var l=ni(a).hoistableScripts,c=ms(t),f=l.get(c);f||(f=a.querySelector(Ll(c)),f||(t=R({src:t,async:!0},n),(n=In.get(c))&&bf(t,n),f=a.createElement("script"),_e(f),ke(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function o1(t,n){ki.M(t,n);var a=fs;if(a&&t){var l=ni(a).hoistableScripts,c=ms(t),f=l.get(c);f||(f=a.querySelector(Ll(c)),f||(t=R({src:t,async:!0,type:"module"},n),(n=In.get(c))&&bf(t,n),f=a.createElement("script"),_e(f),ke(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function ay(t,n,a,l){var c=(c=At.current)?xu(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ds(a.href),a=ni(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ds(a.href);var f=ni(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(Ul(t)))&&!f._p&&(g.instance=f,g.state.loading=5),In.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},In.set(t,a),f||u1(c,t,a,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ms(a),a=ni(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function ds(t){return'href="'+We(t)+'"'}function Ul(t){return'link[rel="stylesheet"]['+t+"]"}function ry(t){return R({},t,{"data-precedence":t.precedence,precedence:null})}function u1(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ke(n,"link",a),_e(n),t.head.appendChild(n))}function ms(t){return'[src="'+We(t)+'"]'}function Ll(t){return"script[async]"+t}function sy(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+We(a.href)+'"]');if(l)return n.instance=l,_e(l),l;var c=R({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),_e(l),ke(l,"style",c),Mu(l,a.precedence,t),n.instance=l;case"stylesheet":c=ds(a.href);var f=t.querySelector(Ul(c));if(f)return n.state.loading|=4,n.instance=f,_e(f),f;l=ry(a),(c=In.get(c))&&Sf(l,c),f=(t.ownerDocument||t).createElement("link"),_e(f);var g=f;return g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),ke(f,"link",l),n.state.loading|=4,Mu(f,a.precedence,t),n.instance=f;case"script":return f=ms(a.src),(c=t.querySelector(Ll(f)))?(n.instance=c,_e(c),c):(l=a,(c=In.get(f))&&(l=R({},a),bf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),_e(c),ke(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Mu(l,a.precedence,t));return n.instance}function Mu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Sf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function bf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var zu=null;function ly(t,n,a){if(zu===null){var l=new Map,c=zu=new Map;c.set(a,l)}else c=zu,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[ti]||f[ye]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function oy(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function c1(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function uy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function h1(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=ds(l.href),f=n.querySelector(Ul(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Uu.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,_e(f);return}f=n.ownerDocument||n,l=ry(l),(c=In.get(c))&&Sf(l,c),f=f.createElement("link"),_e(f);var g=f;g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),ke(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Uu.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Rf=0;function f1(t,n){return t.stylesheets&&t.count===0&&Bu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Bu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Rf===0&&(Rf=62500*QE());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Bu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Rf?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Uu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lu=null;function Bu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lu=new Map,n.forEach(d1,t),Lu=null,Uu.call(t))}function d1(t,n){if(!(n.state.loading&4)){var a=Lu.get(t);if(a)var l=a.get(null);else{a=new Map,Lu.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=a.get(g)||l,f===l&&a.set(null,c),a.set(g,c),this.count++,l=Uu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Bl={$$typeof:mt,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function m1(t,n,a,l,c,f,g,E,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$n(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$n(0),this.hiddenUpdates=$n(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function cy(t,n,a,l,c,f,g,E,w,j,H,Q){return t=new m1(t,n,a,g,w,j,H,Q,E),n=1,f===!0&&(n|=24),f=fn(3,null,null,n),t.current=f,f.stateNode=t,n=ih(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},lh(f),t}function hy(t){return t?(t=Fr,t):Fr}function fy(t,n,a,l,c,f){c=hy(c),l.context===null?l.context=c:l.pendingContext=c,l=oa(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=ua(t,l,n),a!==null&&(sn(a,t,n),pl(a,t,n))}function dy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function wf(t,n){dy(t,n),(t=t.alternate)&&dy(t,n)}function my(t){if(t.tag===13||t.tag===31){var n=ir(t,67108864);n!==null&&sn(n,t,67108864),wf(t,67108864)}}function gy(t){if(t.tag===13||t.tag===31){var n=yn();n=Fa(n);var a=ir(t,n);a!==null&&sn(a,t,n),wf(t,n)}}var ju=!0;function g1(t,n,a,l){var c=z.T;z.T=null;var f=J.p;try{J.p=2,Cf(t,n,a,l)}finally{J.p=f,z.T=c}}function p1(t,n,a,l){var c=z.T;z.T=null;var f=J.p;try{J.p=8,Cf(t,n,a,l)}finally{J.p=f,z.T=c}}function Cf(t,n,a,l){if(ju){var c=Df(l);if(c===null)df(t,n,l,Pu,a),yy(t,l);else if(_1(c,t,n,a,l))l.stopPropagation();else if(yy(t,l),n&4&&-1<y1.indexOf(t)){for(;c!==null;){var f=En(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Zn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var w=1<<31-ce(g);E.entanglements[1]|=w,g&=~w}gi(f),(qt&6)===0&&(Au=Ze()+500,Ol(0))}}break;case 31:case 13:E=ir(f,2),E!==null&&sn(E,f,2),bu(),wf(f,2)}if(f=Df(l),f===null&&df(t,n,l,Pu,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else df(t,n,l,null,a)}}function Df(t){return t=Tn(t),Vf(t)}var Pu=null;function Vf(t){if(Pu=null,t=ei(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=y(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Pu=t,null}function py(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qa()){case qs:return 2;case ks:return 8;case Yi:case Mc:return 32;case _o:return 268435456;default:return 32}default:return 32}}var Nf=!1,Ea=null,Ta=null,Aa=null,jl=new Map,Pl=new Map,Sa=[],y1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yy(t,n){switch(t){case"focusin":case"focusout":Ea=null;break;case"dragenter":case"dragleave":Ta=null;break;case"mouseover":case"mouseout":Aa=null;break;case"pointerover":case"pointerout":jl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(n.pointerId)}}function ql(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=En(n),n!==null&&my(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function _1(t,n,a,l,c){switch(n){case"focusin":return Ea=ql(Ea,t,n,a,l,c),!0;case"dragenter":return Ta=ql(Ta,t,n,a,l,c),!0;case"mouseover":return Aa=ql(Aa,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return jl.set(f,ql(jl.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Pl.set(f,ql(Pl.get(f)||null,t,n,a,l,c)),!0}return!1}function _y(t){var n=ei(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,zn(t.priority,function(){gy(a)});return}}else if(n===31){if(n=y(a),n!==null){t.blockedOn=n,zn(t.priority,function(){gy(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Df(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);tl=l,a.target.dispatchEvent(l),tl=null}else return n=En(a),n!==null&&my(n),t.blockedOn=a,!1;n.shift()}return!0}function vy(t,n,a){qu(t)&&a.delete(n)}function v1(){Nf=!1,Ea!==null&&qu(Ea)&&(Ea=null),Ta!==null&&qu(Ta)&&(Ta=null),Aa!==null&&qu(Aa)&&(Aa=null),jl.forEach(vy),Pl.forEach(vy)}function ku(t,n){t.blockedOn===n&&(t.blockedOn=null,Nf||(Nf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,v1)))}var Hu=null;function Ey(t){Hu!==t&&(Hu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Hu===t&&(Hu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Vf(l||a)===null)continue;break}var f=En(a);f!==null&&(t.splice(n,3),n-=3,Ch(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function gs(t){function n(w){return ku(w,t)}Ea!==null&&ku(Ea,t),Ta!==null&&ku(Ta,t),Aa!==null&&ku(Aa,t),jl.forEach(n),Pl.forEach(n);for(var a=0;a<Sa.length;a++){var l=Sa[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Sa.length&&(a=Sa[0],a.blockedOn===null);)_y(a),a.blockedOn===null&&Sa.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],g=c[xe]||null;if(typeof f=="function")g||Ey(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[xe]||null)E=g.formAction;else if(Vf(c)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),Ey(a)}}}function Ty(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function If(t){this._internalRoot=t}Gu.prototype.render=If.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=yn();fy(a,l,t,n,null,null)},Gu.prototype.unmount=If.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;fy(t.current,2,null,t,null,null),bu(),n[Wn]=null}};function Gu(t){this._internalRoot=t}Gu.prototype.unstable_scheduleHydration=function(t){if(t){var n=bo();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Sa.length&&n!==0&&n<Sa[a].priority;a++);Sa.splice(a,0,t),a===0&&_y(t)}};var Ay=e.version;if(Ay!=="19.2.4")throw Error(r(527,Ay,"19.2.4"));J.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var E1={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fu.isDisabled&&Fu.supportsFiber)try{xn=Fu.inject(E1),Le=Fu}catch{}}return Hl.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",c=Vg,f=Ng,g=Ig;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=cy(t,1,!1,null,null,a,l,null,c,f,g,Ty),t[Wn]=n.current,ff(t),new If(n)},Hl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,c="",f=Vg,g=Ng,E=Ig,w=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(w=a.formState)),n=cy(t,1,!0,n,a??null,l,c,w,f,g,E,Ty),n.context=hy(null),a=n.current,l=yn(),l=Fa(l),c=oa(l),c.callback=null,ua(a,c,l),a=l,n.current.lanes=a,Ha(n,a),gi(n),t[Wn]=n.current,ff(t),new Gu(n)},Hl.version="19.2.4",Hl}var Oy;function I1(){if(Oy)return Mf.exports;Oy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Mf.exports=N1(),Mf.exports}var O1=I1();const x1=ev(O1);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim();/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase());/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=s=>{const e=z1(s);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var U1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=Re.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:h,iconNode:d,...y},v)=>Re.createElement("svg",{ref:v,...U1,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:nv("lucide",o),...!h&&!L1(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,A])=>Re.createElement(_,A)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=(s,e)=>{const i=Re.forwardRef(({className:r,...o},h)=>Re.createElement(B1,{ref:h,iconNode:e,className:nv(`lucide-${M1(xy(s))}`,`lucide-${s}`,r),...o}));return i.displayName=xy(s),i};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],P1=Si("box",j1);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],k1=Si("folder-open",q1);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],G1=Si("image",H1);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=[["path",{d:"M12 22v-9",key:"x3hkom"}],["path",{d:"M15.17 2.21a1.67 1.67 0 0 1 1.63 0L21 4.57a1.93 1.93 0 0 1 0 3.36L8.82 14.79a1.655 1.655 0 0 1-1.64 0L3 12.43a1.93 1.93 0 0 1 0-3.36z",key:"2ntwy6"}],["path",{d:"M20 13v3.87a2.06 2.06 0 0 1-1.11 1.83l-6 3.08a1.93 1.93 0 0 1-1.78 0l-6-3.08A2.06 2.06 0 0 1 4 16.87V13",key:"1pmm1c"}],["path",{d:"M21 12.43a1.93 1.93 0 0 0 0-3.36L8.83 2.2a1.64 1.64 0 0 0-1.63 0L3 4.57a1.93 1.93 0 0 0 0 3.36l12.18 6.86a1.636 1.636 0 0 0 1.63 0z",key:"12ttoo"}]],Q1=Si("package-open",F1);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],K1=Si("pen",Y1);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],My=Si("plus",X1);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],J1=Si("search",Z1);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],zy=Si("trash-2",$1);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],tT=Si("upload",W1);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],nT=Si("x",eT),iT=({children:s})=>Z.jsxs("div",{className:"min-h-screen bg-surface flex flex-col",children:[Z.jsx("header",{className:"border-b border-zinc-800 bg-sidebar/50 backdrop-blur-md sticky top-0 z-40",children:Z.jsx("div",{className:"w-full px-6 h-16 flex items-center justify-between",children:Z.jsxs("div",{className:"flex items-center space-x-3",children:[Z.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-brand-600 to-brand-800 flex items-center justify-center text-white shadow-lg shadow-brand-900/20",children:Z.jsx(P1,{size:20})}),Z.jsx("span",{className:"font-bold text-lg text-zinc-100 tracking-tight",children:"Magikon Shop"})]})})}),Z.jsx("main",{className:"flex-1",children:Z.jsx("div",{className:"w-full p-6",children:s})}),Z.jsx("footer",{className:"border-t border-zinc-800 py-6 mt-auto",children:Z.jsxs("div",{className:"w-full px-6 text-center text-zinc-500 text-sm",children:[" ",new Date().getFullYear()," Magikon Shop. Todos os direitos reservados."]})})]}),ps=({children:s,variant:e="primary",size:i="md",isLoading:r,className:o="",disabled:h,...d})=>{const y="inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-zinc-900 disabled:opacity-50 disabled:pointer-events-none",v={primary:"bg-brand-600 text-white hover:bg-brand-700 focus:ring-brand-500 border border-transparent shadow-sm",secondary:"bg-zinc-800 text-zinc-100 hover:bg-zinc-700 border border-zinc-700",danger:"bg-red-500/10 text-red-500 hover:bg-red-500/20 border border-red-500/20",ghost:"text-zinc-400 hover:text-white hover:bg-zinc-800/50"},_={sm:"h-8 px-3 text-xs",md:"h-9 px-4 text-sm",lg:"h-11 px-6 text-base"};return Z.jsxs("button",{className:`${y} ${v[e]} ${_[i]} ${o}`,disabled:h||r,...d,children:[r?Z.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[Z.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),Z.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,s]})},Uy=({label:s,error:e,className:i="",...r})=>Z.jsxs("div",{className:"w-full",children:[s&&Z.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-1.5 uppercase tracking-wider",children:s}),Z.jsx("input",{className:`
          w-full bg-zinc-900 border border-zinc-800 rounded-md px-3 py-2 text-sm text-zinc-200 
          placeholder-zinc-600 focus:outline-none focus:ring-2 focus:ring-brand-500/50 focus:border-brand-500 
          transition-all duration-200
          ${e?"border-red-500/50 focus:ring-red-500/50":""}
          ${i}
        `,...r}),e&&Z.jsx("p",{className:"mt-1 text-xs text-red-500",children:e})]}),Ly=({isOpen:s,onClose:e,title:i,children:r})=>(Re.useEffect(()=>{const o=h=>{h.key==="Escape"&&e()};return s&&window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[s,e]),s?Z.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[Z.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:e}),Z.jsxs("div",{className:"relative w-full max-w-lg bg-card border border-zinc-800 rounded-xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[Z.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-zinc-800 bg-zinc-900/50",children:[Z.jsx("h3",{className:"text-lg font-semibold text-white",children:i}),Z.jsx("button",{onClick:e,className:"text-zinc-500 hover:text-white transition-colors",children:Z.jsx(nT,{size:20})})]}),Z.jsx("div",{className:"p-6",children:r})]})]}):null),aT=()=>{};var By={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},rT=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const h=s[i++];e[r++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=s[i++],d=s[i++],y=s[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const h=s[i++],d=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},av={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const h=s[o],d=o+1<s.length,y=d?s[o+1]:0,v=o+2<s.length,_=v?s[o+2]:0,A=h>>2,R=(h&3)<<4|y>>4;let V=(y&15)<<2|_>>6,G=_&63;v||(G=64,d||(V=64)),r.push(i[A],i[R],i[V],i[G])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(iv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):rT(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const h=i[s.charAt(o++)],y=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const R=o<s.length?i[s.charAt(o)]:64;if(++o,h==null||y==null||_==null||R==null)throw new sT;const V=h<<2|y>>4;if(r.push(V),_!==64){const G=y<<4&240|_>>2;if(r.push(G),R!==64){const $=_<<6&192|R;r.push($)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class sT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lT=function(s){const e=iv(s);return av.encodeByteArray(e,!0)},rc=function(s){return lT(s).replace(/\./g,"")},oT=function(s){try{return av.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=()=>uT().__FIREBASE_DEFAULTS__,hT=()=>{if(typeof process>"u"||typeof By>"u")return;const s=By.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},fT=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&oT(s[1]);return e&&JSON.parse(e)},yd=()=>{try{return aT()||cT()||hT()||fT()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},dT=s=>{var e,i;return(i=(e=yd())==null?void 0:e.emulatorHosts)==null?void 0:i[s]},mT=s=>{const e=dT(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},rv=()=>{var s;return(s=yd())==null?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pT(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[rc(JSON.stringify(i)),rc(JSON.stringify(d)),""].join(".")}const Xl={};function _T(){const s={prod:[],emulator:[]};for(const e of Object.keys(Xl))Xl[e]?s.emulator.push(e):s.prod.push(e);return s}function vT(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let jy=!1;function ET(s,e){if(typeof window>"u"||typeof document>"u"||!_d(window.location.host)||Xl[s]===e||Xl[s]||jy)return;Xl[s]=e;function i(V){return`__firebase__banner__${V}`}const r="__firebase__banner",h=_T().prod.length>0;function d(){const V=document.getElementById(r);V&&V.remove()}function y(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function v(V,G){V.setAttribute("width","24"),V.setAttribute("id",G),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function _(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{jy=!0,d()},V}function A(V,G){V.setAttribute("id",G),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function R(){const V=vT(r),G=i("text"),$=document.getElementById(G)||document.createElement("span"),nt=i("learnmore"),tt=document.getElementById(nt)||document.createElement("a"),dt=i("preprendIcon"),yt=document.getElementById(dt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const mt=V.element;y(mt),A(tt,nt);const Bt=_();v(yt,dt),mt.append(yt,$,tt,Bt),document.body.appendChild(mt)}h?($.innerText="Preview backend disconnected.",yt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(yt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AT(){var e;const s=(e=yd())==null?void 0:e.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ST(){return!AT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bT(){try{return typeof indexedDB=="object"}catch{return!1}}function RT(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)==null?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="FirebaseError";class Os extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=wT,Object.setPrototypeOf(this,Os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sv.prototype.create)}}class sv{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?CT(h,r):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new Os(o,y,r)}}function CT(s,e){return s.replace(DT,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const DT=/\{\$([^}]+)}/g;function sc(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const h=s[o],d=e[o];if(Py(h)&&Py(d)){if(!sc(h,d))return!1}else if(h!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function Py(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(s){return s&&s._delegate?s._delegate:s}class to{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new gT;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IT(e))try{this.getOrInitializeService({instanceIdentifier:pr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});r.resolve(h)}catch{}}}}clearInstance(e=pr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pr){return this.instances.has(e)}getOptions(e=pr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);r===y&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const h=this.instances.get(r);return h&&e(h,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:NT(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=pr){return this.component?this.component.multipleInstances?e:pr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NT(s){return s===pr?void 0:s}function IT(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new VT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Mt||(Mt={}));const xT={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},MT=Mt.INFO,zT={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},UT=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=zT[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lv{constructor(e){this.name=e,this._logLevel=MT,this._logHandler=UT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...e),this._logHandler(this,Mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...e),this._logHandler(this,Mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...e),this._logHandler(this,Mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...e),this._logHandler(this,Mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...e),this._logHandler(this,Mt.ERROR,...e)}}const LT=(s,e)=>e.some(i=>s instanceof i);let qy,ky;function BT(){return qy||(qy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jT(){return ky||(ky=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ov=new WeakMap,Kf=new WeakMap,uv=new WeakMap,Bf=new WeakMap,vd=new WeakMap;function PT(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(wa(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&ov.set(i,s)}).catch(()=>{}),vd.set(e,s),e}function qT(s){if(Kf.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Kf.set(s,e)}let Xf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Kf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||uv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return wa(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function kT(s){Xf=s(Xf)}function HT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(jf(this),e,...i);return uv.set(r,e.sort?e.sort():[e]),wa(r)}:jT().includes(s)?function(...e){return s.apply(jf(this),e),wa(ov.get(this))}:function(...e){return wa(s.apply(jf(this),e))}}function GT(s){return typeof s=="function"?HT(s):(s instanceof IDBTransaction&&qT(s),LT(s,BT())?new Proxy(s,Xf):s)}function wa(s){if(s instanceof IDBRequest)return PT(s);if(Bf.has(s))return Bf.get(s);const e=GT(s);return e!==s&&(Bf.set(s,e),vd.set(e,s)),e}const jf=s=>vd.get(s);function FT(s,e,{blocked:i,upgrade:r,blocking:o,terminated:h}={}){const d=indexedDB.open(s,e),y=wa(d);return r&&d.addEventListener("upgradeneeded",v=>{r(wa(d.result),v.oldVersion,v.newVersion,wa(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const QT=["get","getKey","getAll","getAllKeys","count"],YT=["put","add","delete","clear"],Pf=new Map;function Hy(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Pf.get(e))return Pf.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=YT.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||QT.includes(i)))return;const h=async function(d,...y){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return r&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),o&&v.done]))[0]};return Pf.set(e,h),h}kT(s=>({...s,get:(e,i,r)=>Hy(e,i)||s.get(e,i,r),has:(e,i)=>!!Hy(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(XT(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function XT(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zf="@firebase/app",Gy="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new lv("@firebase/app"),ZT="@firebase/app-compat",JT="@firebase/analytics-compat",$T="@firebase/analytics",WT="@firebase/app-check-compat",tA="@firebase/app-check",eA="@firebase/auth",nA="@firebase/auth-compat",iA="@firebase/database",aA="@firebase/data-connect",rA="@firebase/database-compat",sA="@firebase/functions",lA="@firebase/functions-compat",oA="@firebase/installations",uA="@firebase/installations-compat",cA="@firebase/messaging",hA="@firebase/messaging-compat",fA="@firebase/performance",dA="@firebase/performance-compat",mA="@firebase/remote-config",gA="@firebase/remote-config-compat",pA="@firebase/storage",yA="@firebase/storage-compat",_A="@firebase/firestore",vA="@firebase/ai",EA="@firebase/firestore-compat",TA="firebase",AA="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf="[DEFAULT]",SA={[Zf]:"fire-core",[ZT]:"fire-core-compat",[$T]:"fire-analytics",[JT]:"fire-analytics-compat",[tA]:"fire-app-check",[WT]:"fire-app-check-compat",[eA]:"fire-auth",[nA]:"fire-auth-compat",[iA]:"fire-rtdb",[aA]:"fire-data-connect",[rA]:"fire-rtdb-compat",[sA]:"fire-fn",[lA]:"fire-fn-compat",[oA]:"fire-iid",[uA]:"fire-iid-compat",[cA]:"fire-fcm",[hA]:"fire-fcm-compat",[fA]:"fire-perf",[dA]:"fire-perf-compat",[mA]:"fire-rc",[gA]:"fire-rc-compat",[pA]:"fire-gcs",[yA]:"fire-gcs-compat",[_A]:"fire-fst",[EA]:"fire-fst-compat",[vA]:"fire-vertex","fire-js":"fire-js",[TA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=new Map,bA=new Map,$f=new Map;function Fy(s,e){try{s.container.addComponent(e)}catch(i){Hi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function lc(s){const e=s.name;if($f.has(e))return Hi.debug(`There were multiple attempts to register component ${e}.`),!1;$f.set(e,s);for(const i of eo.values())Fy(i,s);for(const i of bA.values())Fy(i,s);return!0}function RA(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function wA(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ca=new sv("app","Firebase",CA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new to("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ca.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=AA;function cv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:Jf,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Ca.create("bad-app-name",{appName:String(o)});if(i||(i=rv()),!i)throw Ca.create("no-options");const h=eo.get(o);if(h){if(sc(i,h.options)&&sc(r,h.config))return h;throw Ca.create("duplicate-app",{appName:o})}const d=new OT(o);for(const v of $f.values())d.addComponent(v);const y=new DA(i,r,d);return eo.set(o,y),y}function NA(s=Jf){const e=eo.get(s);if(!e&&s===Jf&&rv())return cv();if(!e)throw Ca.create("no-app",{appName:s});return e}function Qy(){return Array.from(eo.values())}function Ts(s,e,i){let r=SA[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hi.warn(d.join(" "));return}lc(new to(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA="firebase-heartbeat-database",OA=1,no="firebase-heartbeat-store";let qf=null;function hv(){return qf||(qf=FT(IA,OA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(no)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ca.create("idb-open",{originalErrorMessage:s.message})})),qf}async function xA(s){try{const i=(await hv()).transaction(no),r=await i.objectStore(no).get(fv(s));return await i.done,r}catch(e){if(e instanceof Os)Hi.warn(e.message);else{const i=Ca.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Hi.warn(i.message)}}}async function Yy(s,e){try{const r=(await hv()).transaction(no,"readwrite");await r.objectStore(no).put(e,fv(s)),await r.done}catch(i){if(i instanceof Os)Hi.warn(i.message);else{const r=Ca.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Hi.warn(r.message)}}}function fv(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA=1024,zA=30;class UA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new BA(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Ky();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>zA){const d=jA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Hi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Ky(),{heartbeatsToSend:r,unsentEntries:o}=LA(this._heartbeatsCache.heartbeats),h=rc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Hi.warn(i),""}}}function Ky(){return new Date().toISOString().substring(0,10)}function LA(s,e=MA){const i=[];let r=s.slice();for(const o of s){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Xy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Xy(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class BA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bT()?RT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await xA(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Yy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Yy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Xy(s){return rc(JSON.stringify({version:2,heartbeats:s})).length}function jA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(s){lc(new to("platform-logger",e=>new KT(e),"PRIVATE")),lc(new to("heartbeat",e=>new UA(e),"PRIVATE")),Ts(Zf,Gy,s),Ts(Zf,Gy,"esm2020"),Ts("fire-js","")}PA("");var qA="firebase",kA="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ts(qA,kA,"app");var Zy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Da,dv;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,S){function C(){}C.prototype=S.prototype,D.F=S.prototype,D.prototype=new C,D.prototype.constructor=D,D.D=function(x,I,U){for(var b=Array(arguments.length-2),$t=2;$t<arguments.length;$t++)b[$t-2]=arguments[$t];return S.prototype[I].apply(x,b)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,S,C){C||(C=0);const x=Array(16);if(typeof S=="string")for(var I=0;I<16;++I)x[I]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(I=0;I<16;++I)x[I]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=D.g[0],C=D.g[1],I=D.g[2];let U=D.g[3],b;b=S+(U^C&(I^U))+x[0]+3614090360&4294967295,S=C+(b<<7&4294967295|b>>>25),b=U+(I^S&(C^I))+x[1]+3905402710&4294967295,U=S+(b<<12&4294967295|b>>>20),b=I+(C^U&(S^C))+x[2]+606105819&4294967295,I=U+(b<<17&4294967295|b>>>15),b=C+(S^I&(U^S))+x[3]+3250441966&4294967295,C=I+(b<<22&4294967295|b>>>10),b=S+(U^C&(I^U))+x[4]+4118548399&4294967295,S=C+(b<<7&4294967295|b>>>25),b=U+(I^S&(C^I))+x[5]+1200080426&4294967295,U=S+(b<<12&4294967295|b>>>20),b=I+(C^U&(S^C))+x[6]+2821735955&4294967295,I=U+(b<<17&4294967295|b>>>15),b=C+(S^I&(U^S))+x[7]+4249261313&4294967295,C=I+(b<<22&4294967295|b>>>10),b=S+(U^C&(I^U))+x[8]+1770035416&4294967295,S=C+(b<<7&4294967295|b>>>25),b=U+(I^S&(C^I))+x[9]+2336552879&4294967295,U=S+(b<<12&4294967295|b>>>20),b=I+(C^U&(S^C))+x[10]+4294925233&4294967295,I=U+(b<<17&4294967295|b>>>15),b=C+(S^I&(U^S))+x[11]+2304563134&4294967295,C=I+(b<<22&4294967295|b>>>10),b=S+(U^C&(I^U))+x[12]+1804603682&4294967295,S=C+(b<<7&4294967295|b>>>25),b=U+(I^S&(C^I))+x[13]+4254626195&4294967295,U=S+(b<<12&4294967295|b>>>20),b=I+(C^U&(S^C))+x[14]+2792965006&4294967295,I=U+(b<<17&4294967295|b>>>15),b=C+(S^I&(U^S))+x[15]+1236535329&4294967295,C=I+(b<<22&4294967295|b>>>10),b=S+(I^U&(C^I))+x[1]+4129170786&4294967295,S=C+(b<<5&4294967295|b>>>27),b=U+(C^I&(S^C))+x[6]+3225465664&4294967295,U=S+(b<<9&4294967295|b>>>23),b=I+(S^C&(U^S))+x[11]+643717713&4294967295,I=U+(b<<14&4294967295|b>>>18),b=C+(U^S&(I^U))+x[0]+3921069994&4294967295,C=I+(b<<20&4294967295|b>>>12),b=S+(I^U&(C^I))+x[5]+3593408605&4294967295,S=C+(b<<5&4294967295|b>>>27),b=U+(C^I&(S^C))+x[10]+38016083&4294967295,U=S+(b<<9&4294967295|b>>>23),b=I+(S^C&(U^S))+x[15]+3634488961&4294967295,I=U+(b<<14&4294967295|b>>>18),b=C+(U^S&(I^U))+x[4]+3889429448&4294967295,C=I+(b<<20&4294967295|b>>>12),b=S+(I^U&(C^I))+x[9]+568446438&4294967295,S=C+(b<<5&4294967295|b>>>27),b=U+(C^I&(S^C))+x[14]+3275163606&4294967295,U=S+(b<<9&4294967295|b>>>23),b=I+(S^C&(U^S))+x[3]+4107603335&4294967295,I=U+(b<<14&4294967295|b>>>18),b=C+(U^S&(I^U))+x[8]+1163531501&4294967295,C=I+(b<<20&4294967295|b>>>12),b=S+(I^U&(C^I))+x[13]+2850285829&4294967295,S=C+(b<<5&4294967295|b>>>27),b=U+(C^I&(S^C))+x[2]+4243563512&4294967295,U=S+(b<<9&4294967295|b>>>23),b=I+(S^C&(U^S))+x[7]+1735328473&4294967295,I=U+(b<<14&4294967295|b>>>18),b=C+(U^S&(I^U))+x[12]+2368359562&4294967295,C=I+(b<<20&4294967295|b>>>12),b=S+(C^I^U)+x[5]+4294588738&4294967295,S=C+(b<<4&4294967295|b>>>28),b=U+(S^C^I)+x[8]+2272392833&4294967295,U=S+(b<<11&4294967295|b>>>21),b=I+(U^S^C)+x[11]+1839030562&4294967295,I=U+(b<<16&4294967295|b>>>16),b=C+(I^U^S)+x[14]+4259657740&4294967295,C=I+(b<<23&4294967295|b>>>9),b=S+(C^I^U)+x[1]+2763975236&4294967295,S=C+(b<<4&4294967295|b>>>28),b=U+(S^C^I)+x[4]+1272893353&4294967295,U=S+(b<<11&4294967295|b>>>21),b=I+(U^S^C)+x[7]+4139469664&4294967295,I=U+(b<<16&4294967295|b>>>16),b=C+(I^U^S)+x[10]+3200236656&4294967295,C=I+(b<<23&4294967295|b>>>9),b=S+(C^I^U)+x[13]+681279174&4294967295,S=C+(b<<4&4294967295|b>>>28),b=U+(S^C^I)+x[0]+3936430074&4294967295,U=S+(b<<11&4294967295|b>>>21),b=I+(U^S^C)+x[3]+3572445317&4294967295,I=U+(b<<16&4294967295|b>>>16),b=C+(I^U^S)+x[6]+76029189&4294967295,C=I+(b<<23&4294967295|b>>>9),b=S+(C^I^U)+x[9]+3654602809&4294967295,S=C+(b<<4&4294967295|b>>>28),b=U+(S^C^I)+x[12]+3873151461&4294967295,U=S+(b<<11&4294967295|b>>>21),b=I+(U^S^C)+x[15]+530742520&4294967295,I=U+(b<<16&4294967295|b>>>16),b=C+(I^U^S)+x[2]+3299628645&4294967295,C=I+(b<<23&4294967295|b>>>9),b=S+(I^(C|~U))+x[0]+4096336452&4294967295,S=C+(b<<6&4294967295|b>>>26),b=U+(C^(S|~I))+x[7]+1126891415&4294967295,U=S+(b<<10&4294967295|b>>>22),b=I+(S^(U|~C))+x[14]+2878612391&4294967295,I=U+(b<<15&4294967295|b>>>17),b=C+(U^(I|~S))+x[5]+4237533241&4294967295,C=I+(b<<21&4294967295|b>>>11),b=S+(I^(C|~U))+x[12]+1700485571&4294967295,S=C+(b<<6&4294967295|b>>>26),b=U+(C^(S|~I))+x[3]+2399980690&4294967295,U=S+(b<<10&4294967295|b>>>22),b=I+(S^(U|~C))+x[10]+4293915773&4294967295,I=U+(b<<15&4294967295|b>>>17),b=C+(U^(I|~S))+x[1]+2240044497&4294967295,C=I+(b<<21&4294967295|b>>>11),b=S+(I^(C|~U))+x[8]+1873313359&4294967295,S=C+(b<<6&4294967295|b>>>26),b=U+(C^(S|~I))+x[15]+4264355552&4294967295,U=S+(b<<10&4294967295|b>>>22),b=I+(S^(U|~C))+x[6]+2734768916&4294967295,I=U+(b<<15&4294967295|b>>>17),b=C+(U^(I|~S))+x[13]+1309151649&4294967295,C=I+(b<<21&4294967295|b>>>11),b=S+(I^(C|~U))+x[4]+4149444226&4294967295,S=C+(b<<6&4294967295|b>>>26),b=U+(C^(S|~I))+x[11]+3174756917&4294967295,U=S+(b<<10&4294967295|b>>>22),b=I+(S^(U|~C))+x[2]+718787259&4294967295,I=U+(b<<15&4294967295|b>>>17),b=C+(U^(I|~S))+x[9]+3951481745&4294967295,D.g[0]=D.g[0]+S&4294967295,D.g[1]=D.g[1]+(I+(b<<21&4294967295|b>>>11))&4294967295,D.g[2]=D.g[2]+I&4294967295,D.g[3]=D.g[3]+U&4294967295}r.prototype.v=function(D,S){S===void 0&&(S=D.length);const C=S-this.blockSize,x=this.C;let I=this.h,U=0;for(;U<S;){if(I==0)for(;U<=C;)o(this,D,U),U+=this.blockSize;if(typeof D=="string"){for(;U<S;)if(x[I++]=D.charCodeAt(U++),I==this.blockSize){o(this,x),I=0;break}}else for(;U<S;)if(x[I++]=D[U++],I==this.blockSize){o(this,x),I=0;break}}this.h=I,this.o+=S},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var S=1;S<D.length-8;++S)D[S]=0;S=this.o*8;for(var C=D.length-8;C<D.length;++C)D[C]=S&255,S/=256;for(this.v(D),D=Array(16),S=0,C=0;C<4;++C)for(let x=0;x<32;x+=8)D[S++]=this.g[C]>>>x&255;return D};function h(D,S){var C=y;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=S(D)}function d(D,S){this.h=S;const C=[];let x=!0;for(let I=D.length-1;I>=0;I--){const U=D[I]|0;x&&U==S||(C[I]=U,x=!1)}this.g=C}var y={};function v(D){return-128<=D&&D<128?h(D,function(S){return new d([S|0],S<0?-1:0)}):new d([D|0],D<0?-1:0)}function _(D){if(isNaN(D)||!isFinite(D))return R;if(D<0)return tt(_(-D));const S=[];let C=1;for(let x=0;D>=C;x++)S[x]=D/C|0,C*=4294967296;return new d(S,0)}function A(D,S){if(D.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(D.charAt(0)=="-")return tt(A(D.substring(1),S));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(S,8));let x=R;for(let U=0;U<D.length;U+=8){var I=Math.min(8,D.length-U);const b=parseInt(D.substring(U,U+I),S);I<8?(I=_(Math.pow(S,I)),x=x.j(I).add(_(b))):(x=x.j(C),x=x.add(_(b)))}return x}var R=v(0),V=v(1),G=v(16777216);s=d.prototype,s.m=function(){if(nt(this))return-tt(this).m();let D=0,S=1;for(let C=0;C<this.g.length;C++){const x=this.i(C);D+=(x>=0?x:4294967296+x)*S,S*=4294967296}return D},s.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if($(this))return"0";if(nt(this))return"-"+tt(this).toString(D);const S=_(Math.pow(D,6));var C=this;let x="";for(;;){const I=Bt(C,S).g;C=dt(C,I.j(S));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(D);if(C=I,$(C))return U+x;for(;U.length<6;)U="0"+U;x=U+x}},s.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function $(D){if(D.h!=0)return!1;for(let S=0;S<D.g.length;S++)if(D.g[S]!=0)return!1;return!0}function nt(D){return D.h==-1}s.l=function(D){return D=dt(this,D),nt(D)?-1:$(D)?0:1};function tt(D){const S=D.g.length,C=[];for(let x=0;x<S;x++)C[x]=~D.g[x];return new d(C,~D.h).add(V)}s.abs=function(){return nt(this)?tt(this):this},s.add=function(D){const S=Math.max(this.g.length,D.g.length),C=[];let x=0;for(let I=0;I<=S;I++){let U=x+(this.i(I)&65535)+(D.i(I)&65535),b=(U>>>16)+(this.i(I)>>>16)+(D.i(I)>>>16);x=b>>>16,U&=65535,b&=65535,C[I]=b<<16|U}return new d(C,C[C.length-1]&-2147483648?-1:0)};function dt(D,S){return D.add(tt(S))}s.j=function(D){if($(this)||$(D))return R;if(nt(this))return nt(D)?tt(this).j(tt(D)):tt(tt(this).j(D));if(nt(D))return tt(this.j(tt(D)));if(this.l(G)<0&&D.l(G)<0)return _(this.m()*D.m());const S=this.g.length+D.g.length,C=[];for(var x=0;x<2*S;x++)C[x]=0;for(x=0;x<this.g.length;x++)for(let I=0;I<D.g.length;I++){const U=this.i(x)>>>16,b=this.i(x)&65535,$t=D.i(I)>>>16,ue=D.i(I)&65535;C[2*x+2*I]+=b*ue,yt(C,2*x+2*I),C[2*x+2*I+1]+=U*ue,yt(C,2*x+2*I+1),C[2*x+2*I+1]+=b*$t,yt(C,2*x+2*I+1),C[2*x+2*I+2]+=U*$t,yt(C,2*x+2*I+2)}for(D=0;D<S;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=S;D<2*S;D++)C[D]=0;return new d(C,0)};function yt(D,S){for(;(D[S]&65535)!=D[S];)D[S+1]+=D[S]>>>16,D[S]&=65535,S++}function mt(D,S){this.g=D,this.h=S}function Bt(D,S){if($(S))throw Error("division by zero");if($(D))return new mt(R,R);if(nt(D))return S=Bt(tt(D),S),new mt(tt(S.g),tt(S.h));if(nt(S))return S=Bt(D,tt(S)),new mt(tt(S.g),S.h);if(D.g.length>30){if(nt(D)||nt(S))throw Error("slowDivide_ only works with positive integers.");for(var C=V,x=S;x.l(D)<=0;)C=jt(C),x=jt(x);var I=Nt(C,1),U=Nt(x,1);for(x=Nt(x,2),C=Nt(C,2);!$(x);){var b=U.add(x);b.l(D)<=0&&(I=I.add(C),U=b),x=Nt(x,1),C=Nt(C,1)}return S=dt(D,I.j(S)),new mt(I,S)}for(I=R;D.l(S)>=0;){for(C=Math.max(1,Math.floor(D.m()/S.m())),x=Math.ceil(Math.log(C)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),U=_(C),b=U.j(S);nt(b)||b.l(D)>0;)C-=x,U=_(C),b=U.j(S);$(U)&&(U=V),I=I.add(U),D=dt(D,b)}return new mt(I,D)}s.B=function(D){return Bt(this,D).h},s.and=function(D){const S=Math.max(this.g.length,D.g.length),C=[];for(let x=0;x<S;x++)C[x]=this.i(x)&D.i(x);return new d(C,this.h&D.h)},s.or=function(D){const S=Math.max(this.g.length,D.g.length),C=[];for(let x=0;x<S;x++)C[x]=this.i(x)|D.i(x);return new d(C,this.h|D.h)},s.xor=function(D){const S=Math.max(this.g.length,D.g.length),C=[];for(let x=0;x<S;x++)C[x]=this.i(x)^D.i(x);return new d(C,this.h^D.h)};function jt(D){const S=D.g.length+1,C=[];for(let x=0;x<S;x++)C[x]=D.i(x)<<1|D.i(x-1)>>>31;return new d(C,D.h)}function Nt(D,S){const C=S>>5;S%=32;const x=D.g.length-C,I=[];for(let U=0;U<x;U++)I[U]=S>0?D.i(U+C)>>>S|D.i(U+C+1)<<32-S:D.i(U+C);return new d(I,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,dv=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Da=d}).apply(typeof Zy<"u"?Zy:typeof self<"u"?self:typeof window<"u"?window:{});var Qu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mv,Fl,gv,Wu,Wf,pv,yv,_v;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qu=="object"&&Qu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var p=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in p))break t;p=p[L]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var p=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&p.push([T,m[T]]);return p}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,p){return u.call.apply(u.bind,arguments)}function _(u,m,p){return _=v,_.apply(null,arguments)}function A(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function R(u,m){function p(){}p.prototype=m.prototype,u.Z=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Ob=function(T,L,q){for(var W=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)W[Et-2]=arguments[Et];return m.prototype[L].apply(T,W)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function $(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var p=typeof L;if(p=p!="object"?p:L?Array.isArray(L)?"array":p:"null",p=="array"||p=="object"&&typeof L.length=="number"){p=u.length||0;const q=L.length||0;u.length=p+q;for(let W=0;W<q;W++)u[p+W]=L[W]}else u.push(L)}}class nt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(u){d.setTimeout(()=>{throw u},0)}function dt(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class yt{constructor(){this.h=this.g=null}add(m,p){const T=mt.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var mt=new nt(()=>new Bt,u=>u.reset());class Bt{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let jt,Nt=!1,D=new yt,S=()=>{const u=Promise.resolve(void 0);jt=()=>{u.then(C)}};function C(){for(var u;u=dt();){try{u.h.call(u.g)}catch(p){tt(p)}var m=mt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Nt=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return u})();function b(u){return/^[\s\xa0]*$/.test(u)}function $t(u,m){I.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}R($t,I),$t.prototype.init=function(u,m){const p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&$t.Z.h.call(this)},$t.prototype.h=function(){$t.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ue="closure_listenable_"+(Math.random()*1e6|0),z=0;function J(u,m,p,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++z,this.da=this.fa=!1}function lt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function zt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function Ht(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function O(u){const m={};for(const p in u)m[p]=u[p];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)u[p]=T[p];for(let q=0;q<Y.length;q++)p=Y[q],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,p,T,L){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const W=At(u,m,T,L);return W>-1?(m=u[W],p||(m.fa=!1)):(m=new J(m,this.src,q,!!T,L),m.fa=p,u.push(m)),m};function gt(u,m){const p=m.type;if(p in u.g){var T=u.g[p],L=Array.prototype.indexOf.call(T,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(T,L,1),q&&(lt(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function At(u,m,p,T){for(let L=0;L<u.length;++L){const q=u[L];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return L}return-1}var Ot="closure_lm_"+(Math.random()*1e6|0),Ve={};function ie(u,m,p,T,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ie(u,m[q],p,T,L);return null}return p=Ps(p),u&&u[ue]?u.J(m,p,y(T)?!!T.capture:!1,L):ja(u,m,p,!1,T,L)}function ja(u,m,p,T,L,q){if(!m)throw Error("Invalid event type");const W=y(L)?!!L.capture:!!L;let Et=Pa(u);if(Et||(u[Ot]=Et=new rt(u)),p=Et.add(m,p,T,W,q),p.proxy)return p;if(T=wr(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)U||(L=W),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Kn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function wr(){function u(p){return m.call(u.src,u.listener,p)}const m=Bs;return u}function Cr(u,m,p,T,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)Cr(u,m[q],p,T,L);else T=y(T)?!!T.capture:!!T,p=Ps(p),u&&u[ue]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],p=At(m,p,T,L),p>-1&&(lt(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=Pa(u))&&(m=u.g[m.toString()],u=-1,m&&(u=At(m,p,T,L)),(p=u>-1?m[u]:null)&&Dr(p))}function Dr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ue])gt(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Kn(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Pa(m))?(gt(p,u),p.h==0&&(p.src=null,m[Ot]=null)):lt(u)}}}function Kn(u){return u in Ve?Ve[u]:Ve[u]="on"+u}function Bs(u,m){if(u.da)u=!0;else{m=new $t(m,this);const p=u.listener,T=u.ha||u.src;u.fa&&Dr(u),u=p.call(T,m)}return u}function Pa(u){return u=u[Ot],u instanceof rt?u:null}var js="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ps(u){return typeof u=="function"?u:(u[js]||(u[js]=function(m){return u.handleEvent(m)}),u[js])}function ge(){x.call(this),this.i=new rt(this),this.M=this,this.G=null}R(ge,x),ge.prototype[ue]=!0,ge.prototype.removeEventListener=function(u,m,p,T){Cr(this,u,m,p,T)};function Ne(u,m){var p,T=u.G;if(T)for(p=[];T;T=T.G)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new I(m,u);else if(m instanceof I)m.target=m.target||u;else{var L=m;m=new I(T,u),et(m,L)}L=!0;let q,W;if(p)for(W=p.length-1;W>=0;W--)q=m.g=p[W],L=Qi(q,T,!0,m)&&L;if(q=m.g=u,L=Qi(q,T,!0,m)&&L,L=Qi(q,T,!1,m)&&L,p)for(W=0;W<p.length;W++)q=m.g=p[W],L=Qi(q,T,!1,m)&&L}ge.prototype.N=function(){if(ge.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const p=u.g[m];for(let T=0;T<p.length;T++)lt(p[T]);delete u.g[m],u.h--}}this.G=null},ge.prototype.J=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},ge.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function Qi(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const W=m[q];if(W&&!W.da&&W.capture==p){const Et=W.listener,he=W.ha||W.src;W.fa&&gt(u.i,W),L=Et.call(he,T)!==!1&&L}}return L&&!T.defaultPrevented}function xc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function yo(u){u.g=xc(()=>{u.g=null,u.i&&(u.i=!1,yo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ze extends x{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:yo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qa(u){x.call(this),this.h=u,this.g={}}R(qa,x);var qs=[];function ks(u){zt(u.g,function(m,p){this.g.hasOwnProperty(p)&&Dr(m)},u),u.g={}}qa.prototype.N=function(){qa.Z.N.call(this),ks(this)},qa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yi=d.JSON.stringify,Mc=d.JSON.parse,_o=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function vo(){}function Eo(){}var xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Le(){I.call(this,"d")}R(Le,I);function vn(){I.call(this,"c")}R(vn,I);var ce={},To=null;function Vr(){return To=To||new ge}ce.Ia="serverreachability";function Ao(u){I.call(this,ce.Ia,u)}R(Ao,I);function Xn(u){const m=Vr();Ne(m,new Ao(m))}ce.STAT_EVENT="statevent";function ka(u,m){I.call(this,ce.STAT_EVENT,u),this.stat=m}R(ka,I);function pe(u){const m=Vr();Ne(m,new ka(m,u))}ce.Ja="timingevent";function Zn(u,m){I.call(this,ce.Ja,u),this.size=m}R(Zn,I);function Jn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Mn(){this.g=!0}Mn.prototype.ua=function(){this.g=!1};function zc(u,m,p,T,L,q){u.info(function(){if(u.g)if(q){var W="",Et=q.split("&");for(let Pt=0;Pt<Et.length;Pt++){var he=Et[Pt].split("=");if(he.length>1){const ae=he[0];he=he[1];const Sn=ae.split("_");W=Sn.length>=2&&Sn[1]=="type"?W+(ae+"="+he+"&"):W+(ae+"=redacted&")}}}else W=null;else W=q;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+W})}function So(u,m,p,T,L,q,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+q+" "+W})}function $n(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Uc(u,p)+(T?" "+T:"")})}function Ha(u,m){u.info(function(){return"TIMEOUT: "+m})}Mn.prototype.info=function(){};function Uc(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var p=q[u];if(!(p.length<2)){var T=p[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return Yi(q)}catch{return m}}var Ga={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Hs={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Gs;function Fa(){}R(Fa,vo),Fa.prototype.g=function(){return new XMLHttpRequest},Gs=new Fa;function bi(u){return encodeURIComponent(String(u))}function bo(u){var m=1;u=u.split(":");const p=[];for(;m>0&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function zn(u,m,p,T){this.j=u,this.i=m,this.l=p,this.S=T||1,this.V=new qa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Un}function Un(){this.i=null,this.g="",this.h=!1}var ye={},xe={};function Wn(u,m,p){u.M=1,u.A=Qa(ve(m)),u.u=p,u.R=!0,Nr(u,null)}function Nr(u,m){u.F=Date.now(),ti(u),u.B=ve(u.A);var p=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Mr(p.i,"t",T),u.C=0,p=u.j.L,u.h=new Un,u.g=jo(u.j,p?m:null,!u.u),u.P>0&&(u.O=new Ze(_(u.Y,u,u.g),u.P)),m=u.V,p=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(qs[0]=L.toString()),L=qs);for(let q=0;q<L.length;q++){const W=ie(p,L[q],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Xn(),zc(u.i,u.v,u.B,u.l,u.S,u.u)}zn.prototype.ba=function(u){u=u.target;const m=this.O;m&&jn(u)==3?m.j():this.Y(u)},zn.prototype.Y=function(u){try{if(u==this.g)t:{const Et=jn(this.g),he=this.g.ya(),Pt=this.g.ca();if(!(Et<3)&&(Et!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||Et!=4||he==7||(he==8||Pt<=0?Xn(3):Xn(2)),ei(this);var m=this.g.ca();this.X=m;var p=Lc(this);if(this.o=m==200,So(this.i,this.v,this.B,this.l,this.S,Et,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(T)){var q=T;break e}}q=null}if(u=q)$n(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ni(this,u);else{this.o=!1,this.m=3,pe(12),un(this),En(this);break t}}if(this.R){u=!0;let ae;for(;!this.K&&this.C<p.length;)if(ae=wo(this,p),ae==xe){Et==4&&(this.m=4,pe(14),u=!1),$n(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==ye){this.m=4,pe(15),$n(this.i,this.l,p,"[Invalid Chunk]"),u=!1;break}else $n(this.i,this.l,ae,null),ni(this,ae);if(Ro(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||p.length!=0||this.h.h||(this.m=1,pe(16),u=!1),this.o=this.o&&u,!u)$n(this.i,this.l,p,"[Invalid Chunked Response]"),un(this),En(this);else if(p.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),rl(W),W.P=!0,pe(11))}}else $n(this.i,this.l,p,null),ni(this,p);Et==4&&un(this),this.o&&!this.K&&(Et==4?zo(this.j,this):(this.o=!1,ti(this)))}else wi(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,pe(12)):(this.m=0,pe(13)),un(this),En(this)}}}catch{}finally{}};function Lc(u){if(!Ro(u))return u.g.la();const m=Be(u.g);if(m==="")return"";let p="";const T=m.length,L=jn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return un(u),En(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,p+=u.h.i.decode(m[q],{stream:!(L&&q==T-1)});return m.length=0,u.h.g+=p,u.C=0,u.h.g}function Ro(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function wo(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?xe:(p=Number(m.substring(p,T)),isNaN(p)?ye:(T+=1,T+p>m.length?xe:(m=m.slice(T,T+p),u.C=T+p,m)))}zn.prototype.cancel=function(){this.K=!0,un(this)};function ti(u){u.T=Date.now()+u.H,Ir(u,u.H)}function Ir(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Jn(_(u.aa,u),m)}function ei(u){u.D&&(d.clearTimeout(u.D),u.D=null)}zn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ha(this.i,this.B),this.M!=2&&(Xn(),pe(17)),un(this),this.m=2,En(this)):Ir(this,this.T-u)};function En(u){u.j.I==0||u.K||zo(u.j,u)}function un(u){ei(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ks(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ni(u,m){try{var p=u.j;if(p.I!=0&&(p.g==u||ai(p.h,u))){if(!u.L&&ai(p.h,u)&&p.I==3){try{var T=p.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<u.F)jr(p),ea(p);else break t;Wa(p),pe(18)}}else p.xa=L[1],0<p.xa-p.K&&L[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Jn(_(p.Va,p),6e3));ii(p.h)<=1&&p.ta&&(p.ta=void 0)}else ci(p,11)}else if((u.L||p.g==u)&&jr(p),!b(m))for(L=p.Ba.g.parse(m),m=0;m<L.length;m++){let Pt=L[m];const ae=Pt[0];if(!(ae<=p.K))if(p.K=ae,Pt=Pt[1],p.I==2)if(Pt[0]=="c"){p.M=Pt[1],p.ba=Pt[2];const Sn=Pt[3];Sn!=null&&(p.ka=Sn,p.j.info("VER="+p.ka));const hi=Pt[4];hi!=null&&(p.za=hi,p.j.info("SVER="+p.za));const Pn=Pt[5];Pn!=null&&typeof Pn=="number"&&Pn>0&&(T=1.5*Pn,p.O=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const qn=u.g;if(qn){const tr=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(tr){var q=T.h;q.g||tr.indexOf("spdy")==-1&&tr.indexOf("quic")==-1&&tr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ys(q,q.h),q.h=null))}if(T.G){const Pr=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Pr&&(T.wa=Pr,Gt(T.J,T.G,Pr))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-u.F,p.j.info("Handshake RTT: "+p.T+"ms")),T=p;var W=u;if(T.na=Bo(T,T.L?T.ba:null,T.W),W.L){Ks(T.h,W);var Et=W,he=T.O;he&&(Et.H=he),Et.D&&(ei(Et),ti(Et)),T.g=W}else xo(T);p.i.length>0&&ui(p)}else Pt[0]!="stop"&&Pt[0]!="close"||ci(p,7);else p.I==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?ci(p,7):il(p):Pt[0]!="noop"&&p.l&&p.l.qa(Pt),p.A=0)}}Xn(4)}catch{}}var _e=class{constructor(u,m){this.g=u,this.map=m}};function Fs(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Qs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ii(u){return u.h?1:u.g?u.g.size:0}function ai(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ys(u,m){u.g?u.g.add(m):u.h=m}function Ks(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Fs.prototype.cancel=function(){if(this.i=Xs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Xs(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.G);return m}return G(u.i)}var Co=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Or(u,m){if(u){u=u.split("&");for(let p=0;p<u.length;p++){const T=u[p].indexOf("=");let L,q=null;T>=0?(L=u[p].substring(0,T),q=u[p].substring(T+1)):L=u[p],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function cn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof cn?(this.l=u.l,Me(this,u.j),this.o=u.o,this.g=u.g,Ki(this,u.u),this.h=u.h,Zs(this,Io(u.i)),this.m=u.m):u&&(m=String(u).match(Co))?(this.l=!1,Me(this,m[1]||"",!0),this.o=ri(m[2]||""),this.g=ri(m[3]||"",!0),Ki(this,m[4]),this.h=ri(m[5]||"",!0),Zs(this,m[6]||"",!0),this.m=ri(m[7]||"")):(this.l=!1,this.i=new Zi(null,this.l))}cn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ya(m,xr,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ya(m,xr,!0),"@"),u.push(bi(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&u.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Ya(p,p.charAt(0)=="/"?Js:Do,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Ya(p,Vo)),u.join("")},cn.prototype.resolve=function(u){const m=ve(this);let p=!!u.j;p?Me(m,u.j):p=!!u.o,p?m.o=u.o:p=!!u.g,p?m.g=u.g:p=u.u!=null;var T=u.h;if(p)Ki(m,u.u);else if(p=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let W=0;W<L.length;){const Et=L[W++];Et=="."?T&&W==L.length&&q.push(""):Et==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&W==L.length&&q.push("")):(q.push(Et),T=!0)}T=q.join("/")}else T=L}return p?m.h=T:p=u.i.toString()!=="",p?Zs(m,Io(u.i)):p=!!u.m,p&&(m.m=u.m),m};function ve(u){return new cn(u)}function Me(u,m,p){u.j=p?ri(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ki(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Zs(u,m,p){m instanceof Zi?(u.i=m,zr(u.i,u.l)):(p||(m=Ya(m,Xi)),u.i=new Zi(m,u.l))}function Gt(u,m,p){u.i.set(m,p)}function Qa(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ri(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ya(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,We),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function We(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var xr=/[#\/\?@]/g,Do=/[#\?:]/g,Js=/[#\?]/g,Xi=/[#\?@]/g,Vo=/#/g;function Zi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function tn(u){u.g||(u.g=new Map,u.h=0,u.i&&Or(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=Zi.prototype,s.add=function(u,m){tn(this),this.i=null,u=Ji(this,u);let p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function No(u,m){tn(u),m=Ji(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function $s(u,m){return tn(u),m=Ji(u,m),u.g.has(m)}s.forEach=function(u,m){tn(this),this.g.forEach(function(p,T){p.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Ws(u,m){tn(u);let p=[];if(typeof m=="string")$s(u,m)&&(p=p.concat(u.g.get(Ji(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)p=p.concat(u[m]);return p}s.set=function(u,m){return tn(this),this.i=null,u=Ji(this,u),$s(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Ws(this,u),u.length>0?String(u[0]):m):m};function Mr(u,m,p){No(u,m),p.length>0&&(u.i=null,u.g.set(Ji(u,m),G(p)),u.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var p=m[T];const L=bi(p);p=Ws(this,p);for(let q=0;q<p.length;q++){let W=L;p[q]!==""&&(W+="="+bi(p[q])),u.push(W)}}return this.i=u.join("&")};function Io(u){const m=new Zi;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ji(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function zr(u,m){m&&!u.j&&(tn(u),u.i=null,u.g.forEach(function(p,T){const L=T.toLowerCase();T!=L&&(No(this,T),Mr(this,L,p))},u)),u.j=m}function Ln(u,m){const p=new Mn;if(d.Image){const T=new Image;T.onload=A(Tn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Tn,p,"TestLoadImage: error",!1,m,T),T.onabort=A(Tn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Tn,p,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function tl(u,m){const p=new Mn,T=new AbortController,L=setTimeout(()=>{T.abort(),Tn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(L),q.ok?Tn(p,"TestPingServer: ok",!0,m):Tn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Tn(p,"TestPingServer: error",!1,m)})}function Tn(u,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function $i(){this.g=new _o}function si(u){this.i=u.Sb||null,this.h=u.ab||!1}R(si,vo),si.prototype.g=function(){return new Ka(this.i,this.h)};function Ka(u,m){ge.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}R(Ka,ge),s=Ka.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Bn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Wi(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ur(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ur(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Wi(this):Bn(this),this.readyState==3&&Ur(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Wi(this))},s.Na=function(u){this.g&&(this.response=u,Wi(this))},s.ga=function(){this.g&&Wi(this)};function Wi(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Bn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Bn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ka.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function An(u){let m="";return zt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Xa(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=An(p),typeof u=="string"?p!=null&&bi(p):Gt(u,m,p))}function Yt(u){ge.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}R(Yt,ge);var li=/^https?$/i,el=["POST","PUT"];s=Yt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Gs.g(),this.g.onreadystatechange=V(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Za(this,q);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(el,m,void 0)>=0)||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,W]of p)this.g.setRequestHeader(q,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Za(this,q)}};function Za(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,nl(u),Ri(u)}function nl(u){u.A||(u.A=!0,Ne(u,"complete"),Ne(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ne(this,"complete"),Ne(this,"abort"),Ri(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ri(this,!0)),Yt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ja(this):this.Xa())},s.Xa=function(){Ja(this)};function Ja(u){if(u.h&&typeof h<"u"){if(u.v&&jn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ne(u,"readystatechange"),jn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=q===0){let W=String(u.D).match(Co)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),T=!li.test(W?W.toLowerCase():"")}p=T}if(p)Ne(u,"complete"),Ne(u,"success");else{u.o=6;try{var L=jn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",nl(u)}}finally{Ri(u)}}}}function Ri(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const p=u.g;u.g=null,m||Ne(u,"ready");try{p.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function jn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return jn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Mc(m)}};function Be(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function wi(u){const m={};u=(u.g&&jn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(b(u[T]))continue;var p=bo(u[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[L]||[];m[L]=q,q.push(p)}Ht(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function oi(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function ta(u){this.za=0,this.i=[],this.j=new Mn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=oi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=oi("baseRetryDelayMs",5e3,u),this.Za=oi("retryDelaySeedMs",1e4,u),this.Ta=oi("forwardChannelMaxRetries",2,u),this.va=oi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Fs(u&&u.concurrentRequestLimit),this.Ba=new $i,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ta.prototype,s.ka=8,s.I=1,s.connect=function(u,m,p,T){pe(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.J=Bo(this,null,this.W),ui(this)};function il(u){if(Lr(u),u.I==3){var m=u.V++,p=ve(u.J);if(Gt(p,"SID",u.M),Gt(p,"RID",m),Gt(p,"TYPE","terminate"),$a(u,p),m=new zn(u,u.j,m),m.M=2,m.A=Qa(ve(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=jo(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ti(m)}Lo(u)}function ea(u){u.g&&(rl(u),u.g.cancel(),u.g=null)}function Lr(u){ea(u),u.v&&(d.clearTimeout(u.v),u.v=null),jr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function ui(u){if(!Qs(u.h)&&!u.m){u.m=!0;var m=u.Ea;jt||S(),Nt||(jt(),Nt=!0),D.add(m,u),u.D=0}}function Br(u,m){return ii(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Jn(_(u.Ea,u,m),Uo(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new zn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=O(q),et(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Oo(this,L,m),p=ve(this.J),Gt(p,"RID",u),Gt(p,"CVER",22),this.G&&Gt(p,"X-HTTP-Session-Id",this.G),$a(this,p),q&&(this.R?m="headers="+bi(An(q))+"&"+m:this.u&&Xa(p,this.u,q)),Ys(this.h,L),this.Ra&&Gt(p,"TYPE","init"),this.S?(Gt(p,"$req",m),Gt(p,"SID","null"),L.U=!0,Wn(L,p,null)):Wn(L,p,m),this.I=2}}else this.I==3&&(u?al(this,u):this.i.length==0||Qs(this.h)||al(this))};function al(u,m){var p;m?p=m.l:p=u.V++;const T=ve(u.J);Gt(T,"SID",u.M),Gt(T,"RID",p),Gt(T,"AID",u.K),$a(u,T),u.u&&u.o&&Xa(T,u.u,u.o),p=new zn(u,u.j,p,u.D+1),u.u===null&&(p.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Oo(u,p,1e3),p.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ys(u.h,p),Wn(p,T,m)}function $a(u,m){u.H&&zt(u.H,function(p,T){Gt(m,T,p)}),u.l&&zt({},function(p,T){Gt(m,T,p)})}function Oo(u,m,p){p=Math.min(u.i.length,p);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let Et=-1;for(;;){const he=["count="+p];Et==-1?p>0?(Et=L[0].g,he.push("ofs="+Et)):Et=0:he.push("ofs="+Et);let Pt=!0;for(let ae=0;ae<p;ae++){var q=L[ae].g;const Sn=L[ae].map;if(q-=Et,q<0)Et=Math.max(0,L[ae].g-100),Pt=!1;else try{q="req"+q+"_"||"";try{var W=Sn instanceof Map?Sn:Object.entries(Sn);for(const[hi,Pn]of W){let qn=Pn;y(Pn)&&(qn=Yi(Pn)),he.push(q+hi+"="+encodeURIComponent(qn))}}catch(hi){throw he.push(q+"type="+encodeURIComponent("_badmap")),hi}}catch{T&&T(Sn)}}if(Pt){W=he.join("&");break t}}W=void 0}return u=u.i.splice(0,p),m.G=u,W}function xo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;jt||S(),Nt||(jt(),Nt=!0),D.add(m,u),u.A=0}}function Wa(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Jn(_(u.Da,u),Uo(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Mo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Jn(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pe(10),ea(this),Mo(this))};function rl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Mo(u){u.g=new zn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ve(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),$a(u,m),u.u&&u.o&&Xa(m,u.u,u.o),u.O&&(u.g.H=u.O);var p=u.g;u=u.ba,p.M=1,p.A=Qa(ve(m)),p.u=null,p.R=!0,Nr(p,u)}s.Va=function(){this.C!=null&&(this.C=null,ea(this),Wa(this),pe(19))};function jr(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function zo(u,m){var p=null;if(u.g==m){jr(u),rl(u),u.g=null;var T=2}else if(ai(u.h,m))p=m.G,Ks(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Vr(),Ne(T,new Zn(T,p)),ui(u)}else xo(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&Br(u,m)||T==2&&Wa(u)))switch(p&&p.length>0&&(m=u.h,m.i=m.i.concat(p)),L){case 1:ci(u,5);break;case 4:ci(u,10);break;case 3:ci(u,6);break;default:ci(u,2)}}}function Uo(u,m){let p=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(p*=2),p*m}function ci(u,m){if(u.j.info("Error code "+m),m==2){var p=_(u.bb,u),T=u.Ua;const L=!T;T=new cn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Me(T,"https"),Qa(T),L?Ln(T.toString(),p):tl(T.toString(),p)}else pe(2);u.I=0,u.l&&u.l.pa(m),Lo(u),Lr(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function Lo(u){if(u.I=0,u.ja=[],u.l){const m=Xs(u.h);(m.length!=0||u.i.length!=0)&&($(u.ja,m),$(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function Bo(u,m,p){var T=p instanceof cn?ve(p):new cn(p);if(T.g!="")m&&(T.g=m+"."+T.g),Ki(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new cn(null);T&&Me(q,T),m&&(q.g=m),L&&Ki(q,L),p&&(q.h=p),T=q}return p=u.G,m=u.wa,p&&m&&Gt(T,p,m),Gt(T,"VER",u.ka),$a(u,T),T}function jo(u,m,p){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Yt(new si({ab:p})):new Yt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Po(){}s=Po.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function na(){}na.prototype.g=function(u,m){return new Je(u,m)};function Je(u,m){ge.call(this),this.g=new ta(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!b(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!b(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ci(this)}R(Je,ge),Je.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){il(this.g)},Je.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.v&&(p={},p.__data__=Yi(u),u=p);m.i.push(new _e(m.Ya++,u)),m.I==3&&ui(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,il(this.g),delete this.g,Je.Z.N.call(this)};function qo(u){Le.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}R(qo,Le);function ko(){vn.call(this),this.status=1}R(ko,vn);function Ci(u){this.g=u}R(Ci,Po),Ci.prototype.ra=function(){Ne(this.g,"a")},Ci.prototype.qa=function(u){Ne(this.g,new qo(u))},Ci.prototype.pa=function(u){Ne(this.g,new ko)},Ci.prototype.oa=function(){Ne(this.g,"b")},na.prototype.createWebChannel=na.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,_v=function(){return new na},yv=function(){return Vr()},pv=ce,Wf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ga.NO_ERROR=0,Ga.TIMEOUT=8,Ga.HTTP_ERROR=6,Wu=Ga,Hs.COMPLETE="complete",gv=Hs,Eo.EventType=xn,xn.OPEN="a",xn.CLOSE="b",xn.ERROR="c",xn.MESSAGE="d",ge.prototype.listen=ge.prototype.J,Fl=Eo,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,mv=Yt}).apply(typeof Qu<"u"?Qu:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xs="12.9.0";function HA(s){xs=s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er=new lv("@firebase/firestore");function ys(){return Er.logLevel}function at(s,...e){if(Er.logLevel<=Mt.DEBUG){const i=e.map(Ed);Er.debug(`Firestore (${xs}): ${s}`,...i)}}function Gi(s,...e){if(Er.logLevel<=Mt.ERROR){const i=e.map(Ed);Er.error(`Firestore (${xs}): ${s}`,...i)}}function Tr(s,...e){if(Er.logLevel<=Mt.WARN){const i=e.map(Ed);Er.warn(`Firestore (${xs}): ${s}`,...i)}}function Ed(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,vv(s,r,i)}function vv(s,e,i){let r=`FIRESTORE (${xs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Gi(r),new Error(r)}function kt(s,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||vv(e,o,r)}function vt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends Os{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ke.UNAUTHENTICATED)))}shutdown(){}}class FA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class QA{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){kt(this.o===void 0,42304);let r=this.i;const o=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let h=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new _r,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},y=v=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new _r)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(kt(typeof r.accessToken=="string",31837,{l:r}),new Ev(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string",2055,{h:e}),new Ke(e)}}class YA{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class KA{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new YA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ke.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Jy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){kt(this.o===void 0,3512);const r=h=>{h.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>r(h)))};const o=h=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Jy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(kt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Jy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=ZA(40);for(let h=0;h<o.length;++h)r.length<20&&o[h]<i&&(r+=e.charAt(o[h]%62))}return r}}function Dt(s,e){return s<e?-1:s>e?1:0}function td(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const o=s.charAt(r),h=e.charAt(r);if(o!==h)return kf(o)===kf(h)?Dt(o,h):kf(o)?1:-1}return Dt(s.length,e.length)}const JA=55296,$A=57343;function kf(s){const e=s.charCodeAt(0);return e>=JA&&e<=$A}function Rs(s,e,i){return s.length===e.length&&s.every(((r,o)=>i(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y="__name__";class pi{constructor(e,i,r){i===void 0?i=0:i>e.length&&ft(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&ft(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return pi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof pi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const h=pi.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Dt(e.length,i.length)}static compareSegments(e,i){const r=pi.isNumericId(e),o=pi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?pi.extractNumericId(e).compare(pi.extractNumericId(i)):td(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Da.fromString(e.substring(4,e.length-2))}}class Wt extends pi{construct(e,i,r){return new Wt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new it(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new Wt(i)}static emptyPath(){return new Wt([])}}const WA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends pi{construct(e,i,r){return new Ge(e,i,r)}static isValidIdentifier(e){return WA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$y}static keyField(){return new Ge([$y])}static fromServerFormat(e){const i=[];let r="",o=0;const h=()=>{if(r.length===0)throw new it(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new it(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new it(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(r+=y,o++):(h(),o++)}if(h(),d)throw new it(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ge(i)}static emptyPath(){return new Ge([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.path=e}static fromPath(e){return new ct(Wt.fromString(e))}static fromName(e){return new ct(Wt.fromString(e).popFirst(5))}static empty(){return new ct(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Wt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ct(new Wt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(s,e,i){if(!i)throw new it(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function tS(s,e,i,r){if(e===!0&&r===!0)throw new it(K.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Wy(s){if(!ct.isDocumentKey(s))throw new it(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function t_(s){if(ct.isDocumentKey(s))throw new it(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Av(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function vc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ft(12329,{type:typeof s})}function Va(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new it(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=vc(s);throw new it(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(s,e){const i={typeString:s};return e&&(i.value=e),i}function co(s,e){if(!Av(s))throw new it(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,h="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new it(K.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=-62135596800,n_=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(e){return ne.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*n_);return new ne(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new it(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new it(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<e_)throw new it(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new it(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/n_}_compareTo(e){return this.seconds===e.seconds?Dt(this.nanoseconds,e.nanoseconds):Dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(co(e,ne._jsonSchema))return new ne(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-e_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:Ce("string",ne._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{static fromTimestamp(e){return new pt(e)}static min(){return new pt(new ne(0,0))}static max(){return new pt(new ne(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=-1;function eS(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=pt.fromTimestamp(r===1e9?new ne(i+1,0):new ne(i,r));return new Ia(o,ct.empty(),e)}function nS(s){return new Ia(s.readTime,s.key,io)}class Ia{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Ia(pt.min(),ct.empty(),io)}static max(){return new Ia(pt.max(),ct.empty(),io)}}function iS(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ct.comparator(s.documentKey,e.documentKey),i!==0?i:Dt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ms(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==aS)throw s;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ft(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((r,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,r)=>{i(e)}))}static reject(e){return new X(((i,r)=>{r(e)}))}static waitFor(e){return new X(((i,r)=>{let o=0,h=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++h,d&&h===o&&i()}),(v=>r(v)))})),d=!0,h===o&&i()}))}static or(e){let i=X.resolve(!1);for(const r of e)i=i.next((o=>o?X.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,h)=>{r.push(i.call(this,o,h))})),this.waitFor(r)}static mapArray(e,i){return new X(((r,o)=>{const h=e.length,d=new Array(h);let y=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next((A=>{d[_]=A,++y,y===h&&r(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new X(((r,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):r()};h()}))}}function sS(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function zs(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ec.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad=-1;function Tc(s){return s==null}function oc(s){return s===0&&1/s==-1/0}function lS(s){return typeof s=="number"&&Number.isInteger(s)&&!oc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="";function oS(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=i_(e)),e=uS(s.get(i),e);return i_(e)}function uS(s,e){let i=e;const r=s.length;for(let o=0;o<r;o++){const h=s.charAt(o);switch(h){case"\0":i+="";break;case Sv:i+="";break;default:i+=h}}return i}function i_(s){return s+Sv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function La(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function bv(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e,i){this.comparator=e,this.root=i||He.EMPTY}insert(e,i){return new se(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(e){return new se(this.comparator,this.root.remove(e,this.comparator).copy(null,null,He.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yu(this.root,e,this.comparator,!0)}}class Yu{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class He{constructor(e,i,r,o,h){this.key=e,this.value=i,this.color=r??He.RED,this.left=o??He.EMPTY,this.right=h??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,h){return new He(e??this.key,i??this.value,r??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const h=r(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,r),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return He.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ft(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ft(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ft(27949);return e+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw ft(57766)}get value(){throw ft(16141)}get color(){throw ft(16727)}get left(){throw ft(29726)}get right(){throw ft(36894)}copy(e,i,r,o,h){return this}insert(e,i,r){return new He(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.comparator=e,this.data=new se(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new r_(this.data.getIterator())}getIteratorFrom(e){return new r_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Oe)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Oe(this.comparator);return i.data=e,i}}class r_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(Ge.comparator)}static empty(){return new _n([])}unionWith(e){let i=new Oe(Ge.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new _n(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Rs(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Rv("Invalid base64 string: "+h):h}})(e);return new Fe(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new Fe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const cS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oa(s){if(kt(!!s,39018),typeof s=="string"){let e=0;const i=cS.exec(s);if(kt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:me(s.seconds),nanos:me(s.nanos)}}function me(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function xa(s){return typeof s=="string"?Fe.fromBase64String(s):Fe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="server_timestamp",Cv="__type__",Dv="__previous_value__",Vv="__local_write_time__";function Sd(s){var i,r;return((r=(((i=s==null?void 0:s.mapValue)==null?void 0:i.fields)||{})[Cv])==null?void 0:r.stringValue)===wv}function Ac(s){const e=s.mapValue.fields[Dv];return Sd(e)?Ac(e):e}function ao(s){const e=Oa(s.mapValue.fields[Vv].timestampValue);return new ne(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,i,r,o,h,d,y,v,_,A,R){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A,this.apiKey=R}}const uc="(default)";class ro{constructor(e,i){this.projectId=e,this.database=i||uc}static empty(){return new ro("","")}get isDefaultDatabase(){return this.database===uc}isEqual(e){return e instanceof ro&&e.projectId===this.projectId&&e.database===this.database}}function fS(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new it(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ro(s.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="__type__",dS="__max__",Ku={mapValue:{}},Iv="__vector__",cc="value";function Ma(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Sd(s)?4:gS(s)?9007199254740991:mS(s)?10:11:ft(28295,{value:s})}function Ti(s,e){if(s===e)return!0;const i=Ma(s);if(i!==Ma(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return ao(s).isEqual(ao(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Oa(o.timestampValue),y=Oa(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,h){return xa(o.bytesValue).isEqual(xa(h.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,h){return me(o.geoPointValue.latitude)===me(h.geoPointValue.latitude)&&me(o.geoPointValue.longitude)===me(h.geoPointValue.longitude)})(s,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return me(o.integerValue)===me(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=me(o.doubleValue),y=me(h.doubleValue);return d===y?oc(d)===oc(y):isNaN(d)&&isNaN(y)}return!1})(s,e);case 9:return Rs(s.arrayValue.values||[],e.arrayValue.values||[],Ti);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},y=h.mapValue.fields||{};if(a_(d)!==a_(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!Ti(d[v],y[v])))return!1;return!0})(s,e);default:return ft(52216,{left:s})}}function so(s,e){return(s.values||[]).find((i=>Ti(i,e)))!==void 0}function ws(s,e){if(s===e)return 0;const i=Ma(s),r=Ma(e);if(i!==r)return Dt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Dt(s.booleanValue,e.booleanValue);case 2:return(function(h,d){const y=me(h.integerValue||h.doubleValue),v=me(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(s,e);case 3:return s_(s.timestampValue,e.timestampValue);case 4:return s_(ao(s),ao(e));case 5:return td(s.stringValue,e.stringValue);case 6:return(function(h,d){const y=xa(h),v=xa(d);return y.compareTo(v)})(s.bytesValue,e.bytesValue);case 7:return(function(h,d){const y=h.split("/"),v=d.split("/");for(let _=0;_<y.length&&_<v.length;_++){const A=Dt(y[_],v[_]);if(A!==0)return A}return Dt(y.length,v.length)})(s.referenceValue,e.referenceValue);case 8:return(function(h,d){const y=Dt(me(h.latitude),me(d.latitude));return y!==0?y:Dt(me(h.longitude),me(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return l_(s.arrayValue,e.arrayValue);case 10:return(function(h,d){var V,G,$,nt;const y=h.fields||{},v=d.fields||{},_=(V=y[cc])==null?void 0:V.arrayValue,A=(G=v[cc])==null?void 0:G.arrayValue,R=Dt((($=_==null?void 0:_.values)==null?void 0:$.length)||0,((nt=A==null?void 0:A.values)==null?void 0:nt.length)||0);return R!==0?R:l_(_,A)})(s.mapValue,e.mapValue);case 11:return(function(h,d){if(h===Ku.mapValue&&d===Ku.mapValue)return 0;if(h===Ku.mapValue)return 1;if(d===Ku.mapValue)return-1;const y=h.fields||{},v=Object.keys(y),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let R=0;R<v.length&&R<A.length;++R){const V=td(v[R],A[R]);if(V!==0)return V;const G=ws(y[v[R]],_[A[R]]);if(G!==0)return G}return Dt(v.length,A.length)})(s.mapValue,e.mapValue);default:throw ft(23264,{he:i})}}function s_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Dt(s,e);const i=Oa(s),r=Oa(e),o=Dt(i.seconds,r.seconds);return o!==0?o:Dt(i.nanos,r.nanos)}function l_(s,e){const i=s.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const h=ws(i[o],r[o]);if(h)return h}return Dt(i.length,r.length)}function Cs(s){return ed(s)}function ed(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Oa(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return xa(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ct.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const h of i.values||[])o?o=!1:r+=",",r+=ed(h);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of r)h?h=!1:o+=",",o+=`${d}:${ed(i.fields[d])}`;return o+"}"})(s.mapValue):ft(61005,{value:s})}function tc(s){switch(Ma(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ac(s);return e?16+tc(e):16;case 5:return 2*s.stringValue.length;case 6:return xa(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,h)=>o+tc(h)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return La(r.fields,((h,d)=>{o+=h.length+tc(d)})),o})(s.mapValue);default:throw ft(13486,{value:s})}}function o_(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function nd(s){return!!s&&"integerValue"in s}function bd(s){return!!s&&"arrayValue"in s}function u_(s){return!!s&&"nullValue"in s}function c_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function ec(s){return!!s&&"mapValue"in s}function mS(s){var i,r;return((r=(((i=s==null?void 0:s.mapValue)==null?void 0:i.fields)||{})[Nv])==null?void 0:r.stringValue)===Iv}function Zl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return La(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Zl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Zl(s.arrayValue.values[i]);return e}return{...s}}function gS(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===dS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!ec(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zl(i)}setAll(e){let i=Ge.emptyPath(),r={},o=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,r,o),r={},o=[],i=y.popLast()}d?r[y.lastSegment()]=Zl(d):o.push(y.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,o)}delete(e){const i=this.field(e.popLast());ec(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ti(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];ec(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){La(i,((o,h)=>e[o]=h));for(const o of r)delete e[o]}clone(){return new on(Zl(this.value))}}function Ov(s){const e=[];return La(s.fields,((i,r)=>{const o=new Ge([i]);if(ec(r)){const h=Ov(r.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,i,r,o,h,d,y){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(e){return new Xe(e,0,pt.min(),pt.min(),pt.min(),on.empty(),0)}static newFoundDocument(e,i,r,o){return new Xe(e,1,i,pt.min(),r,o,0)}static newNoDocument(e,i){return new Xe(e,2,i,pt.min(),pt.min(),on.empty(),0)}static newUnknownDocument(e,i){return new Xe(e,3,i,pt.min(),pt.min(),on.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,i){this.position=e,this.inclusive=i}}function h_(s,e,i){let r=0;for(let o=0;o<s.position.length;o++){const h=e[o],d=s.position[o];if(h.field.isKeyField()?r=ct.comparator(ct.fromName(d.referenceValue),i.key):r=ws(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function f_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ti(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,i="asc"){this.field=e,this.dir=i}}function pS(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{}class we extends xv{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new _S(e,i,r):i==="array-contains"?new TS(e,r):i==="in"?new AS(e,r):i==="not-in"?new SS(e,r):i==="array-contains-any"?new bS(e,r):new we(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new vS(e,r):new ES(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ws(i,this.value)):i!==null&&Ma(this.value)===Ma(i)&&this.matchesComparison(ws(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ft(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends xv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Yn(e,i)}matches(e){return Mv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Mv(s){return s.op==="and"}function zv(s){return yS(s)&&Mv(s)}function yS(s){for(const e of s.filters)if(e instanceof Yn)return!1;return!0}function id(s){if(s instanceof we)return s.field.canonicalString()+s.op.toString()+Cs(s.value);if(zv(s))return s.filters.map((e=>id(e))).join(",");{const e=s.filters.map((i=>id(i))).join(",");return`${s.op}(${e})`}}function Uv(s,e){return s instanceof we?(function(r,o){return o instanceof we&&r.op===o.op&&r.field.isEqual(o.field)&&Ti(r.value,o.value)})(s,e):s instanceof Yn?(function(r,o){return o instanceof Yn&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((h,d,y)=>h&&Uv(d,o.filters[y])),!0):!1})(s,e):void ft(19439)}function Lv(s){return s instanceof we?(function(i){return`${i.field.canonicalString()} ${i.op} ${Cs(i.value)}`})(s):s instanceof Yn?(function(i){return i.op.toString()+" {"+i.getFilters().map(Lv).join(" ,")+"}"})(s):"Filter"}class _S extends we{constructor(e,i,r){super(e,i,r),this.key=ct.fromName(r.referenceValue)}matches(e){const i=ct.comparator(e.key,this.key);return this.matchesComparison(i)}}class vS extends we{constructor(e,i){super(e,"in",i),this.keys=Bv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class ES extends we{constructor(e,i){super(e,"not-in",i),this.keys=Bv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Bv(s,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((r=>ct.fromName(r.referenceValue)))}class TS extends we{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return bd(i)&&so(i.arrayValue,this.value)}}class AS extends we{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&so(this.value.arrayValue,i)}}class SS extends we{constructor(e,i){super(e,"not-in",i)}matches(e){if(so(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!so(this.value.arrayValue,i)}}class bS extends we{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!bd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>so(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,i=null,r=[],o=[],h=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=h,this.startAt=d,this.endAt=y,this.Te=null}}function d_(s,e=null,i=[],r=[],o=null,h=null,d=null){return new RS(s,e,i,r,o,h,d)}function Rd(s){const e=vt(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>id(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),Tc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Cs(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Cs(r))).join(",")),e.Te=i}return e.Te}function wd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!pS(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Uv(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!f_(s.startAt,e.startAt)&&f_(s.endAt,e.endAt)}function ad(s){return ct.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,i=null,r=[],o=[],h=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function wS(s,e,i,r,o,h,d,y){return new Us(s,e,i,r,o,h,d,y)}function Cd(s){return new Us(s)}function m_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function CS(s){return ct.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function jv(s){return s.collectionGroup!==null}function Jl(s){const e=vt(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Oe(Ge.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new lo(h,r))})),i.has(Ge.keyField().canonicalString())||e.Ie.push(new lo(Ge.keyField(),r))}return e.Ie}function yi(s){const e=vt(s);return e.Ee||(e.Ee=DS(e,Jl(s))),e.Ee}function DS(s,e){if(s.limitType==="F")return d_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new lo(o.field,h)}));const i=s.endAt?new hc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new hc(s.startAt.position,s.startAt.inclusive):null;return d_(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function rd(s,e){const i=s.filters.concat([e]);return new Us(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function VS(s,e){const i=s.explicitOrderBy.concat([e]);return new Us(s.path,s.collectionGroup,i,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function sd(s,e,i){return new Us(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Sc(s,e){return wd(yi(s),yi(e))&&s.limitType===e.limitType}function Pv(s){return`${Rd(yi(s))}|lt:${s.limitType}`}function _s(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>Lv(o))).join(", ")}]`),Tc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Cs(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Cs(o))).join(",")),`Target(${r})`})(yi(s))}; limitType=${s.limitType})`}function bc(s,e){return e.isFoundDocument()&&(function(r,o){const h=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):ct.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(s,e)&&(function(r,o){for(const h of Jl(r))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const h of r.filters)if(!h.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(d,y,v){const _=h_(d,y,v);return d.inclusive?_<=0:_<0})(r.startAt,Jl(r),o)||r.endAt&&!(function(d,y,v){const _=h_(d,y,v);return d.inclusive?_>=0:_>0})(r.endAt,Jl(r),o))})(s,e)}function NS(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function qv(s){return(e,i)=>{let r=!1;for(const o of Jl(s)){const h=IS(o,e,i);if(h!==0)return h;r=r||o.field.isKeyField()}return 0}}function IS(s,e,i){const r=s.field.isKeyField()?ct.comparator(e.key,i.key):(function(h,d,y){const v=d.data.field(h),_=y.data.field(h);return v!==null&&_!==null?ws(v,_):ft(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return ft(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,h]of r)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){La(this.inner,((i,r)=>{for(const[o,h]of r)e(o,h)}))}isEmpty(){return bv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=new se(ct.comparator);function Fi(){return OS}const kv=new se(ct.comparator);function Ql(...s){let e=kv;for(const i of s)e=e.insert(i.key,i);return e}function Hv(s){let e=kv;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function yr(){return $l()}function Gv(){return $l()}function $l(){return new Sr((s=>s.toString()),((s,e)=>s.isEqual(e)))}const xS=new se(ct.comparator),MS=new Oe(ct.comparator);function Vt(...s){let e=MS;for(const i of s)e=e.add(i);return e}const zS=new Oe(Dt);function US(){return zS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oc(e)?"-0":e}}function Fv(s){return{integerValue:""+s}}function LS(s,e){return lS(e)?Fv(e):Dd(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(){this._=void 0}}function BS(s,e,i){return s instanceof fc?(function(o,h){const d={fields:{[Cv]:{stringValue:wv},[Vv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Sd(h)&&(h=Ac(h)),h&&(d.fields[Dv]=h),{mapValue:d}})(i,e):s instanceof oo?Yv(s,e):s instanceof uo?Kv(s,e):(function(o,h){const d=Qv(o,h),y=g_(d)+g_(o.Ae);return nd(d)&&nd(o.Ae)?Fv(y):Dd(o.serializer,y)})(s,e)}function jS(s,e,i){return s instanceof oo?Yv(s,e):s instanceof uo?Kv(s,e):i}function Qv(s,e){return s instanceof dc?(function(r){return nd(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(e)?e:{integerValue:0}:null}class fc extends Rc{}class oo extends Rc{constructor(e){super(),this.elements=e}}function Yv(s,e){const i=Xv(e);for(const r of s.elements)i.some((o=>Ti(o,r)))||i.push(r);return{arrayValue:{values:i}}}class uo extends Rc{constructor(e){super(),this.elements=e}}function Kv(s,e){let i=Xv(e);for(const r of s.elements)i=i.filter((o=>!Ti(o,r)));return{arrayValue:{values:i}}}class dc extends Rc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function g_(s){return me(s.integerValue||s.doubleValue)}function Xv(s){return bd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function PS(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof oo&&o instanceof oo||r instanceof uo&&o instanceof uo?Rs(r.elements,o.elements,Ti):r instanceof dc&&o instanceof dc?Ti(r.Ae,o.Ae):r instanceof fc&&o instanceof fc})(s.transform,e.transform)}class qS{constructor(e,i){this.version=e,this.transformResults=i}}class Fn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class wc{}function Zv(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Vd(s.key,Fn.none()):new ho(s.key,s.data,Fn.none());{const i=s.data,r=on.empty();let o=new Oe(Ge.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),o=o.add(h)}return new Ba(s.key,r,new _n(o.toArray()),Fn.none())}}function kS(s,e,i){s instanceof ho?(function(o,h,d){const y=o.value.clone(),v=y_(o.fieldTransforms,h,d.transformResults);y.setAll(v),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):s instanceof Ba?(function(o,h,d){if(!nc(o.precondition,h))return void h.convertToUnknownDocument(d.version);const y=y_(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(Jv(o)),v.setAll(y),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Wl(s,e,i,r){return s instanceof ho?(function(h,d,y,v){if(!nc(h.precondition,d))return y;const _=h.value.clone(),A=__(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,r):s instanceof Ba?(function(h,d,y,v){if(!nc(h.precondition,d))return y;const _=__(h.fieldTransforms,v,d),A=d.data;return A.setAll(Jv(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((R=>R.field)))})(s,e,i,r):(function(h,d,y){return nc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(s,e,i)}function HS(s,e){let i=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),h=Qv(r.transform,o||null);h!=null&&(i===null&&(i=on.empty()),i.set(r.field,h))}return i||null}function p_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Rs(r,o,((h,d)=>PS(h,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class ho extends wc{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ba extends wc{constructor(e,i,r,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Jv(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function y_(s,e,i){const r=new Map;kt(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let o=0;o<i.length;o++){const h=s[o],d=h.transform,y=e.data.field(h.field);r.set(h.field,jS(d,y,i[o]))}return r}function __(s,e,i){const r=new Map;for(const o of s){const h=o.transform,d=i.data.field(o.field);r.set(o.field,BS(h,d,e))}return r}class Vd extends wc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GS extends wc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&kS(h,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Wl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Wl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=Gv();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=i.has(o.key)?null:y;const v=Zv(d,y);v!==null&&r.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(pt.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Vt())}isEqual(e){return this.batchId===e.batchId&&Rs(this.mutations,e.mutations,((i,r)=>p_(i,r)))&&Rs(this.baseMutations,e.baseMutations,((i,r)=>p_(i,r)))}}class Nd{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){kt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return xS})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,r[d].version);return new Nd(e,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be,xt;function KS(s){switch(s){case K.OK:return ft(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return ft(15467,{code:s})}}function $v(s){if(s===void 0)return Gi("GRPC error has no .code"),K.UNKNOWN;switch(s){case be.OK:return K.OK;case be.CANCELLED:return K.CANCELLED;case be.UNKNOWN:return K.UNKNOWN;case be.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case be.INTERNAL:return K.INTERNAL;case be.UNAVAILABLE:return K.UNAVAILABLE;case be.UNAUTHENTICATED:return K.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case be.NOT_FOUND:return K.NOT_FOUND;case be.ALREADY_EXISTS:return K.ALREADY_EXISTS;case be.PERMISSION_DENIED:return K.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case be.ABORTED:return K.ABORTED;case be.OUT_OF_RANGE:return K.OUT_OF_RANGE;case be.UNIMPLEMENTED:return K.UNIMPLEMENTED;case be.DATA_LOSS:return K.DATA_LOSS;default:return ft(39323,{code:s})}}(xt=be||(be={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS=new Da([4294967295,4294967295],0);function v_(s){const e=XS().encode(s),i=new dv;return i.update(e),new Uint8Array(i.digest())}function E_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Da([i,r],0),new Da([o,h],0)]}class Id{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Yl(`Invalid padding: ${i}`);if(r<0)throw new Yl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Da.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(Da.fromNumber(r)));return o.compare(ZS)===1&&(o=new Da([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=v_(e),[r,o]=E_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Id(h,o,i);return r.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=v_(e),[r,o]=E_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);this.be(d)}}be(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,i,r,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,fo.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Cc(pt.min(),o,new se(Dt),Fi(),Vt())}}class fo{constructor(e,i,r,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new fo(r,i,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,i,r,o){this.Se=e,this.removedTargetIds=i,this.key=r,this.De=o}}class Wv{constructor(e,i){this.targetId=e,this.Ce=i}}class t0{constructor(e,i,r=Fe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class T_{constructor(){this.ve=0,this.Fe=A_(),this.Me=Fe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Vt(),i=Vt(),r=Vt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:ft(38017,{changeType:h})}})),new fo(this.Me,this.xe,e,i,r)}Ke(){this.Oe=!1,this.Fe=A_()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,kt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class JS{constructor(e){this.Ge=e,this.ze=new Map,this.je=Fi(),this.He=Xu(),this.Je=Xu(),this.Ze=new se(Dt)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:ft(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(ad(h))if(r===0){const d=new ct(h.path);this.et(i,d,Xe.newNoDocument(d,pt.min()))}else kt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const y=this.ut(e),v=y?this.ct(y,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:h=0}=i;let d,y;try{d=xa(r).toUint8Array()}catch(v){if(v instanceof Rv)return Tr("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new Id(d,o,h)}catch(v){return Tr(v instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((h=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(y)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const y=this.ot(d);if(y){if(h.current&&ad(y.target)){const v=new ct(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Xe.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.Ke())}}));let r=Vt();this.Je.forEach(((h,d)=>{let y=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new Cc(e,i,this.Ze,this.je,r);return this.je=Fi(),this.He=Xu(),this.Je=Xu(),this.Ze=new se(Dt),o}Ye(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new T_,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Oe(Dt),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Oe(Dt),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||at("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new T_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Xu(){return new se(ct.comparator)}function A_(){return new se(ct.comparator)}const $S={asc:"ASCENDING",desc:"DESCENDING"},WS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},t2={and:"AND",or:"OR"};class e2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function ld(s,e){return s.useProto3Json||Tc(e)?e:{value:e}}function mc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function e0(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function n2(s,e){return mc(s,e.toTimestamp())}function _i(s){return kt(!!s,49232),pt.fromTimestamp((function(i){const r=Oa(i);return new ne(r.seconds,r.nanos)})(s))}function Od(s,e){return od(s,e).canonicalString()}function od(s,e){const i=(function(o){return new Wt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function n0(s){const e=Wt.fromString(s);return kt(l0(e),10190,{key:e.toString()}),e}function ud(s,e){return Od(s.databaseId,e.path)}function Hf(s,e){const i=n0(e);if(i.get(1)!==s.databaseId.projectId)throw new it(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new it(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ct(a0(i))}function i0(s,e){return Od(s.databaseId,e)}function i2(s){const e=n0(s);return e.length===4?Wt.emptyPath():a0(e)}function cd(s){return new Wt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function a0(s){return kt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function S_(s,e,i){return{name:ud(s,e),fields:i.value.mapValue.fields}}function a2(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:ft(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(_,A){return _.useProto3Json?(kt(A===void 0||typeof A=="string",58123),Fe.fromBase64String(A||"")):(kt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Fe.fromUint8Array(A||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const A=_.code===void 0?K.UNKNOWN:$v(_.code);return new it(A,_.message||"")})(d);i=new t0(r,o,h,y||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Hf(s,r.document.name),h=_i(r.document.updateTime),d=r.document.createTime?_i(r.document.createTime):pt.min(),y=new on({mapValue:{fields:r.document.fields}}),v=Xe.newFoundDocument(o,h,d,y),_=r.targetIds||[],A=r.removedTargetIds||[];i=new ic(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Hf(s,r.document),h=r.readTime?_i(r.readTime):pt.min(),d=Xe.newNoDocument(o,h),y=r.removedTargetIds||[];i=new ic([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Hf(s,r.document),h=r.removedTargetIds||[];i=new ic([],h,o,null)}else{if(!("filter"in e))return ft(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:h}=r,d=new YS(o,h),y=r.targetId;i=new Wv(y,d)}}return i}function r2(s,e){let i;if(e instanceof ho)i={update:S_(s,e.key,e.value)};else if(e instanceof Vd)i={delete:ud(s,e.key)};else if(e instanceof Ba)i={update:S_(s,e.key,e.data),updateMask:m2(e.fieldMask)};else{if(!(e instanceof GS))return ft(16599,{dt:e.type});i={verify:ud(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(h,d){const y=d.transform;if(y instanceof fc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof oo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof uo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof dc)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw ft(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:n2(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:ft(27497)})(s,e.precondition)),i}function s2(s,e){return s&&s.length>0?(kt(e!==void 0,14353),s.map((i=>(function(o,h){let d=o.updateTime?_i(o.updateTime):_i(h);return d.isEqual(pt.min())&&(d=_i(h)),new qS(d,o.transformResults||[])})(i,e)))):[]}function l2(s,e){return{documents:[i0(s,e.path)]}}function o2(s,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=i0(s,o);const h=(function(_){if(_.length!==0)return s0(Yn.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((A=>(function(V){return{field:vs(V.field),direction:h2(V.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=ld(s,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function u2(s){let e=i2(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){kt(r===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=(function(R){const V=r0(R);return V instanceof Yn&&zv(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(R){return R.map((V=>(function($){return new lo(Es($.field),(function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(V)))})(i.orderBy));let y=null;i.limit&&(y=(function(R){let V;return V=typeof R=="object"?R.value:R,Tc(V)?null:V})(i.limit));let v=null;i.startAt&&(v=(function(R){const V=!!R.before,G=R.values||[];return new hc(G,V)})(i.startAt));let _=null;return i.endAt&&(_=(function(R){const V=!R.before,G=R.values||[];return new hc(G,V)})(i.endAt)),wS(e,o,d,h,y,"F",v,_)}function c2(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ft(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function r0(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Es(i.unaryFilter.field);return we.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Es(i.unaryFilter.field);return we.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Es(i.unaryFilter.field);return we.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Es(i.unaryFilter.field);return we.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ft(61313);default:return ft(60726)}})(s):s.fieldFilter!==void 0?(function(i){return we.create(Es(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ft(58110);default:return ft(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Yn.create(i.compositeFilter.filters.map((r=>r0(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ft(1026)}})(i.compositeFilter.op))})(s):ft(30097,{filter:s})}function h2(s){return $S[s]}function f2(s){return WS[s]}function d2(s){return t2[s]}function vs(s){return{fieldPath:s.canonicalString()}}function Es(s){return Ge.fromServerFormat(s.fieldPath)}function s0(s){return s instanceof we?(function(i){if(i.op==="=="){if(c_(i.value))return{unaryFilter:{field:vs(i.field),op:"IS_NAN"}};if(u_(i.value))return{unaryFilter:{field:vs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(c_(i.value))return{unaryFilter:{field:vs(i.field),op:"IS_NOT_NAN"}};if(u_(i.value))return{unaryFilter:{field:vs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vs(i.field),op:f2(i.op),value:i.value}}})(s):s instanceof Yn?(function(i){const r=i.getFilters().map((o=>s0(o)));return r.length===1?r[0]:{compositeFilter:{op:d2(i.op),filters:r}}})(s):ft(54877,{filter:s})}function m2(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function l0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function o0(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,i,r,o,h=pt.min(),d=pt.min(),y=Fe.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new Ra(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ra(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){this.yt=e}}function p2(s){const e=u2({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?sd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this.Sn=new _2}addToCollectionParentIndex(e,i){return this.Sn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(Ia.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(Ia.min())}updateCollectionGroup(e,i,r){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class _2{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new Oe(Wt.comparator),h=!o.has(r);return this.index[i]=o.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Oe(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},u0=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(u0,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Ds(0)}static ar(){return new Ds(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="LruGarbageCollector",v2=1048576;function w_([s,e],[i,r]){const o=Dt(s,i);return o===0?Dt(e,r):o}class E2{constructor(e){this.Pr=e,this.buffer=new Oe(w_),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();w_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class T2{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){at(R_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){zs(i)?at(R_,"Ignoring IndexedDB error during garbage collection: ",i):await Ms(i)}await this.Ar(3e5)}))}}class A2{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(Ec.ce);const r=new E2(i);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.Vr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(b_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),b_):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let r,o,h,d,y,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((R=>(R>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,d=Date.now(),this.nthSequenceNumber(e,o)))).next((R=>(r=R,y=Date.now(),this.removeTargets(e,r,i)))).next((R=>(h=R,v=Date.now(),this.removeOrphanedDocuments(e,r)))).next((R=>(_=Date.now(),ys()<=Mt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${h} targets in `+(v-y)+`ms
	Removed ${R} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:R}))))}}function S2(s,e){return new A2(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(){this.changes=new Sr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?X.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&Wl(r.mutation,o,_n.empty(),ne.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Vt()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Vt()){const o=yr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((h=>{let d=Ql();return h.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=yr();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Vt())))}populateOverlays(e,i,r){const o=[];return r.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,r,o){let h=Fi();const d=$l(),y=(function(){return $l()})();return i.forEach(((v,_)=>{const A=r.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof Ba)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Wl(A.mutation,_,A.mutation.getFieldMask(),ne.now())):d.set(_.key,_n.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>y.set(_,new R2(A,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const r=$l();let o=new se(((d,y)=>d-y)),h=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=r.get(v)||_n.empty();A=y.applyToLocalView(_,A),r.set(v,A);const R=(o.get(y.batchId)||Vt()).add(v);o=o.insert(y.batchId,R)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,A=v.value,R=Gv();A.forEach((V=>{if(!h.has(V)){const G=Zv(i.get(V),r.get(V));G!==null&&R.set(V,G),h=h.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,R))}return X.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return CS(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):jv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-h.size):X.resolve(yr());let y=io,v=h;return d.next((_=>X.forEach(_,((A,R)=>(y<R.largestBatchId&&(y=R.largestBatchId),h.get(A)?X.resolve():this.remoteDocumentCache.getEntry(e,A).next((V=>{v=v.insert(A,V)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,v,_,Vt()))).next((A=>({batchId:y,changes:Hv(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ct(i)).next((r=>{let o=Ql();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const h=i.collectionGroup;let d=Ql();return this.indexManager.getCollectionParents(e,h).next((y=>X.forEach(y,(v=>{const _=(function(R,V){return new Us(V,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,r,o).next((A=>{A.forEach(((R,V)=>{d=d.insert(R,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,o)))).next((d=>{h.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Xe.newInvalidDocument(A)))}));let y=Ql();return d.forEach(((v,_)=>{const A=h.get(v);A!==void 0&&Wl(A.mutation,_,_n.empty(),ne.now()),bc(i,_)&&(y=y.insert(v,_))})),y}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:_i(o.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:p2(o.bundledQuery),readTime:_i(o.readTime)}})(i)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(){this.overlays=new se(ct.comparator),this.Lr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const r=yr();return X.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&r.set(o,h)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,h)=>{this.bt(e,i,h)})),X.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.Lr.delete(r)),X.resolve()}getOverlaysForCollection(e,i,r){const o=yr(),h=i.length+1,d=new ct(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>r&&o.set(v.getKey(),v)}return X.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let h=new se(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let A=h.get(_.largestBatchId);A===null&&(A=yr(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const y=yr(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>y.set(_,A))),!(y.size()>=o)););return X.resolve(y)}bt(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new QS(i,r));let h=this.Lr.get(i);h===void 0&&(h=Vt(),this.Lr.set(i,h)),this.Lr.set(i,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(){this.kr=new Oe(Ue.Kr),this.qr=new Oe(Ue.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const r=new Ue(e,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Wr(new Ue(e,i))}Qr(e,i){e.forEach((r=>this.removeReference(r,i)))}Gr(e){const i=new ct(new Wt([])),r=new Ue(i,e),o=new Ue(i,e+1),h=[];return this.qr.forEachInRange([r,o],(d=>{this.Wr(d),h.push(d.key)})),h}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new ct(new Wt([])),r=new Ue(i,e),o=new Ue(i,e+1);let h=Vt();return this.qr.forEachInRange([r,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Ue(e,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Ue{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return ct.comparator(e.key,i.key)||Dt(e.Hr,i.Hr)}static Ur(e,i){return Dt(e.Hr,i.Hr)||ct.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Oe(Ue.Kr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const h=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new FS(h,i,r,o);this.mutationQueue.push(d);for(const y of o)this.Jr=this.Jr.add(new Ue(y.key,h)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.Xr(r),h=o<0?0:o;return X.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Ad:this.Yn-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Ue(i,0),o=new Ue(i,Number.POSITIVE_INFINITY),h=[];return this.Jr.forEachInRange([r,o],(d=>{const y=this.Zr(d.Hr);h.push(y)})),X.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Oe(Dt);return i.forEach((o=>{const h=new Ue(o,0),d=new Ue(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([h,d],(y=>{r=r.add(y.Hr)}))})),X.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let h=r;ct.isDocumentKey(h)||(h=h.child(""));const d=new Ue(new ct(h),0);let y=new Oe(Dt);return this.Jr.forEachWhile((v=>{const _=v.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(y=y.add(v.Hr)),!0)}),d),X.resolve(this.Yr(y))}Yr(e){const i=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){kt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return X.forEach(i.mutations,(o=>{const h=new Ue(o.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,i){const r=new Ue(i,0),o=this.Jr.firstAfterOrEqual(r);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.ti=e,this.docs=(function(){return new se(ct.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),h=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return X.resolve(r?r.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(e,i){let r=Fi();return i.forEach((o=>{const h=this.docs.get(o);r=r.insert(o,h?h.document.mutableCopy():Xe.newInvalidDocument(o))})),X.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let h=Fi();const d=i.path,y=new ct(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||iS(nS(A),r)<=0||(o.has(A.key)||bc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return X.resolve(h)}getAllFromCollectionGroup(e,i,r,o){ft(9500)}ni(e,i){return X.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new O2(this)}getSize(e){return X.resolve(this.size)}}class O2 extends b2{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),X.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e){this.persistence=e,this.ri=new Sr((i=>Rd(i)),wd),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.ii=0,this.si=new xd,this.targetCount=0,this.oi=Ds._r()}forEachTarget(e,i){return this.ri.forEach(((r,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),X.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new Ds(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.lr(i),X.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,r){let o=0;const h=[];return this.ri.forEach(((d,y)=>{y.sequenceNumber<=i&&r.get(y.targetId)===null&&(this.ri.delete(d),h.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),X.waitFor(h).next((()=>o))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const r=this.ri.get(i)||null;return X.resolve(r)}addMatchingKeys(e,i,r){return this.si.$r(i,r),X.resolve()}removeMatchingKeys(e,i,r){this.si.Qr(i,r);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),X.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const r=this.si.jr(i);return X.resolve(r)}containsKey(e,i){return X.resolve(this.si.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,i){this._i={},this.overlays={},this.ai=new Ec(0),this.ui=!1,this.ui=!0,this.ci=new V2,this.referenceDelegate=e(this),this.li=new x2(this),this.indexManager=new y2,this.remoteDocumentCache=(function(o){return new I2(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new g2(i),this.Pi=new C2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new D2,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this._i[e.toKey()];return r||(r=new N2(i,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,r){at("MemoryPersistence","Starting transaction:",e);const o=new M2(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((h=>this.referenceDelegate.Ii(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ei(e,i){return X.or(Object.values(this._i).map((r=>()=>r.containsKey(e,i))))}}class M2 extends rS{constructor(e){super(),this.currentSequenceNumber=e}}class Md{constructor(e){this.persistence=e,this.Ri=new xd,this.Ai=null}static Vi(e){return new Md(e)}get di(){if(this.Ai)return this.Ai;throw ft(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),X.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.di.add(h.toString())))})).next((()=>r.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(r=>{const o=ct.fromPath(r);return this.mi(e,o).next((h=>{h||i.removeEntry(o,pt.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class gc{constructor(e,i){this.persistence=e,this.fi=new Sr((r=>oS(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=S2(this,i)}static Vi(e,i){return new gc(e,i)}Ti(){}Ii(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}pr(e){let i=0;return this.mr(e,(r=>{i++})).next((()=>i))}mr(e,i){return X.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((h=>h?X.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((y=>{y||(r++,h.removeEntry(d,pt.min()))})))).next((()=>h.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),X.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=tc(e.data.value)),i}wr(e,i,r){return X.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return X.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Ts=r,this.Is=o}static Es(e,i){let r=Vt(),o=Vt();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new zd(e,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return ST()?8:sS(TT())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const h={result:null};return this.gs(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ps(e,i,o,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new z2;return this.ys(e,i,d).next((y=>{if(h.result=y,this.As)return this.ws(e,i,d,y.size)}))})).next((()=>h.result))}ws(e,i,r,o){return r.documentReadCount<this.Vs?(ys()<=Mt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",_s(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(ys()<=Mt.DEBUG&&at("QueryEngine","Query:",_s(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(ys()<=Mt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",_s(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yi(i))):X.resolve())}gs(e,i){if(m_(i))return X.resolve(null);let r=yi(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=sd(i,null,"F"),r=yi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((h=>{const d=Vt(...h);return this.fs.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,r).next((v=>{const _=this.bs(i,y);return this.Ss(i,_,d,v.readTime)?this.gs(e,sd(i,null,"F")):this.Ds(e,_,i,v)}))))})))))}ps(e,i,r,o){return m_(i)||o.isEqual(pt.min())?X.resolve(null):this.fs.getDocuments(e,r).next((h=>{const d=this.bs(i,h);return this.Ss(i,d,r,o)?X.resolve(null):(ys()<=Mt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_s(i)),this.Ds(e,d,i,eS(o,io)).next((y=>y)))}))}bs(e,i){let r=new Oe(qv(e));return i.forEach(((o,h)=>{bc(e,h)&&(r=r.add(h))})),r}Ss(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}ys(e,i,r){return ys()<=Mt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",_s(i)),this.fs.getDocumentsMatchingQuery(e,i,Ia.min(),r)}Ds(e,i,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud="LocalStore",L2=3e8;class B2{constructor(e,i,r,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new se(Dt),this.Fs=new Sr((h=>Rd(h)),wd),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new w2(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function j2(s,e,i,r){return new B2(s,e,i,r)}async function h0(s,e){const i=vt(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((h=>(o=h,i.Os(e),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],y=[];let v=Vt();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){y.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(r,v).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function P2(s,e){const i=vt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),h=i.xs.newChangeBuffer({trackRemovals:!0});return(function(y,v,_,A){const R=_.batch,V=R.keys();let G=X.resolve();return V.forEach(($=>{G=G.next((()=>A.getEntry(v,$))).next((nt=>{const tt=_.docVersions.get($);kt(tt!==null,48541),nt.version.compareTo(tt)<0&&(R.applyToRemoteDocument(nt,_),nt.isValidDocument()&&(nt.setReadTime(_.commitVersion),A.addEntry(nt)))}))})),G.next((()=>y.mutationQueue.removeMutationBatch(v,R)))})(i,r,e,h).next((()=>h.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(y){let v=Vt();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function f0(s){const e=vt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function q2(s,e){const i=vt(s),r=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const y=[];e.targetChanges.forEach(((A,R)=>{const V=o.get(R);if(!V)return;y.push(i.li.removeMatchingKeys(h,A.removedDocuments,R).next((()=>i.li.addMatchingKeys(h,A.addedDocuments,R))));let G=V.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(R)!==null?G=G.withResumeToken(Fe.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,r)),o=o.insert(R,G),(function(nt,tt,dt){return nt.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=L2?!0:dt.addedDocuments.size+dt.modifiedDocuments.size+dt.removedDocuments.size>0})(V,G,A)&&y.push(i.li.updateTargetData(h,G))}));let v=Fi(),_=Vt();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),y.push(k2(h,d,e.documentUpdates).next((A=>{v=A.Bs,_=A.Ls}))),!r.isEqual(pt.min())){const A=i.li.getLastRemoteSnapshotVersion(h).next((R=>i.li.setTargetsMetadata(h,h.currentSequenceNumber,r)));y.push(A)}return X.waitFor(y).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.vs=o,h)))}function k2(s,e,i){let r=Vt(),o=Vt();return i.forEach((h=>r=r.add(h))),e.getEntries(s,r).next((h=>{let d=Fi();return i.forEach(((y,v)=>{const _=h.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(y)),v.isNoDocument()&&v.version.isEqual(pt.min())?(e.removeEntry(y,v.readTime),d=d.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(y,v)):at(Ud,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)})),{Bs:d,Ls:o}}))}function H2(s,e){const i=vt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Ad),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function G2(s,e){const i=vt(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.li.getTargetData(r,e).next((h=>h?(o=h,X.resolve(o)):i.li.allocateTargetId(r).next((d=>(o=new Ra(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(e,r.targetId)),r}))}async function hd(s,e,i){const r=vt(s),o=r.vs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!zs(d))throw d;at(Ud,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function C_(s,e,i){const r=vt(s);let o=pt.min(),h=Vt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const R=vt(v),V=R.Fs.get(A);return V!==void 0?X.resolve(R.vs.get(V)):R.li.getTargetData(_,A)})(r,d,yi(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,y.targetId).next((v=>{h=v}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,i?o:pt.min(),i?h:Vt()))).next((y=>(F2(r,NS(e),y),{documents:y,ks:h})))))}function F2(s,e,i){let r=s.Ms.get(e)||pt.min();i.forEach(((o,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),s.Ms.set(e,r)}class D_{constructor(){this.activeTargetIds=US()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Q2{constructor(){this.vo=new D_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,r){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new D_,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="ConnectivityMonitor";class N_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){at(V_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){at(V_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zu=null;function fd(){return Zu===null?Zu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zu++,"0x"+Zu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf="RestConnection",K2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class X2{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===uc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,i,r,o,h){const d=fd(),y=this.Qo(e,i.toUriEncodedString());at(Gf,`Sending RPC '${e}' ${d}:`,y,r);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,o,h);const{host:_}=new URL(y),A=_d(_);return this.zo(e,y,v,r,A).then((R=>(at(Gf,`Received RPC '${e}' ${d}: `,R),R)),(R=>{throw Tr(Gf,`RPC '${e}' ${d} failed with error: `,R,"url: ",y,"request:",r),R}))}jo(e,i,r,o,h,d){return this.Wo(e,i,r,o,h)}Go(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+xs})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),r&&r.headers.forEach(((o,h)=>e[h]=o))}Qo(e,i){const r=K2[e];let o=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection",Gl=(s,e,i)=>{s.listen(e,(r=>{try{i(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class As extends X2{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!As.c_){const e=yv();Gl(e,pv.STAT_EVENT,(i=>{i.stat===Wf.PROXY?at(Ye,"STAT_EVENT: detected buffering proxy"):i.stat===Wf.NOPROXY&&at(Ye,"STAT_EVENT: detected no buffering proxy")})),As.c_=!0}}zo(e,i,r,o,h){const d=fd();return new Promise(((y,v)=>{const _=new mv;_.setWithCredentials(!0),_.listenOnce(gv.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Wu.NO_ERROR:const R=_.getResponseJson();at(Ye,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(R)),y(R);break;case Wu.TIMEOUT:at(Ye,`RPC '${e}' ${d} timed out`),v(new it(K.DEADLINE_EXCEEDED,"Request time out"));break;case Wu.HTTP_ERROR:const V=_.getStatus();if(at(Ye,`RPC '${e}' ${d} failed with status:`,V,"response text:",_.getResponseText()),V>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const $=G==null?void 0:G.error;if($&&$.status&&$.message){const nt=(function(dt){const yt=dt.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(yt)>=0?yt:K.UNKNOWN})($.status);v(new it(nt,$.message))}else v(new it(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new it(K.UNAVAILABLE,"Connection failed."));break;default:ft(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{at(Ye,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);at(Ye,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",A,r,15)}))}T_(e,i,r){const o=fd(),h=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Go(y.initMessageHeaders,i,r),y.encodeInitMessageHeaders=!0;const _=h.join("");at(Ye,`Creating RPC '${e}' stream ${o}: ${_}`,y);const A=d.createWebChannel(_,y);this.I_(A);let R=!1,V=!1;const G=new Z2({Ho:$=>{V?at(Ye,`Not sending because RPC '${e}' stream ${o} is closed:`,$):(R||(at(Ye,`Opening RPC '${e}' stream ${o} transport.`),A.open(),R=!0),at(Ye,`RPC '${e}' stream ${o} sending:`,$),A.send($))},Jo:()=>A.close()});return Gl(A,Fl.EventType.OPEN,(()=>{V||(at(Ye,`RPC '${e}' stream ${o} transport opened.`),G.i_())})),Gl(A,Fl.EventType.CLOSE,(()=>{V||(V=!0,at(Ye,`RPC '${e}' stream ${o} transport closed`),G.o_(),this.E_(A))})),Gl(A,Fl.EventType.ERROR,($=>{V||(V=!0,Tr(Ye,`RPC '${e}' stream ${o} transport errored. Name:`,$.name,"Message:",$.message),G.o_(new it(K.UNAVAILABLE,"The operation could not be completed")))})),Gl(A,Fl.EventType.MESSAGE,($=>{var nt;if(!V){const tt=$.data[0];kt(!!tt,16349);const dt=tt,yt=(dt==null?void 0:dt.error)||((nt=dt[0])==null?void 0:nt.error);if(yt){at(Ye,`RPC '${e}' stream ${o} received error:`,yt);const mt=yt.status;let Bt=(function(D){const S=be[D];if(S!==void 0)return $v(S)})(mt),jt=yt.message;mt==="NOT_FOUND"&&jt.includes("database")&&jt.includes("does not exist")&&jt.includes(this.databaseId.database)&&Tr(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),Bt===void 0&&(Bt=K.INTERNAL,jt="Unknown error status: "+mt+" with message "+yt.message),V=!0,G.o_(new it(Bt,jt)),A.close()}else at(Ye,`RPC '${e}' stream ${o} received:`,tt),G.__(tt)}})),As.u_(),setTimeout((()=>{G.s_()}),0),G}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,r){super.Go(e,i,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return _v()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(s){return new As(s)}function Ff(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(s){return new e2(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */As.c_=!1;class d0{constructor(e,i,r=1e3,o=1.5,h=6e4){this.Ci=e,this.timerId=i,this.R_=r,this.A_=o,this.V_=h,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&at("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="PersistentStream";class m0{constructor(e,i,r,o,h,d,y,v){this.Ci=e,this.b_=r,this.S_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new d0(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Gi(i.toString()),Gi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new it(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return at(I_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(at(I_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $2 extends m0{constructor(e,i,r,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=a2(this.serializer,e),r=(function(h){if(!("targetChange"in h))return pt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?pt.min():d.readTime?_i(d.readTime):pt.min()})(e);return this.listener.J_(i,r)}Z_(e){const i={};i.database=cd(this.serializer),i.addTarget=(function(h,d){let y;const v=d.target;if(y=ad(v)?{documents:l2(h,v)}:{query:o2(h,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=e0(h,d.resumeToken);const _=ld(h,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(pt.min())>0){y.readTime=mc(h,d.snapshotVersion.toTimestamp());const _=ld(h,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const r=c2(this.serializer,e);r&&(i.labels=r),this.K_(i)}X_(e){const i={};i.database=cd(this.serializer),i.removeTarget=e,this.K_(i)}}class W2 extends m0{constructor(e,i,r,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return kt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,kt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){kt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=s2(e.writeResults,e.commitTime),r=_i(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=cd(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>r2(this.serializer,r)))};this.K_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{}class eb extends tb{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new it(K.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Wo(e,od(i,r),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new it(K.UNKNOWN,h.toString())}))}jo(e,i,r,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.jo(e,od(i,r),o,d,y,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new it(K.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function nb(s,e,i,r){return new eb(s,e,i,r)}class ib{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Gi(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar="RemoteStore";class ab{constructor(e,i,r,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=h,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{br(this)&&(at(Ar,"Restarting streams for network reachability change."),await(async function(v){const _=vt(v);_.Ea.add(4),await mo(_),_.Va.set("Unknown"),_.Ea.delete(4),await Vc(_)})(this))}))})),this.Va=new ib(r,o)}}async function Vc(s){if(br(s))for(const e of s.Ra)await e(!0)}async function mo(s){for(const e of s.Ra)await e(!1)}function g0(s,e){const i=vt(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Pd(i)?jd(i):Ls(i).O_()&&Bd(i,e))}function Ld(s,e){const i=vt(s),r=Ls(i);i.Ia.delete(e),r.O_()&&p0(i,e),i.Ia.size===0&&(r.O_()?r.L_():br(i)&&i.Va.set("Unknown"))}function Bd(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ls(s).Z_(e)}function p0(s,e){s.da.$e(e),Ls(s).X_(e)}function jd(s){s.da=new JS({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Ls(s).start(),s.Va.ua()}function Pd(s){return br(s)&&!Ls(s).x_()&&s.Ia.size>0}function br(s){return vt(s).Ea.size===0}function y0(s){s.da=void 0}async function rb(s){s.Va.set("Online")}async function sb(s){s.Ia.forEach(((e,i)=>{Bd(s,e)}))}async function lb(s,e){y0(s),Pd(s)?(s.Va.ha(e),jd(s)):s.Va.set("Unknown")}async function ob(s,e,i){if(s.Va.set("Online"),e instanceof t0&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const y of h.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.da.removeTarget(y))})(s,e)}catch(r){at(Ar,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await pc(s,r)}else if(e instanceof ic?s.da.Xe(e):e instanceof Wv?s.da.st(e):s.da.tt(e),!i.isEqual(pt.min()))try{const r=await f0(s.localStore);i.compareTo(r)>=0&&await(function(h,d){const y=h.da.Tt(d);return y.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,_)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(Fe.EMPTY_BYTE_STRING,A.snapshotVersion)),p0(h,v);const R=new Ra(A.target,v,_,A.sequenceNumber);Bd(h,R)})),h.remoteSyncer.applyRemoteEvent(y)})(s,i)}catch(r){at(Ar,"Failed to raise snapshot:",r),await pc(s,r)}}async function pc(s,e,i){if(!zs(e))throw e;s.Ea.add(1),await mo(s),s.Va.set("Offline"),i||(i=()=>f0(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{at(Ar,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Vc(s)}))}function _0(s,e){return e().catch((i=>pc(s,i,e)))}async function Nc(s){const e=vt(s),i=za(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ad;for(;ub(e);)try{const o=await H2(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,cb(e,o)}catch(o){await pc(e,o)}v0(e)&&E0(e)}function ub(s){return br(s)&&s.Ta.length<10}function cb(s,e){s.Ta.push(e);const i=za(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function v0(s){return br(s)&&!za(s).x_()&&s.Ta.length>0}function E0(s){za(s).start()}async function hb(s){za(s).ra()}async function fb(s){const e=za(s);for(const i of s.Ta)e.ea(i.mutations)}async function db(s,e,i){const r=s.Ta.shift(),o=Nd.from(r,e,i);await _0(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Nc(s)}async function mb(s,e){e&&za(s).Y_&&await(async function(r,o){if((function(d){return KS(d)&&d!==K.ABORTED})(o.code)){const h=r.Ta.shift();za(r).B_(),await _0(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Nc(r)}})(s,e),v0(s)&&E0(s)}async function O_(s,e){const i=vt(s);i.asyncQueue.verifyOperationInProgress(),at(Ar,"RemoteStore received new credentials");const r=br(i);i.Ea.add(3),await mo(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Vc(i)}async function gb(s,e){const i=vt(s);e?(i.Ea.delete(2),await Vc(i)):e||(i.Ea.add(2),await mo(i),i.Va.set("Unknown"))}function Ls(s){return s.ma||(s.ma=(function(i,r,o){const h=vt(i);return h.sa(),new $2(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(s.datastore,s.asyncQueue,{Zo:rb.bind(null,s),Yo:sb.bind(null,s),t_:lb.bind(null,s),J_:ob.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),Pd(s)?jd(s):s.Va.set("Unknown")):(await s.ma.stop(),y0(s))}))),s.ma}function za(s){return s.fa||(s.fa=(function(i,r,o){const h=vt(i);return h.sa(),new W2(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:hb.bind(null,s),t_:mb.bind(null,s),ta:fb.bind(null,s),na:db.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Nc(s)):(await s.fa.stop(),s.Ta.length>0&&(at(Ar,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,i,r,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=h,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,h){const d=Date.now()+r,y=new qd(e,i,d,o,h);return y.start(r),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kd(s,e){if(Gi("AsyncQueue",`${e}: ${s}`),zs(s))return new it(K.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{static emptySet(e){return new Ss(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||ct.comparator(i.key,r.key):(i,r)=>ct.comparator(i.key,r.key),this.keyedMap=Ql(),this.sortedSet=new se(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ss)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Ss;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(){this.ga=new se(ct.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ft(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Vs{constructor(e,i,r,o,h,d,y,v,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,o,h){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new Vs(e,i,Ss.emptySet(i),d,r,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class yb{constructor(){this.queries=M_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=vt(i),h=o.queries;o.queries=M_(),h.forEach(((d,y)=>{for(const v of y.ba)v.onError(r)}))})(this,new it(K.ABORTED,"Firestore shutting down"))}}function M_(){return new Sr((s=>Pv(s)),Sc)}async function _b(s,e){const i=vt(s);let r=3;const o=e.query;let h=i.queries.get(o);h?!h.Sa()&&e.Da()&&(r=2):(h=new pb,r=e.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const y=kd(d,`Initialization of query '${_s(e.query)}' failed`);return void e.onError(y)}i.queries.set(o,h),h.ba.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Hd(i)}async function vb(s,e){const i=vt(s),r=e.query;let o=3;const h=i.queries.get(r);if(h){const d=h.ba.indexOf(e);d>=0&&(h.ba.splice(d,1),h.ba.length===0?o=e.Da()?0:1:!h.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function Eb(s,e){const i=vt(s);let r=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const y of d.ba)y.Fa(o)&&(r=!0);d.wa=o}}r&&Hd(i)}function Tb(s,e,i){const r=vt(s),o=r.queries.get(e);if(o)for(const h of o.ba)h.onError(i);r.queries.delete(e)}function Hd(s){s.Ca.forEach((e=>{e.next()}))}var dd,z_;(z_=dd||(dd={})).Ma="default",z_.Cache="cache";class Ab{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Vs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Vs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==dd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e){this.key=e}}class A0{constructor(e){this.key=e}}class Sb{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Vt(),this.mutatedKeys=Vt(),this.eu=qv(e),this.tu=new Ss(this.eu)}get nu(){return this.Za}ru(e,i){const r=i?i.iu:new x_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,y=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,R)=>{const V=o.get(A),G=bc(this.query,R)?R:null,$=!!V&&this.mutatedKeys.has(V.key),nt=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let tt=!1;V&&G?V.data.isEqual(G.data)?$!==nt&&(r.track({type:3,doc:G}),tt=!0):this.su(V,G)||(r.track({type:2,doc:G}),tt=!0,(v&&this.eu(G,v)>0||_&&this.eu(G,_)<0)&&(y=!0)):!V&&G?(r.track({type:0,doc:G}),tt=!0):V&&!G&&(r.track({type:1,doc:V}),tt=!0,(v||_)&&(y=!0)),tt&&(G?(d=d.add(G),h=nt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Ss:y,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,R)=>(function(G,$){const nt=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft(20277,{Vt:tt})}};return nt(G)-nt($)})(A.type,R.type)||this.eu(A.doc,R.doc))),this.ou(r),o=o??!1;const y=i&&!o?this._u():[],v=this.Ya.size===0&&this.current&&!o?1:0,_=v!==this.Xa;return this.Xa=v,d.length!==0||_?{snapshot:new Vs(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new x_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Vt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return e.forEach((r=>{this.Ya.has(r)||i.push(new A0(r))})),this.Ya.forEach((r=>{e.has(r)||i.push(new T0(r))})),i}cu(e){this.Za=e.ks,this.Ya=Vt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Vs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Gd="SyncEngine";class bb{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class Rb{constructor(e){this.key=e,this.hu=!1}}class wb{constructor(e,i,r,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Sr((y=>Pv(y)),Sc),this.Iu=new Map,this.Eu=new Set,this.Ru=new se(ct.comparator),this.Au=new Map,this.Vu=new xd,this.du={},this.mu=new Map,this.fu=Ds.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Cb(s,e,i=!0){const r=D0(s);let o;const h=r.Tu.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await S0(r,e,i,!0),o}async function Db(s,e){const i=D0(s);await S0(i,e,!0,!1)}async function S0(s,e,i,r){const o=await G2(s.localStore,yi(e)),h=o.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let y;return r&&(y=await Vb(s,e,h,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&g0(s.remoteStore,o),y}async function Vb(s,e,i,r,o){s.pu=(R,V,G)=>(async function(nt,tt,dt,yt){let mt=tt.view.ru(dt);mt.Ss&&(mt=await C_(nt.localStore,tt.query,!1).then((({documents:D})=>tt.view.ru(D,mt))));const Bt=yt&&yt.targetChanges.get(tt.targetId),jt=yt&&yt.targetMismatches.get(tt.targetId)!=null,Nt=tt.view.applyChanges(mt,nt.isPrimaryClient,Bt,jt);return L_(nt,tt.targetId,Nt.au),Nt.snapshot})(s,R,V,G);const h=await C_(s.localStore,e,!0),d=new Sb(e,h.ks),y=d.ru(h.documents),v=fo.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),_=d.applyChanges(y,s.isPrimaryClient,v);L_(s,i,_.au);const A=new bb(e,i,d);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function Nb(s,e,i){const r=vt(s),o=r.Tu.get(e),h=r.Iu.get(o.targetId);if(h.length>1)return r.Iu.set(o.targetId,h.filter((d=>!Sc(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await hd(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Ld(r.remoteStore,o.targetId),md(r,o.targetId)})).catch(Ms)):(md(r,o.targetId),await hd(r.localStore,o.targetId,!0))}async function Ib(s,e){const i=vt(s),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Ld(i.remoteStore,r.targetId))}async function Ob(s,e,i){const r=jb(s);try{const o=await(function(d,y){const v=vt(d),_=ne.now(),A=y.reduce(((G,$)=>G.add($.key)),Vt());let R,V;return v.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let $=Fi(),nt=Vt();return v.xs.getEntries(G,A).next((tt=>{$=tt,$.forEach(((dt,yt)=>{yt.isValidDocument()||(nt=nt.add(dt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(G,$))).next((tt=>{R=tt;const dt=[];for(const yt of y){const mt=HS(yt,R.get(yt.key).overlayedDocument);mt!=null&&dt.push(new Ba(yt.key,mt,Ov(mt.value.mapValue),Fn.exists(!0)))}return v.mutationQueue.addMutationBatch(G,_,dt,y)})).next((tt=>{V=tt;const dt=tt.applyToLocalDocumentSet(R,nt);return v.documentOverlayCache.saveOverlays(G,tt.batchId,dt)}))})).then((()=>({batchId:V.batchId,changes:Hv(R)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,y,v){let _=d.du[d.currentUser.toKey()];_||(_=new se(Dt)),_=_.insert(y,v),d.du[d.currentUser.toKey()]=_})(r,o.batchId,i),await go(r,o.changes),await Nc(r.remoteStore)}catch(o){const h=kd(o,"Failed to persist write");i.reject(h)}}async function b0(s,e){const i=vt(s);try{const r=await q2(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?kt(d.hu,14607):o.removedDocuments.size>0&&(kt(d.hu,42227),d.hu=!1))})),await go(i,r,e)}catch(r){await Ms(r)}}function U_(s,e,i){const r=vt(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((h,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const v=vt(d);v.onlineState=y;let _=!1;v.queries.forEach(((A,R)=>{for(const V of R.ba)V.va(y)&&(_=!0)})),_&&Hd(v)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xb(s,e,i){const r=vt(s);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),h=o&&o.key;if(h){let d=new se(ct.comparator);d=d.insert(h,Xe.newNoDocument(h,pt.min()));const y=Vt().add(h),v=new Cc(pt.min(),new Map,new se(Dt),d,y);await b0(r,v),r.Ru=r.Ru.remove(h),r.Au.delete(e),Fd(r)}else await hd(r.localStore,e,!1).then((()=>md(r,e,i))).catch(Ms)}async function Mb(s,e){const i=vt(s),r=e.batch.batchId;try{const o=await P2(i.localStore,e);w0(i,r,null),R0(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await go(i,o)}catch(o){await Ms(o)}}async function zb(s,e,i){const r=vt(s);try{const o=await(function(d,y){const v=vt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,y).next((R=>(kt(R!==null,37113),A=R.keys(),v.mutationQueue.removeMutationBatch(_,R)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(r.localStore,e);w0(r,e,i),R0(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await go(r,o)}catch(o){await Ms(o)}}function R0(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function w0(s,e,i){const r=vt(s);let o=r.du[r.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function md(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||C0(s,r)}))}function C0(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(Ld(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),Fd(s))}function L_(s,e,i){for(const r of i)r instanceof T0?(s.Vu.addReference(r.key,e),Ub(s,r)):r instanceof A0?(at(Gd,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||C0(s,r.key)):ft(19791,{wu:r})}function Ub(s,e){const i=e.key,r=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(r)||(at(Gd,"New document in limbo: "+i),s.Eu.add(r),Fd(s))}function Fd(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ct(Wt.fromString(e)),r=s.fu.next();s.Au.set(r,new Rb(i)),s.Ru=s.Ru.insert(i,r),g0(s.remoteStore,new Ra(yi(Cd(i.path)),r,"TargetPurposeLimboResolution",Ec.ce))}}async function go(s,e,i){const r=vt(s),o=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((y,v)=>{d.push(r.pu(v,e,i).then((_=>{var A;if((_||i)&&r.isPrimaryClient){const R=_?!_.fromCache:(A=i==null?void 0:i.targetChanges.get(v.targetId))==null?void 0:A.current;r.sharedClientState.updateQueryState(v.targetId,R?"current":"not-current")}if(_){o.push(_);const R=zd.Es(v.targetId,_);h.push(R)}})))})),await Promise.all(d),r.Pu.J_(o),await(async function(v,_){const A=vt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(R=>X.forEach(_,(V=>X.forEach(V.Ts,(G=>A.persistence.referenceDelegate.addReference(R,V.targetId,G))).next((()=>X.forEach(V.Is,(G=>A.persistence.referenceDelegate.removeReference(R,V.targetId,G)))))))))}catch(R){if(!zs(R))throw R;at(Ud,"Failed to update sequence numbers: "+R)}for(const R of _){const V=R.targetId;if(!R.fromCache){const G=A.vs.get(V),$=G.snapshotVersion,nt=G.withLastLimboFreeSnapshotVersion($);A.vs=A.vs.insert(V,nt)}}})(r.localStore,h))}async function Lb(s,e){const i=vt(s);if(!i.currentUser.isEqual(e)){at(Gd,"User change. New user:",e.toKey());const r=await h0(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((y=>{y.forEach((v=>{v.reject(new it(K.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await go(i,r.Ns)}}function Bb(s,e){const i=vt(s),r=i.Au.get(e);if(r&&r.hu)return Vt().add(r.key);{let o=Vt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const y=i.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function D0(s){const e=vt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=b0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xb.bind(null,e),e.Pu.J_=Eb.bind(null,e.eventManager),e.Pu.yu=Tb.bind(null,e.eventManager),e}function jb(s){const e=vt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Mb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zb.bind(null,e),e}class yc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return j2(this.persistence,new U2,e.initialUser,this.serializer)}Cu(e){return new c0(Md.Vi,this.serializer)}Du(e){return new Q2}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yc.provider={build:()=>new yc};class Pb extends yc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){kt(this.persistence.referenceDelegate instanceof gc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new T2(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new c0((r=>gc.Vi(r,i)),this.serializer)}}class gd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>U_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Lb.bind(null,this.syncEngine),await gb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new yb})()}createDatastore(e){const i=Dc(e.databaseInfo.databaseId),r=J2(e.databaseInfo);return nb(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,h,d,y){return new ab(r,o,h,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>U_(this.syncEngine,i,0)),(function(){return N_.v()?new N_:new Y2})())}createSyncEngine(e,i){return(function(o,h,d,y,v,_,A){const R=new wb(o,h,d,y,v,_);return A&&(R.gu=!0),R})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(o){const h=vt(o);at(Ar,"RemoteStore shutting down."),h.Ea.add(5),await mo(h),h.Aa.shutdown(),h.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}gd.provider={build:()=>new gd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Gi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua="FirestoreClient";class kb{constructor(e,i,r,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=o,this.user=Ke.UNAUTHENTICATED,this.clientId=Td.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{at(Ua,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(at(Ua,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=kd(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Qf(s,e){s.asyncQueue.verifyOperationInProgress(),at(Ua,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await h0(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function B_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await Hb(s);at(Ua,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>O_(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>O_(e.remoteStore,o))),s._onlineComponents=e}async function Hb(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){at(Ua,"Using user provided OfflineComponentProvider");try{await Qf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Tr("Error using user provided cache. Falling back to memory cache: "+i),await Qf(s,new yc)}}else at(Ua,"Using default OfflineComponentProvider"),await Qf(s,new Pb(void 0));return s._offlineComponents}async function V0(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(at(Ua,"Using user provided OnlineComponentProvider"),await B_(s,s._uninitializedComponentsProvider._online)):(at(Ua,"Using default OnlineComponentProvider"),await B_(s,new gd))),s._onlineComponents}function Gb(s){return V0(s).then((e=>e.syncEngine))}async function j_(s){const e=await V0(s),i=e.eventManager;return i.onListen=Cb.bind(null,e.syncEngine),i.onUnlisten=Nb.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Db.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Ib.bind(null,e.syncEngine),i}function Fb(s,e,i,r){const o=new qb(r),h=new Ab(e,o,i);return s.asyncQueue.enqueueAndForget((async()=>_b(await j_(s),h))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>vb(await j_(s),h)))}}function Qb(s,e){const i=new _r;return s.asyncQueue.enqueueAndForget((async()=>Ob(await Gb(s),e,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="ComponentProvider",P_=new Map;function Kb(s,e,i,r,o){return new hS(s,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,N0(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="firestore.googleapis.com",q_=!0;class k_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new it(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=I0,this.ssl=q_}else this.host=e.host,this.ssl=e.ssl??q_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=u0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<v2)throw new it(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=N0(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new it(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new it(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new it(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ic{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new k_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new it(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new k_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new GA;switch(r.type){case"firstParty":return new KA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new it(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=P_.get(i);r&&(at(Yb,"Removing Datastore"),P_.delete(i),r.terminate())})(this),Promise.resolve()}}function Xb(s,e,i,r={}){var _;s=Va(s,Ic);const o=_d(e),h=s._getSettings(),d={...h,emulatorOptions:s._getEmulatorOptions()},y=`${e}:${i}`;o&&(pT(`https://${y}`),ET("Firestore",!0)),h.host!==I0&&h.host!==y&&Tr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:y,ssl:o,emulatorOptions:r};if(!sc(v,d)&&(s._setSettings(v),r.mockUserToken)){let A,R;if(typeof r.mockUserToken=="string")A=r.mockUserToken,R=Ke.MOCK_USER;else{A=yT(r.mockUserToken,(_=s._app)==null?void 0:_.options.projectId);const V=r.mockUserToken.sub||r.mockUserToken.user_id;if(!V)throw new it(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new Ke(V)}s._authCredentials=new FA(new Ev(A,R))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Rr(this.firestore,e,this._query)}}class De{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Na(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new De(this.firestore,e,this._key)}toJSON(){return{type:De._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(co(i,De._jsonSchema))return new De(e,r||null,new ct(Wt.fromString(i.referencePath)))}}De._jsonSchemaVersion="firestore/documentReference/1.0",De._jsonSchema={type:Ce("string",De._jsonSchemaVersion),referencePath:Ce("string")};class Na extends Rr{constructor(e,i,r){super(e,i,Cd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new De(this.firestore,null,new ct(e))}withConverter(e){return new Na(this.firestore,e,this._path)}}function O0(s,e,...i){if(s=Ei(s),Tv("collection","path",e),s instanceof Ic){const r=Wt.fromString(e,...i);return t_(r),new Na(s,null,r)}{if(!(s instanceof De||s instanceof Na))throw new it(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Wt.fromString(e,...i));return t_(r),new Na(s.firestore,null,r)}}function Qd(s,e,...i){if(s=Ei(s),arguments.length===1&&(e=Td.newId()),Tv("doc","path",e),s instanceof Ic){const r=Wt.fromString(e,...i);return Wy(r),new De(s,null,new ct(r))}{if(!(s instanceof De||s instanceof Na))throw new it(K.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Wt.fromString(e,...i));return Wy(r),new De(s.firestore,s instanceof Na?s.converter:null,new ct(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="AsyncQueue";class G_{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new d0(this,"async_queue_retry"),this._c=()=>{const r=Ff();r&&at(H_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Ff();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Ff();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new _r;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!zs(e))throw e;at(H_,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Gi("INTERNAL UNHANDLED ERROR: ",F_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=qd.createAndSchedule(this,e,i,r,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&ft(47125,{Pc:F_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function F_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Ns extends Ic{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new G_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new G_(e),this._firestoreClient=void 0,await e}}}function Q_(s,e){const i=typeof s=="object"?s:NA(),r=typeof s=="string"?s:uc,o=RA(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const h=mT("firestore");h&&Xb(o,...h)}return o}function x0(s){if(s._terminated)throw new it(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Zb(s),s._firestoreClient}function Zb(s){var r,o,h,d;const e=s._freezeSettings(),i=Kb(s._databaseId,((r=s._app)==null?void 0:r.options.appId)||"",s._persistenceKey,(o=s._app)==null?void 0:o.options.apiKey,e);s._componentsProvider||(h=e.localCache)!=null&&h._offlineComponentProvider&&((d=e.localCache)!=null&&d._onlineComponentProvider)&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new kb(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(v){const _=v==null?void 0:v._online.build();return{_offline:v==null?void 0:v._offline.build(_),_online:_}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this._byteString=e}static fromBase64String(e){try{return new On(Fe.fromBase64String(e))}catch(i){throw new it(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new On(Fe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(co(e,On._jsonSchema))return On.fromBase64String(e.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:Ce("string",On._jsonSchemaVersion),bytes:Ce("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new it(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new it(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new it(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Dt(this._lat,e._lat)||Dt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vi._jsonSchemaVersion}}static fromJSON(e){if(co(e,vi._jsonSchema))return new vi(e.latitude,e.longitude)}}vi._jsonSchemaVersion="firestore/geoPoint/1.0",vi._jsonSchema={type:Ce("string",vi._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Qn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(co(e,Qn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Qn(e.vectorValues);throw new it(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qn._jsonSchemaVersion="firestore/vectorValue/1.0",Qn._jsonSchema={type:Ce("string",Qn._jsonSchemaVersion),vectorValues:Ce("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=/^__.*__$/;class $b{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Ba(e,this.data,this.fieldMask,i,this.fieldTransforms):new ho(e,this.data,i,this.fieldTransforms)}}class M0{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new Ba(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function z0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft(40011,{dataSource:s})}}class Xd{constructor(e,i,r,o,h,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,h===void 0&&this.validatePath(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Xd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var o;const i=(o=this.path)==null?void 0:o.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var o;const i=(o=this.path)==null?void 0:o.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return _c(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(z0(this.dataSource)&&Jb.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class Wb{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Dc(e)}createContext(e,i,r,o=!1){return new Xd({dataSource:e,methodName:i,targetDoc:r,path:Ge.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zd(s){const e=s._freezeSettings(),i=Dc(s._databaseId);return new Wb(s._databaseId,!!e.ignoreUndefinedProperties,i)}function tR(s,e,i,r,o,h={}){const d=s.createContext(h.merge||h.mergeFields?2:0,e,i,o);Jd("Data must be an object, but it was:",d,r);const y=U0(r,d);let v,_;if(h.merge)v=new _n(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const R of h.mergeFields){const V=Is(e,R,i);if(!d.contains(V))throw new it(K.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);j0(A,V)||A.push(V)}v=new _n(A),_=d.fieldTransforms.filter((R=>v.covers(R.field)))}else v=null,_=d.fieldTransforms;return new $b(new on(y),v,_)}class Oc extends Kd{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Oc}}function eR(s,e,i,r){const o=s.createContext(1,e,i);Jd("Data must be an object, but it was:",o,r);const h=[],d=on.empty();La(r,((v,_)=>{const A=B0(e,v,i);_=Ei(_);const R=o.childContextForFieldPath(A);if(_ instanceof Oc)h.push(A);else{const V=po(_,R);V!=null&&(h.push(A),d.set(A,V))}}));const y=new _n(h);return new M0(d,y,o.fieldTransforms)}function nR(s,e,i,r,o,h){const d=s.createContext(1,e,i),y=[Is(e,r,i)],v=[o];if(h.length%2!=0)throw new it(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<h.length;V+=2)y.push(Is(e,h[V])),v.push(h[V+1]);const _=[],A=on.empty();for(let V=y.length-1;V>=0;--V)if(!j0(_,y[V])){const G=y[V];let $=v[V];$=Ei($);const nt=d.childContextForFieldPath(G);if($ instanceof Oc)_.push(G);else{const tt=po($,nt);tt!=null&&(_.push(G),A.set(G,tt))}}const R=new _n(_);return new M0(A,R,d.fieldTransforms)}function iR(s,e,i,r=!1){return po(i,s.createContext(r?4:3,e))}function po(s,e){if(L0(s=Ei(s)))return Jd("Unsupported field value:",e,s),U0(s,e);if(s instanceof Kd)return(function(r,o){if(!z0(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const h=[];let d=0;for(const y of r){let v=po(y,o.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(s,e)}return(function(r,o){if((r=Ei(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return LS(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=ne.fromDate(r);return{timestampValue:mc(o.serializer,h)}}if(r instanceof ne){const h=new ne(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mc(o.serializer,h)}}if(r instanceof vi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof On)return{bytesValue:e0(o.serializer,r._byteString)};if(r instanceof De){const h=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Od(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Qn)return(function(d,y){const v=d instanceof Qn?d.toArray():d;return{mapValue:{fields:{[Nv]:{stringValue:Iv},[cc]:{arrayValue:{values:v.map((A=>{if(typeof A!="number")throw y.createError("VectorValues must only contain numeric values.");return Dd(y.serializer,A)}))}}}}}})(r,o);if(o0(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${vc(r)}`)})(s,e)}function U0(s,e){const i={};return bv(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):La(s,((r,o)=>{const h=po(o,e.childContextForField(r));h!=null&&(i[r]=h)})),{mapValue:{fields:i}}}function L0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ne||s instanceof vi||s instanceof On||s instanceof De||s instanceof Kd||s instanceof Qn||o0(s))}function Jd(s,e,i){if(!L0(i)||!Av(i)){const r=vc(i);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function Is(s,e,i){if((e=Ei(e))instanceof Yd)return e._internalPath;if(typeof e=="string")return B0(s,e);throw _c("Field path arguments must be of type string or ",s,!1,void 0,i)}const aR=new RegExp("[~\\*/\\[\\]]");function B0(s,e,i){if(e.search(aR)>=0)throw _c(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Yd(...e.split("."))._internalPath}catch{throw _c(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function _c(s,e,i,r,o){const h=r&&!r.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${r}`),d&&(v+=` in document ${o}`),v+=")"),new it(K.INVALID_ARGUMENT,y+s+v)}function j0(s,e){return s.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{convertValue(e,i="none"){switch(Ma(e)){case 0:return null;case 1:return e.booleanValue;case 2:return me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(xa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ft(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return La(e,((o,h)=>{r[o]=this.convertValue(h,i)})),r}convertVectorValue(e){var r,o,h;const i=(h=(o=(r=e.fields)==null?void 0:r[cc].arrayValue)==null?void 0:o.values)==null?void 0:h.map((d=>me(d.doubleValue)));return new Qn(i)}convertGeoPoint(e){return new vi(me(e.latitude),me(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Ac(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(ao(e));default:return null}}convertTimestamp(e){const i=Oa(e);return new ne(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=Wt.fromString(e);kt(l0(r),9688,{name:e});const o=new ro(r.get(1),r.get(3)),h=new ct(r.popFirst(5));return o.isEqual(i)||Gi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0 extends rR{constructor(e){super(),this.firestore=e}convertBytes(e){return new On(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new De(this.firestore,null,i)}}const Y_="@firebase/firestore",K_="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of r)if(h in o&&typeof o[h]=="function")return!0;return!1})(s,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,i,r,o,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new De(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const i=this._document.data.field(Is("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class sR extends q0{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new it(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $d{}class k0 extends $d{}function oR(s,e,...i){let r=[];e instanceof $d&&r.push(e),r=r.concat(i),(function(h){const d=h.filter((v=>v instanceof tm)).length,y=h.filter((v=>v instanceof Wd)).length;if(d>1||d>0&&y>0)throw new it(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class Wd extends k0{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new Wd(e,i,r)}_apply(e){const i=this._parse(e);return H0(e._query,i),new Rr(e.firestore,e.converter,rd(e._query,i))}_parse(e){const i=Zd(e.firestore);return(function(h,d,y,v,_,A,R){let V;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new it(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){J_(R,A);const $=[];for(const nt of R)$.push(Z_(v,h,nt));V={arrayValue:{values:$}}}else V=Z_(v,h,R)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||J_(R,A),V=iR(y,d,R,A==="in"||A==="not-in");return we.create(_,A,V)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class tm extends $d{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new tm(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:Yn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,h){let d=o;const y=h.getFlattenedFilters();for(const v of y)H0(d,v),d=rd(d,v)})(e._query,i),new Rr(e.firestore,e.converter,rd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class em extends k0{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new em(e,i)}_apply(e){const i=(function(o,h,d){if(o.startAt!==null)throw new it(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new it(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lo(h,d)})(e._query,this._field,this._direction);return new Rr(e.firestore,e.converter,VS(e._query,i))}}function uR(s,e="asc"){const i=e,r=Is("orderBy",s);return em._create(r,i)}function Z_(s,e,i){if(typeof(i=Ei(i))=="string"){if(i==="")throw new it(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jv(e)&&i.indexOf("/")!==-1)throw new it(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(Wt.fromString(i));if(!ct.isDocumentKey(r))throw new it(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return o_(s,new ct(r))}if(i instanceof De)return o_(s,i._key);throw new it(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vc(i)}.`)}function J_(s,e){if(!Array.isArray(s)||s.length===0)throw new it(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function H0(s,e){const i=(function(o,h){for(const d of o)for(const y of d.getFlattenedFilters())if(h.indexOf(y.op)>=0)return y.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new it(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new it(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}function cR(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class Kl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vr extends q0{constructor(e,i,r,o,h,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new ac(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Is("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=vr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}vr._jsonSchemaVersion="firestore/documentSnapshot/1.0",vr._jsonSchema={type:Ce("string",vr._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class ac extends vr{data(e={}){return super.data(e)}}class bs{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Kl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new ac(this._firestore,this._userDataWriter,r.key,r,new Kl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new it(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const v=new ac(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Kl(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const v=new ac(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Kl(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),A=d.indexOf(y.doc.key)),{type:hR(y.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=bs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Td.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function hR(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft(61501,{type:s})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bs._jsonSchemaVersion="firestore/querySnapshot/1.0",bs._jsonSchema={type:Ce("string",bs._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};function fR(s,e,i,...r){s=Va(s,De);const o=Va(s.firestore,Ns),h=Zd(o);let d;return d=typeof(e=Ei(e))=="string"||e instanceof Yd?nR(h,"updateDoc",s._key,e,i,r):eR(h,"updateDoc",s._key,e),nm(o,[d.toMutation(s._key,Fn.exists(!0))])}function dR(s){return nm(Va(s.firestore,Ns),[new Vd(s._key,Fn.none())])}function mR(s,e){const i=Va(s.firestore,Ns),r=Qd(s),o=cR(s.converter,e),h=Zd(s.firestore);return nm(i,[tR(h,"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,Fn.exists(!1))]).then((()=>r))}function gR(s,...e){var _,A,R;s=Ei(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||X_(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(X_(e[r])){const V=e[r];e[r]=(_=V.next)==null?void 0:_.bind(V),e[r+1]=(A=V.error)==null?void 0:A.bind(V),e[r+2]=(R=V.complete)==null?void 0:R.bind(V)}let h,d,y;if(s instanceof De)d=Va(s.firestore,Ns),y=Cd(s._key.path),h={next:V=>{e[r]&&e[r](pR(d,s,V))},error:e[r+1],complete:e[r+2]};else{const V=Va(s,Rr);d=Va(V.firestore,Ns),y=V._query;const G=new P0(d);h={next:$=>{e[r]&&e[r](new bs(d,G,V,$))},error:e[r+1],complete:e[r+2]},lR(s._query)}const v=x0(d);return Fb(v,y,o,h)}function nm(s,e){const i=x0(s);return Qb(i,e)}function pR(s,e,i){const r=i.docs.get(e._key),o=new P0(s);return new vr(s,o,e._key,r,new Kl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){HA(VA),lc(new to("firestore",((r,{instanceIdentifier:o,options:h})=>{const d=r.getProvider("app").getImmediate(),y=new Ns(new QA(r.getProvider("auth-internal")),new XA(d,r.getProvider("app-check-internal")),fS(d,o),d);return h={useFetchStreams:i,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),Ts(Y_,K_,e),Ts(Y_,K_,"esm2020")})();const yR="1fd79fbbb8b79c760bd583874990387d",_R={apiKey:"AIzaSyBNj_S0MjDgSf8bogCfwuRS_CuKdxp8ISM",authDomain:"magikon-shop-5cfa7.firebaseapp.com",projectId:"magikon-shop-5cfa7",storageBucket:"magikon-shop-5cfa7.firebasestorage.app",messagingSenderId:"788573062281",appId:"1:788573062281:web:38e4b8f2a1b4b39cff3258",measurementId:"G-C7B97NY3EW"},vR="magikon_shop_config",G0=()=>{try{const s=localStorage.getItem(vR);return s?JSON.parse(s):null}catch{return null}};let Ju,Ai;const ER=()=>{if(Qy().length>0)return Ju=Qy()[0],Ai=Q_(Ju),!0;try{const e=G0()||_R;return Ju=cv(e),Ai=Q_(Ju),!0}catch(s){return console.error("Erro na inicializao do Firebase:",s),!1}};ER();const $u="products",Yf="categories",$_=(s,e)=>{if(!Ai)return()=>{};const i=oR(O0(Ai,s),uR("createdAt","desc"));return gR(i,r=>{const o=r.docs.map(h=>({id:h.id,...h.data()}));e(o)})},W_=async(s,e)=>{if(!Ai)throw new Error("Banco de dados no conectado.");await mR(O0(Ai,s),{...e,createdAt:Date.now()})},TR=async(s,e,i)=>{if(!Ai)throw new Error("Banco de dados no conectado");const r=Qd(Ai,s,e);await fR(r,{...i,updatedAt:Date.now()})},tv=async(s,e)=>{if(!Ai)throw new Error("Banco de dados no conectado");await dR(Qd(Ai,s,e))},AR=async s=>{var o;const e=G0(),i=(e==null?void 0:e.imgbbApiKey)||yR;if(i==="SUA_CHAVE_IMGBB_AQUI")throw new Error("Chave de API do ImgBB no configurada.");const r=new FormData;r.append("image",s);try{const d=await(await fetch(`https://api.imgbb.com/1/upload?key=${i}`,{method:"POST",body:r})).json();if(!d.success)throw new Error(((o=d.error)==null?void 0:o.message)||"Falha no upload da imagem");return d.data.url}catch(h){throw console.error("Erro no upload ImgBB:",h),new Error("Falha ao conectar com ImgBB.")}};function SR(){const[s,e]=Re.useState([]),[i,r]=Re.useState([]),[o,h]=Re.useState(""),[d,y]=Re.useState(!1),[v,_]=Re.useState(!1),[A,R]=Re.useState(!1),[V,G]=Re.useState(null),[$,nt]=Re.useState(""),[tt,dt]=Re.useState(""),[yt,mt]=Re.useState(null),[Bt,jt]=Re.useState(null),[Nt,D]=Re.useState("");Re.useEffect(()=>{const z=$_($u,lt=>e(lt)),J=$_(Yf,lt=>r(lt));return()=>{z(),J()}},[]);const S=z=>{z?(G(z),nt(z.name),dt(z.categoryId),jt(z.imageUrl),mt(null)):(G(null),nt(""),dt(""),jt(null),mt(null)),_(!0)},C=z=>{if(z.target.files&&z.target.files[0]){const J=z.target.files[0];mt(J),jt(URL.createObjectURL(J))}},x=async z=>{if(z.preventDefault(),!(!$||!tt)){y(!0);try{let J=(V==null?void 0:V.imageUrl)||"";yt?J=await AR(yt):J||(J=`https://picsum.photos/seed/${encodeURIComponent($)}/400/400`);const lt={name:$,categoryId:tt,imageUrl:J};V?await TR($u,V.id,lt):await W_($u,lt),_(!1)}catch(J){console.error(J),alert("Erro ao salvar produto: "+J.message)}finally{y(!1)}}},I=async z=>{confirm("Tem certeza que deseja excluir este produto?")&&await tv($u,z)},U=async z=>{if(z.preventDefault(),!!Nt){y(!0);try{await W_(Yf,{name:Nt}),D("")}catch(J){console.error(J),alert("Erro ao criar categoria.")}finally{y(!1)}}},b=async z=>{confirm("Excluir categoria? Produtos relacionados podem ficar sem categoria.")&&await tv(Yf,z)},$t=z=>{var J;return((J=i.find(lt=>lt.id===z))==null?void 0:J.name)||"Sem categoria"},ue=s.filter(z=>z.name.toLowerCase().includes(o.toLowerCase()));return Z.jsxs(iT,{children:[Z.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[Z.jsxs("div",{className:"relative w-full md:max-w-md",children:[Z.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Z.jsx(J1,{className:"text-zinc-500",size:18})}),Z.jsx("input",{type:"text",placeholder:"Buscar produtos...",value:o,onChange:z=>h(z.target.value),className:"w-full bg-zinc-900 border border-zinc-800 rounded-lg pl-10 pr-4 py-2 text-sm text-zinc-200 focus:outline-none focus:ring-2 focus:ring-brand-500/50 focus:border-brand-500 placeholder-zinc-600"})]}),Z.jsxs("div",{className:"flex gap-3 shrink-0",children:[Z.jsxs(ps,{variant:"secondary",onClick:()=>R(!0),children:[Z.jsx(k1,{size:16,className:"mr-2"}),"Categorias"]}),Z.jsxs(ps,{onClick:()=>S(),children:[Z.jsx(My,{size:16,className:"mr-2"}),"Novo Produto"]})]})]}),s.length===0?Z.jsxs("div",{className:"text-center py-32 border border-dashed border-zinc-800 rounded-xl bg-zinc-900/20",children:[Z.jsx("div",{className:"mx-auto w-16 h-16 bg-zinc-800 rounded-full flex items-center justify-center text-zinc-400 mb-4",children:Z.jsx(Q1,{size:32})}),Z.jsx("h3",{className:"text-white text-lg font-medium",children:"Nenhum produto encontrado"}),Z.jsx("p",{className:"text-zinc-500 mt-2",children:"Comece adicionando itens ao seu inventrio."}),Z.jsx("div",{className:"flex justify-center gap-4 mt-6",children:Z.jsx(ps,{onClick:()=>S(),children:"Adicionar Produto"})})]}):Z.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-6",children:ue.map(z=>Z.jsxs("div",{className:"group bg-card border border-zinc-800 rounded-xl overflow-hidden hover:border-brand-500/30 hover:shadow-xl hover:shadow-brand-900/10 transition-all duration-300 flex flex-col",children:[Z.jsxs("div",{className:"relative aspect-square bg-zinc-900 overflow-hidden",children:[z.imageUrl?Z.jsx("img",{src:z.imageUrl,alt:z.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):Z.jsx("div",{className:"flex items-center justify-center h-full text-zinc-600",children:Z.jsx(G1,{size:32})}),Z.jsxs("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-3",children:[Z.jsx("button",{onClick:()=>S(z),className:"p-2 bg-zinc-900 text-white rounded-full shadow-lg hover:bg-brand-600 transition-colors",title:"Editar",children:Z.jsx(K1,{size:18})}),Z.jsx("button",{onClick:()=>I(z.id),className:"p-2 bg-zinc-900 text-red-500 rounded-full shadow-lg hover:bg-red-500 hover:text-white transition-colors",title:"Excluir",children:Z.jsx(zy,{size:18})})]})]}),Z.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[Z.jsx("div",{className:"flex justify-between items-start mb-2 gap-2",children:Z.jsx("h3",{className:"font-semibold text-white truncate text-base",title:z.name,children:z.name})}),Z.jsx("div",{className:"flex items-center justify-between mb-3",children:Z.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-zinc-800 text-zinc-400 border border-zinc-700",children:$t(z.categoryId)})})]})]},z.id))}),Z.jsx(Ly,{isOpen:v,onClose:()=>_(!1),title:V?"Editar Produto":"Novo Produto",children:Z.jsxs("form",{onSubmit:x,className:"space-y-5",children:[Z.jsxs("div",{className:"w-full",children:[Z.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-2 uppercase tracking-wider",children:"Imagem do Produto"}),Z.jsxs("div",{className:`
                relative border-2 border-dashed border-zinc-700 rounded-lg h-48 flex flex-col items-center justify-center text-center
                hover:border-brand-500 hover:bg-zinc-800/50 transition-colors cursor-pointer group overflow-hidden
                ${Bt?"border-brand-500/50 bg-zinc-900":""}
              `,children:[Z.jsx("input",{type:"file",accept:"image/*",onChange:C,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"}),Bt?Z.jsxs("div",{className:"w-full h-full relative",children:[Z.jsx("img",{src:Bt,alt:"Preview",className:"w-full h-full object-contain"}),Z.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center text-white text-sm font-medium",children:"Trocar Imagem"})]}):Z.jsxs("div",{className:"flex flex-col items-center p-4",children:[Z.jsx("div",{className:"w-10 h-10 bg-zinc-800 rounded-full flex items-center justify-center text-zinc-400 mb-3 group-hover:text-brand-400 transition-colors",children:Z.jsx(tT,{size:20})}),Z.jsx("p",{className:"text-sm text-zinc-300 font-medium",children:"Clique para fazer upload"}),Z.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"PNG, JPG ou GIF"})]})]})]}),Z.jsx(Uy,{label:"Nome do Produto",value:$,onChange:z=>nt(z.target.value),required:!0,placeholder:"Ex: Camiseta Preta"}),Z.jsxs("div",{children:[Z.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-1.5 uppercase tracking-wider",children:"Categoria"}),Z.jsxs("select",{value:tt,onChange:z=>dt(z.target.value),required:!0,className:"w-full bg-zinc-900 border border-zinc-800 rounded-md px-3 py-2 text-sm text-zinc-200 focus:outline-none focus:ring-2 focus:ring-brand-500/50 focus:border-brand-500 appearance-none",children:[Z.jsx("option",{value:"",children:"Selecione uma categoria (Obrigatrio)"}),i.map(z=>Z.jsx("option",{value:z.id,children:z.name},z.id))]})]}),Z.jsxs("div",{className:"flex justify-end pt-2 border-t border-zinc-800 mt-4",children:[Z.jsx(ps,{type:"button",variant:"ghost",className:"mr-2",onClick:()=>_(!1),children:"Cancelar"}),Z.jsx(ps,{type:"submit",isLoading:d,children:V?"Salvar Alteraes":"Criar Produto"})]})]})}),Z.jsx(Ly,{isOpen:A,onClose:()=>R(!1),title:"Gerenciar Categorias",children:Z.jsxs("div",{className:"space-y-6",children:[Z.jsxs("div",{className:"bg-zinc-900/50 p-4 rounded-lg border border-zinc-800",children:[Z.jsxs("h4",{className:"text-sm font-medium text-white mb-3 flex items-center",children:[Z.jsx(My,{size:14,className:"mr-1 text-brand-400"})," Nova Categoria"]}),Z.jsxs("form",{onSubmit:U,className:"space-y-3",children:[Z.jsx("div",{className:"grid grid-cols-1 gap-3",children:Z.jsx(Uy,{placeholder:"Nome (Ex: Roupas)",value:Nt,onChange:z=>D(z.target.value),className:"bg-zinc-950",required:!0})}),Z.jsx("div",{className:"flex justify-end",children:Z.jsx(ps,{type:"submit",size:"sm",isLoading:d,children:"Adicionar"})})]})]}),Z.jsxs("div",{children:[Z.jsx("h4",{className:"text-xs font-medium text-zinc-400 uppercase tracking-wider mb-2",children:"Categorias Existentes"}),Z.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2 pr-1 custom-scrollbar",children:i.length===0?Z.jsx("p",{className:"text-zinc-500 text-sm italic",children:"Nenhuma categoria cadastrada."}):i.map(z=>Z.jsxs("div",{className:"flex items-center justify-between p-3 bg-card border border-zinc-800 rounded-md hover:border-zinc-700 transition-colors group",children:[Z.jsx("div",{children:Z.jsx("div",{className:"font-medium text-zinc-200 text-sm",children:z.name})}),Z.jsx("button",{onClick:()=>b(z.id),className:"p-1.5 text-zinc-500 hover:text-red-400 hover:bg-red-500/10 rounded-md transition-colors opacity-0 group-hover:opacity-100",title:"Excluir Categoria",children:Z.jsx(zy,{size:14})})]},z.id))})]})]})})]})}const F0=document.getElementById("root");if(!F0)throw new Error("Could not find root element to mount to");const bR=x1.createRoot(F0);bR.render(Z.jsx(R1.StrictMode,{children:Z.jsx(SR,{})}));
